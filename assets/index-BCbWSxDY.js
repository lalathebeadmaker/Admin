var U0=i=>{throw TypeError(i)};var yp=(i,e,t)=>e.has(i)||U0("Cannot "+t);var P=(i,e,t)=>(yp(i,e,"read from private field"),t?t.call(i):e.get(i)),Ee=(i,e,t)=>e.has(i)?U0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),le=(i,e,t,s)=>(yp(i,e,"write to private field"),s?s.call(i,t):e.set(i,t),t),De=(i,e,t)=>(yp(i,e,"access private method"),t);var ed=(i,e,t,s)=>({set _(o){le(i,e,o,t)},get _(){return P(i,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Yb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var vp={exports:{}},ku={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function Ex(){if(z0)return ku;z0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:d,ref:o!==void 0?o:null,props:u}}return ku.Fragment=e,ku.jsx=t,ku.jsxs=t,ku}var q0;function bx(){return q0||(q0=1,vp.exports=Ex()),vp.exports}var v=bx(),_p={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function Tx(){if(B0)return Ie;B0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=T&&k[T]||k["@@iterator"],typeof k=="function"?k:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,F={};function O(k,ie,pe){this.props=k,this.context=ie,this.refs=F,this.updater=pe||N}O.prototype.isReactComponent={},O.prototype.setState=function(k,ie){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ie,"setState")},O.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function G(){}G.prototype=O.prototype;function Y(k,ie,pe){this.props=k,this.context=ie,this.refs=F,this.updater=pe||N}var X=Y.prototype=new G;X.constructor=Y,M(X,O.prototype),X.isPureReactComponent=!0;var oe=Array.isArray,se={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function V(k,ie,pe,ue,ce,Ne){return pe=Ne.ref,{$$typeof:i,type:k,key:ie,ref:pe!==void 0?pe:null,props:Ne}}function R(k,ie){return V(k.type,ie,void 0,void 0,void 0,k.props)}function A(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function I(k){var ie={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(pe){return ie[pe]})}var j=/\/+/g;function q(k,ie){return typeof k=="object"&&k!==null&&k.key!=null?I(""+k.key):ie.toString(36)}function D(){}function xt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(D,D):(k.status="pending",k.then(function(ie){k.status==="pending"&&(k.status="fulfilled",k.value=ie)},function(ie){k.status==="pending"&&(k.status="rejected",k.reason=ie)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function _t(k,ie,pe,ue,ce){var Ne=typeof k;(Ne==="undefined"||Ne==="boolean")&&(k=null);var Ce=!1;if(k===null)Ce=!0;else switch(Ne){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(k.$$typeof){case i:case e:Ce=!0;break;case b:return Ce=k._init,_t(Ce(k._payload),ie,pe,ue,ce)}}if(Ce)return ce=ce(k),Ce=ue===""?"."+q(k,0):ue,oe(ce)?(pe="",Ce!=null&&(pe=Ce.replace(j,"$&/")+"/"),_t(ce,ie,pe,"",function(ct){return ct})):ce!=null&&(A(ce)&&(ce=R(ce,pe+(ce.key==null||k&&k.key===ce.key?"":(""+ce.key).replace(j,"$&/")+"/")+Ce)),ie.push(ce)),1;Ce=0;var Et=ue===""?".":ue+":";if(oe(k))for(var He=0;He<k.length;He++)ue=k[He],Ne=Et+q(ue,He),Ce+=_t(ue,ie,pe,Ne,ce);else if(He=x(k),typeof He=="function")for(k=He.call(k),He=0;!(ue=k.next()).done;)ue=ue.value,Ne=Et+q(ue,He++),Ce+=_t(ue,ie,pe,Ne,ce);else if(Ne==="object"){if(typeof k.then=="function")return _t(xt(k),ie,pe,ue,ce);throw ie=String(k),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function ae(k,ie,pe){if(k==null)return k;var ue=[],ce=0;return _t(k,ue,"","",function(Ne){return ie.call(pe,Ne,ce++)}),ue}function we(k){if(k._status===-1){var ie=k._result;ie=ie(),ie.then(function(pe){(k._status===0||k._status===-1)&&(k._status=1,k._result=pe)},function(pe){(k._status===0||k._status===-1)&&(k._status=2,k._result=pe)}),k._status===-1&&(k._status=0,k._result=ie)}if(k._status===1)return k._result.default;throw k._result}var ve=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function $e(){}return Ie.Children={map:ae,forEach:function(k,ie,pe){ae(k,function(){ie.apply(this,arguments)},pe)},count:function(k){var ie=0;return ae(k,function(){ie++}),ie},toArray:function(k){return ae(k,function(ie){return ie})||[]},only:function(k){if(!A(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ie.Component=O,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=Y,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ie.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ie.cache=function(k){return function(){return k.apply(null,arguments)}},Ie.cloneElement=function(k,ie,pe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=M({},k.props),ce=k.key,Ne=void 0;if(ie!=null)for(Ce in ie.ref!==void 0&&(Ne=void 0),ie.key!==void 0&&(ce=""+ie.key),ie)!ye.call(ie,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ie.ref===void 0||(ue[Ce]=ie[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=pe;else if(1<Ce){for(var Et=Array(Ce),He=0;He<Ce;He++)Et[He]=arguments[He+2];ue.children=Et}return V(k.type,ce,void 0,void 0,Ne,ue)},Ie.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ie.createElement=function(k,ie,pe){var ue,ce={},Ne=null;if(ie!=null)for(ue in ie.key!==void 0&&(Ne=""+ie.key),ie)ye.call(ie,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ce[ue]=ie[ue]);var Ce=arguments.length-2;if(Ce===1)ce.children=pe;else if(1<Ce){for(var Et=Array(Ce),He=0;He<Ce;He++)Et[He]=arguments[He+2];ce.children=Et}if(k&&k.defaultProps)for(ue in Ce=k.defaultProps,Ce)ce[ue]===void 0&&(ce[ue]=Ce[ue]);return V(k,Ne,void 0,void 0,null,ce)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(k){return{$$typeof:f,render:k}},Ie.isValidElement=A,Ie.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:we}},Ie.memo=function(k,ie){return{$$typeof:g,type:k,compare:ie===void 0?null:ie}},Ie.startTransition=function(k){var ie=se.T,pe={};se.T=pe;try{var ue=k(),ce=se.S;ce!==null&&ce(pe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then($e,ve)}catch(Ne){ve(Ne)}finally{se.T=ie}},Ie.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ie.use=function(k){return se.H.use(k)},Ie.useActionState=function(k,ie,pe){return se.H.useActionState(k,ie,pe)},Ie.useCallback=function(k,ie){return se.H.useCallback(k,ie)},Ie.useContext=function(k){return se.H.useContext(k)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(k,ie){return se.H.useDeferredValue(k,ie)},Ie.useEffect=function(k,ie){return se.H.useEffect(k,ie)},Ie.useId=function(){return se.H.useId()},Ie.useImperativeHandle=function(k,ie,pe){return se.H.useImperativeHandle(k,ie,pe)},Ie.useInsertionEffect=function(k,ie){return se.H.useInsertionEffect(k,ie)},Ie.useLayoutEffect=function(k,ie){return se.H.useLayoutEffect(k,ie)},Ie.useMemo=function(k,ie){return se.H.useMemo(k,ie)},Ie.useOptimistic=function(k,ie){return se.H.useOptimistic(k,ie)},Ie.useReducer=function(k,ie,pe){return se.H.useReducer(k,ie,pe)},Ie.useRef=function(k){return se.H.useRef(k)},Ie.useState=function(k){return se.H.useState(k)},Ie.useSyncExternalStore=function(k,ie,pe){return se.H.useSyncExternalStore(k,ie,pe)},Ie.useTransition=function(){return se.H.useTransition()},Ie.version="19.0.0",Ie}var F0;function Ig(){return F0||(F0=1,_p.exports=Tx()),_p.exports}var Q=Ig();const wx=Yb(Q);var Ep={exports:{}},ju={},bp={exports:{}},Tp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function Sx(){return H0||(H0=1,function(i){function e(ae,we){var ve=ae.length;ae.push(we);e:for(;0<ve;){var $e=ve-1>>>1,k=ae[$e];if(0<o(k,we))ae[$e]=we,ae[ve]=k,ve=$e;else break e}}function t(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var we=ae[0],ve=ae.pop();if(ve!==we){ae[0]=ve;e:for(var $e=0,k=ae.length,ie=k>>>1;$e<ie;){var pe=2*($e+1)-1,ue=ae[pe],ce=pe+1,Ne=ae[ce];if(0>o(ue,ve))ce<k&&0>o(Ne,ue)?(ae[$e]=Ne,ae[ce]=ve,$e=ce):(ae[$e]=ue,ae[pe]=ve,$e=pe);else if(ce<k&&0>o(Ne,ve))ae[$e]=Ne,ae[ce]=ve,$e=ce;else break e}}return we}function o(ae,we){var ve=ae.sortIndex-we.sortIndex;return ve!==0?ve:ae.id-we.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();i.unstable_now=function(){return d.now()-f}}var p=[],g=[],b=1,T=null,x=3,N=!1,M=!1,F=!1,O=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function X(ae){for(var we=t(g);we!==null;){if(we.callback===null)s(g);else if(we.startTime<=ae)s(g),we.sortIndex=we.expirationTime,e(p,we);else break;we=t(g)}}function oe(ae){if(F=!1,X(ae),!M)if(t(p)!==null)M=!0,xt();else{var we=t(g);we!==null&&_t(oe,we.startTime-ae)}}var se=!1,ye=-1,V=5,R=-1;function A(){return!(i.unstable_now()-R<V)}function I(){if(se){var ae=i.unstable_now();R=ae;var we=!0;try{e:{M=!1,F&&(F=!1,G(ye),ye=-1),N=!0;var ve=x;try{t:{for(X(ae),T=t(p);T!==null&&!(T.expirationTime>ae&&A());){var $e=T.callback;if(typeof $e=="function"){T.callback=null,x=T.priorityLevel;var k=$e(T.expirationTime<=ae);if(ae=i.unstable_now(),typeof k=="function"){T.callback=k,X(ae),we=!0;break t}T===t(p)&&s(p),X(ae)}else s(p);T=t(p)}if(T!==null)we=!0;else{var ie=t(g);ie!==null&&_t(oe,ie.startTime-ae),we=!1}}break e}finally{T=null,x=ve,N=!1}we=void 0}}finally{we?j():se=!1}}}var j;if(typeof Y=="function")j=function(){Y(I)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,D=q.port2;q.port1.onmessage=I,j=function(){D.postMessage(null)}}else j=function(){O(I,0)};function xt(){se||(se=!0,j())}function _t(ae,we){ye=O(function(){ae(i.unstable_now())},we)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ae){ae.callback=null},i.unstable_continueExecution=function(){M||N||(M=!0,xt())},i.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ae?Math.floor(1e3/ae):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(ae){switch(x){case 1:case 2:case 3:var we=3;break;default:we=x}var ve=x;x=we;try{return ae()}finally{x=ve}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ae,we){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ve=x;x=ae;try{return we()}finally{x=ve}},i.unstable_scheduleCallback=function(ae,we,ve){var $e=i.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?$e+ve:$e):ve=$e,ae){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ve+k,ae={id:b++,callback:we,priorityLevel:ae,startTime:ve,expirationTime:k,sortIndex:-1},ve>$e?(ae.sortIndex=ve,e(g,ae),t(p)===null&&ae===t(g)&&(F?(G(ye),ye=-1):F=!0,_t(oe,ve-$e))):(ae.sortIndex=k,e(p,ae),M||N||(M=!0,xt())),ae},i.unstable_shouldYield=A,i.unstable_wrapCallback=function(ae){var we=x;return function(){var ve=x;x=we;try{return ae.apply(this,arguments)}finally{x=ve}}}}(Tp)),Tp}var G0;function Ax(){return G0||(G0=1,bp.exports=Sx()),bp.exports}var wp={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function xx(){if(Q0)return tn;Q0=1;var i=Ig();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:b}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,b)},tn.flushSync=function(p){var g=d.T,b=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=g,s.p=b,s.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,T=f(b,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:N}):b==="script"&&s.d.X(p,{crossOrigin:T,integrity:x,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=f(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,T=f(b,g.crossOrigin);s.d.L(p,b,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=f(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,b){return d.H.useFormState(p,g,b)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.0.0",tn}var K0;function Rx(){if(K0)return wp.exports;K0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),wp.exports=xx(),wp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function Cx(){if($0)return ju;$0=1;var i=Ax(),e=Ig(),t=Rx();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),oe=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function ye(n){return n===null||typeof n!="object"?null:(n=se&&n[se]||n["@@iterator"],typeof n=="function"?n:null)}var V=Symbol.for("react.client.reference");function R(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===V?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case f:return"Portal";case b:return"Profiler";case g:return"StrictMode";case F:return"Suspense";case O:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case N:return(n.displayName||"Context")+".Provider";case x:return(n._context.displayName||"Context")+".Consumer";case M:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G:return r=n.displayName||null,r!==null?r:R(n.type)||"Memo";case Y:r=n._payload,n=n._init;try{return R(n(r))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,j,q;function D(n){if(j===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);j=r&&r[1]||"",q=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+n+q}var xt=!1;function _t(n,r){if(!n||xt)return"";xt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(W){var K=W}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(W){K=W}n.call(ne.prototype)}}else{try{throw Error()}catch(W){K=W}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],w=m[1];if(E&&w){var C=E.split(`
`),U=w.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===U.length)for(l=C.length-1,h=U.length-1;1<=l&&0<=h&&C[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==U[h]){var Z=`
`+C[l].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=l&&0<=h);break}}}finally{xt=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?D(a):""}function ae(n){switch(n.tag){case 26:case 27:case 5:return D(n.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return n=_t(n.type,!1),n;case 11:return n=_t(n.type.render,!1),n;case 1:return n=_t(n.type,!0),n;default:return""}}function we(n){try{var r="";do r+=ae(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ve(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function $e(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function k(n){if(ve(n)!==n)throw Error(s(188))}function ie(n){var r=n.alternate;if(!r){if(r=ve(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return k(h),n;if(m===l)return k(h),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var E=!1,w=h.child;w;){if(w===a){E=!0,a=h,l=m;break}if(w===l){E=!0,l=h,a=m;break}w=w.sibling}if(!E){for(w=m.child;w;){if(w===a){E=!0,a=m,l=h;break}if(w===l){E=!0,l=m,a=h;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function pe(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=pe(n),r!==null)return r;n=n.sibling}return null}var ue=Array.isArray,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},Ce=[],Et=-1;function He(n){return{current:n}}function ct(n){0>Et||(n.current=Ce[Et],Ce[Et]=null,Et--)}function Ze(n,r){Et++,Ce[Et]=n.current,n.current=r}var ln=He(null),Bi=He(null),On=He(null),Mr=He(null);function Pr(n,r){switch(Ze(On,r),Ze(Bi,n),Ze(ln,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?m0(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=m0(n),r=p0(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ct(ln),Ze(ln,r)}function Fi(){ct(ln),ct(Bi),ct(On)}function Dl(n){n.memoizedState!==null&&Ze(Mr,n);var r=ln.current,a=p0(r,n.type);r!==a&&(Ze(Bi,n),Ze(ln,a))}function Xa(n){Bi.current===n&&(ct(ln),ct(Bi)),Mr.current===n&&(ct(Mr),Du._currentValue=Ne)}var Wa=Object.prototype.hasOwnProperty,Xs=i.unstable_scheduleCallback,Za=i.unstable_cancelCallback,_f=i.unstable_shouldYield,Ol=i.unstable_requestPaint,gn=i.unstable_now,Mc=i.unstable_getCurrentPriorityLevel,Rt=i.unstable_ImmediatePriority,jt=i.unstable_UserBlockingPriority,Hi=i.unstable_NormalPriority,Pc=i.unstable_LowPriority,Ml=i.unstable_IdlePriority,Ef=i.log,Ws=i.unstable_setDisableYieldValue,Vr=null,Jt=null;function Pl(n){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Vr,n,void 0,(n.current.flags&128)===128)}catch{}}function fi(n){if(typeof Ef=="function"&&Ws(n),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Vr,n)}catch{}}var un=Math.clz32?Math.clz32:kc,Vl=Math.log,Vc=Math.LN2;function kc(n){return n>>>=0,n===0?32:31-(Vl(n)/Vc|0)|0}var mi=128,kr=4194304;function Zn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Mn(n,r){var a=n.pendingLanes;if(a===0)return 0;var l=0,h=n.suspendedLanes,m=n.pingedLanes,E=n.warmLanes;n=n.finishedLanes!==0;var w=a&134217727;return w!==0?(a=w&~h,a!==0?l=Zn(a):(m&=w,m!==0?l=Zn(m):n||(E=w&~E,E!==0&&(l=Zn(E))))):(w=a&~h,w!==0?l=Zn(w):m!==0?l=Zn(m):n||(E=a&~E,E!==0&&(l=Zn(E)))),l===0?0:r!==0&&r!==l&&(r&h)===0&&(h=l&-l,E=r&-r,h>=E||h===32&&(E&4194176)!==0)?r:l}function jr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ja(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kl(){var n=mi;return mi<<=1,(mi&4194176)===0&&(mi=128),n}function Lr(){var n=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),n}function eo(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function gt(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function jc(n,r,a,l,h,m){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,C=n.expirationTimes,U=n.hiddenUpdates;for(a=E&~a;0<a;){var Z=31-un(a),ne=1<<Z;w[Z]=0,C[Z]=-1;var K=U[Z];if(K!==null)for(U[Z]=null,Z=0;Z<K.length;Z++){var W=K[Z];W!==null&&(W.lane&=-536870913)}a&=~ne}l!==0&&Ur(n,l,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~r))}function Ur(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-un(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function zr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-un(a),h=1<<l;h&r|n[l]&r&&(n[l]|=r),a&=~h}}function Lc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Uc(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:M0(n.type))}function qr(n,r){var a=ce.p;try{return ce.p=n,r()}finally{ce.p=a}}var pi=Math.random().toString(36).slice(2),Lt="__reactFiber$"+pi,Ct="__reactProps$"+pi,Gi="__reactContainer$"+pi,Zs="__reactEvents$"+pi,to="__reactListeners$"+pi,gi="__reactHandles$"+pi,jl="__reactResources$"+pi,Br="__reactMarker$"+pi;function Js(n){delete n[Lt],delete n[Ct],delete n[Zs],delete n[to],delete n[gi]}function Jn(n){var r=n[Lt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Gi]||a[Lt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=v0(n);n!==null;){if(a=n[Lt])return a;n=v0(n)}return r}n=a,a=n.parentNode}return null}function Qi(n){if(n=n[Lt]||n[Gi]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Fr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Hr(n){var r=n[jl];return r||(r=n[jl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function at(n){n[Br]=!0}var Ll=new Set,no={};function Sn(n,r){yn(n,r),yn(n+"Capture",r)}function yn(n,r){for(no[n]=r,n=0;n<r.length;n++)Ll.add(r[n])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},zl={};function zc(n){return Wa.call(zl,n)?!0:Wa.call(Ul,n)?!1:bf.test(n)?zl[n]=!0:(Ul[n]=!0,!1)}function Gr(n,r,a){if(zc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Qr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Pn(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function cn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qc(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Tf(n){var r=qc(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,m.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ea(n){n._valueTracker||(n._valueTracker=Tf(n))}function ql(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=qc(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function io(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ki=/[\n"\\]/g;function ht(n){return n.replace(Ki,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Kr(n,r,a,l,h,m,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+cn(r)):n.value!==""+cn(r)&&(n.value=""+cn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?ro(n,E,cn(r)):a!=null?ro(n,E,cn(a)):l!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+cn(w):n.removeAttribute("name")}function ta(n,r,a,l,h,m,E,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+cn(a):"",r=r!=null?""+cn(r):a,w||r===n.value||(n.value=r),n.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function ro(n,r,a){r==="number"&&io(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ge(n,r,a,l){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+cn(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function na(n,r,a){if(r!=null&&(r=""+cn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+cn(a):""}function $r(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ue(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=cn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Vn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var wf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bl(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||wf.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Bc(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Bl(n,h,l)}else for(var m in r)r.hasOwnProperty(m)&&Bl(n,m,r[m])}function Fl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Af=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(n){return Af.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var kn=null;function so(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $i=null,Yi=null;function Xi(n){var r=Qi(n);if(r&&(n=r.stateNode)){var a=n[Ct]||null;e:switch(n=r.stateNode,r.type){case"input":if(Kr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ht(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var h=l[Ct]||null;if(!h)throw Error(s(90));Kr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&ql(l)}break e;case"textarea":na(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ge(n,!!a.multiple,r,!1)}}}var Hl=!1;function Fc(n,r,a){if(Hl)return n(r,a);Hl=!0;try{var l=n(r);return l}finally{if(Hl=!1,($i!==null||Yi!==null)&&(Ph(),$i&&(r=$i,n=Yi,Yi=$i=null,Xi(r),n)))for(r=0;r<n.length;r++)Xi(n[r])}}function ia(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Ct]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jn=!1;if(An)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){jn=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{jn=!1}var vi=null,Yr=null,Wi=null;function Gl(){if(Wi)return Wi;var n,r=Yr,a=r.length,l,h="value"in vi?vi.value:vi.textContent,m=h.length;for(n=0;n<a&&r[n]===h[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===h[m-l];l++);return Wi=h.slice(n,1<l?1-l:void 0)}function _i(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ei(){return!0}function Ql(){return!1}function Ut(n){function r(a,l,h,m,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ei:Ql,this.isPropagationStopped=Ql,this}return I(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),r}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=Ut(Ye),sa=I({},Ye,{view:0,detail:0}),Hc=Ut(sa),oo,lo,bi,aa=I({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ua,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==bi&&(bi&&n.type==="mousemove"?(oo=n.screenX-bi.screenX,lo=n.screenY-bi.screenY):lo=oo=0,bi=n),oo)},movementY:function(n){return"movementY"in n?n.movementY:lo}}),Ln=Ut(aa),Gc=I({},aa,{dataTransfer:0}),xf=Ut(Gc),oa=I({},sa,{relatedTarget:0}),uo=Ut(oa),Kl=I({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),co=Ut(Kl),Qc=I({},Ye,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ho=Ut(Qc),Rf=I({},Ye,{data:0}),$l=Ut(Rf),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=$c[n])?!!r[n]:!1}function ua(){return Yl}var Yc=I({},sa,{key:function(n){if(n.key){var r=la[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=_i(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Kc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ua,charCode:function(n){return n.type==="keypress"?_i(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_i(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),fo=Ut(Yc),Xc=I({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xl=Ut(Xc),Zi=I({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ua}),Wc=Ut(Zi),Zc=I({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jc=Ut(Zc),eh=I({},aa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),mo=Ut(eh),hn=I({},Ye,{newState:0,oldState:0}),th=Ut(hn),nh=[9,13,27,32],Ti=An&&"CompositionEvent"in window,c=null;An&&"documentMode"in document&&(c=document.documentMode);var y=An&&"TextEvent"in window&&!c,_=An&&(!Ti||c&&8<c&&11>=c),S=" ",B=!1;function $(n,r){switch(n){case"keyup":return nh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ze=!1;function It(n,r){switch(n){case"compositionend":return re(r);case"keypress":return r.which!==32?null:(B=!0,S);case"textInput":return n=r.data,n===S&&B?null:n;default:return null}}function qe(n,r){if(ze)return n==="compositionend"||!Ti&&$(n,r)?(n=Gl(),Wi=Yr=vi=null,ze=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!zt[n.type]:r==="textarea"}function Ji(n,r,a,l){$i?Yi?Yi.push(l):Yi=[l]:$i=l,r=Uh(r,"onChange"),0<r.length&&(a=new ao("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Qt=null,wi=null;function Wl(n){u0(n,0)}function ih(n){var r=Fr(n);if(ql(r))return n}function Ly(n,r){if(n==="change")return r}var Uy=!1;if(An){var Cf;if(An){var If="oninput"in document;if(!If){var zy=document.createElement("div");zy.setAttribute("oninput","return;"),If=typeof zy.oninput=="function"}Cf=If}else Cf=!1;Uy=Cf&&(!document.documentMode||9<document.documentMode)}function qy(){Qt&&(Qt.detachEvent("onpropertychange",By),wi=Qt=null)}function By(n){if(n.propertyName==="value"&&ih(wi)){var r=[];Ji(r,wi,n,so(n)),Fc(Wl,r)}}function XS(n,r,a){n==="focusin"?(qy(),Qt=r,wi=a,Qt.attachEvent("onpropertychange",By)):n==="focusout"&&qy()}function WS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ih(wi)}function ZS(n,r){if(n==="click")return ih(r)}function JS(n,r){if(n==="input"||n==="change")return ih(r)}function eA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var xn=typeof Object.is=="function"?Object.is:eA;function Zl(n,r){if(xn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Wa.call(r,h)||!xn(n[h],r[h]))return!1}return!0}function Fy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Hy(n,r){var a=Fy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fy(a)}}function Gy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Gy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Qy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=io(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=io(n.document)}return r}function Nf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function tA(n,r){var a=Qy(r);r=n.focusedElem;var l=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&Gy(r.ownerDocument.documentElement,r)){if(l!==null&&Nf(r)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,m=Math.min(l.start,h);l=l.end===void 0?m:Math.min(l.end,h),!a.extend&&m>l&&(h=l,l=m,m=h),h=Hy(r,m);var E=Hy(r,l);h&&E&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),a.removeAllRanges(),m>l?(a.addRange(n),a.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var nA=An&&"documentMode"in document&&11>=document.documentMode,po=null,Df=null,Jl=null,Of=!1;function Ky(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Of||po==null||po!==io(l)||(l=po,"selectionStart"in l&&Nf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jl&&Zl(Jl,l)||(Jl=l,l=Uh(Df,"onSelect"),0<l.length&&(r=new ao("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=po)))}function ca(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var go={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},Mf={},$y={};An&&($y=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function ha(n){if(Mf[n])return Mf[n];if(!go[n])return n;var r=go[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in $y)return Mf[n]=r[a];return n}var Yy=ha("animationend"),Xy=ha("animationiteration"),Wy=ha("animationstart"),iA=ha("transitionrun"),rA=ha("transitionstart"),sA=ha("transitioncancel"),Zy=ha("transitionend"),Jy=new Map,ev="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ei(n,r){Jy.set(n,r),Sn(r,[n])}var Un=[],yo=0,Pf=0;function rh(){for(var n=yo,r=Pf=yo=0;r<n;){var a=Un[r];Un[r++]=null;var l=Un[r];Un[r++]=null;var h=Un[r];Un[r++]=null;var m=Un[r];if(Un[r++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}m!==0&&tv(a,h,m)}}function sh(n,r,a,l){Un[yo++]=n,Un[yo++]=r,Un[yo++]=a,Un[yo++]=l,Pf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Vf(n,r,a,l){return sh(n,r,a,l),ah(n)}function Xr(n,r){return sh(n,null,null,r),ah(n)}function tv(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;h&&r!==null&&n.tag===3&&(m=n.stateNode,h=31-un(a),m=m.hiddenUpdates,n=m[h],n===null?m[h]=[r]:n.push(r),r.lane=a|536870912)}function ah(n){if(50<Su)throw Su=0,qm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var vo={},nv=new WeakMap;function zn(n,r){if(typeof n=="object"&&n!==null){var a=nv.get(n);return a!==void 0?a:(r={value:n,source:r,stack:we(r)},nv.set(n,r),r)}return{value:n,source:r,stack:we(r)}}var _o=[],Eo=0,oh=null,lh=0,qn=[],Bn=0,da=null,er=1,tr="";function fa(n,r){_o[Eo++]=lh,_o[Eo++]=oh,oh=n,lh=r}function iv(n,r,a){qn[Bn++]=er,qn[Bn++]=tr,qn[Bn++]=da,da=n;var l=er;n=tr;var h=32-un(l)-1;l&=~(1<<h),a+=1;var m=32-un(r)+h;if(30<m){var E=h-h%5;m=(l&(1<<E)-1).toString(32),l>>=E,h-=E,er=1<<32-un(r)+h|a<<h|l,tr=m+n}else er=1<<m|a<<h|l,tr=n}function kf(n){n.return!==null&&(fa(n,1),iv(n,1,0))}function jf(n){for(;n===oh;)oh=_o[--Eo],_o[Eo]=null,lh=_o[--Eo],_o[Eo]=null;for(;n===da;)da=qn[--Bn],qn[Bn]=null,tr=qn[--Bn],qn[Bn]=null,er=qn[--Bn],qn[Bn]=null}var dn=null,Kt=null,Qe=!1,ti=null,Si=!1,Lf=Error(s(519));function ma(n){var r=Error(s(418,""));throw nu(zn(r,n)),Lf}function rv(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Lt]=n,r[Ct]=l,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<xu.length;a++)je(xu[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),ta(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ea(r);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),$r(r,l.value,l.defaultValue,l.children),ea(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||f0(r.textContent,a)?(l.popover!=null&&(je("beforetoggle",r),je("toggle",r)),l.onScroll!=null&&je("scroll",r),l.onScrollEnd!=null&&je("scrollend",r),l.onClick!=null&&(r.onclick=zh),r=!0):r=!1,r||ma(n)}function sv(n){for(dn=n.return;dn;)switch(dn.tag){case 3:case 27:Si=!0;return;case 5:case 13:Si=!1;return;default:dn=dn.return}}function eu(n){if(n!==dn)return!1;if(!Qe)return sv(n),Qe=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||rp(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&Kt&&ma(n),sv(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Kt=ii(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Kt=null}}else Kt=dn?ii(n.stateNode.nextSibling):null;return!0}function tu(){Kt=dn=null,Qe=!1}function nu(n){ti===null?ti=[n]:ti.push(n)}var iu=Error(s(460)),av=Error(s(474)),Uf={then:function(){}};function ov(n){return n=n.status,n==="fulfilled"||n==="rejected"}function uh(){}function lv(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(uh,uh),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===iu?Error(s(483)):n;default:if(typeof r.status=="string")r.then(uh,uh);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===iu?Error(s(483)):n}throw ru=r,iu}}var ru=null;function uv(){if(ru===null)throw Error(s(459));var n=ru;return ru=null,n}var bo=null,su=0;function ch(n){var r=su;return su+=1,bo===null&&(bo=[]),lv(bo,n,r)}function au(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function hh(n,r){throw r.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function cv(n){var r=n._init;return r(n._payload)}function hv(n){function r(z,L){if(n){var H=z.deletions;H===null?(z.deletions=[L],z.flags|=16):H.push(L)}}function a(z,L){if(!n)return null;for(;L!==null;)r(z,L),L=L.sibling;return null}function l(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function h(z,L){return z=ls(z,L),z.index=0,z.sibling=null,z}function m(z,L,H){return z.index=H,n?(H=z.alternate,H!==null?(H=H.index,H<L?(z.flags|=33554434,L):H):(z.flags|=33554434,L)):(z.flags|=1048576,L)}function E(z){return n&&z.alternate===null&&(z.flags|=33554434),z}function w(z,L,H,J){return L===null||L.tag!==6?(L=Mm(H,z.mode,J),L.return=z,L):(L=h(L,H),L.return=z,L)}function C(z,L,H,J){var fe=H.type;return fe===p?Z(z,L,H.props.children,J,H.key):L!==null&&(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Y&&cv(fe)===L.type)?(L=h(L,H.props),au(L,H),L.return=z,L):(L=Ih(H.type,H.key,H.props,null,z.mode,J),au(L,H),L.return=z,L)}function U(z,L,H,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Pm(H,z.mode,J),L.return=z,L):(L=h(L,H.children||[]),L.return=z,L)}function Z(z,L,H,J,fe){return L===null||L.tag!==7?(L=Sa(H,z.mode,J,fe),L.return=z,L):(L=h(L,H),L.return=z,L)}function ne(z,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Mm(""+L,z.mode,H),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return H=Ih(L.type,L.key,L.props,null,z.mode,H),au(H,L),H.return=z,H;case f:return L=Pm(L,z.mode,H),L.return=z,L;case Y:var J=L._init;return L=J(L._payload),ne(z,L,H)}if(ue(L)||ye(L))return L=Sa(L,z.mode,H,null),L.return=z,L;if(typeof L.then=="function")return ne(z,ch(L),H);if(L.$$typeof===N)return ne(z,xh(z,L),H);hh(z,L)}return null}function K(z,L,H,J){var fe=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return fe!==null?null:w(z,L,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case d:return H.key===fe?C(z,L,H,J):null;case f:return H.key===fe?U(z,L,H,J):null;case Y:return fe=H._init,H=fe(H._payload),K(z,L,H,J)}if(ue(H)||ye(H))return fe!==null?null:Z(z,L,H,J,null);if(typeof H.then=="function")return K(z,L,ch(H),J);if(H.$$typeof===N)return K(z,L,xh(z,H),J);hh(z,H)}return null}function W(z,L,H,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(H)||null,w(L,z,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case d:return z=z.get(J.key===null?H:J.key)||null,C(L,z,J,fe);case f:return z=z.get(J.key===null?H:J.key)||null,U(L,z,J,fe);case Y:var Me=J._init;return J=Me(J._payload),W(z,L,H,J,fe)}if(ue(J)||ye(J))return z=z.get(H)||null,Z(L,z,J,fe,null);if(typeof J.then=="function")return W(z,L,H,ch(J),fe);if(J.$$typeof===N)return W(z,L,H,xh(L,J),fe);hh(L,J)}return null}function me(z,L,H,J){for(var fe=null,Me=null,ge=L,be=L=0,Ft=null;ge!==null&&be<H.length;be++){ge.index>be?(Ft=ge,ge=null):Ft=ge.sibling;var Ke=K(z,ge,H[be],J);if(Ke===null){ge===null&&(ge=Ft);break}n&&ge&&Ke.alternate===null&&r(z,ge),L=m(Ke,L,be),Me===null?fe=Ke:Me.sibling=Ke,Me=Ke,ge=Ft}if(be===H.length)return a(z,ge),Qe&&fa(z,be),fe;if(ge===null){for(;be<H.length;be++)ge=ne(z,H[be],J),ge!==null&&(L=m(ge,L,be),Me===null?fe=ge:Me.sibling=ge,Me=ge);return Qe&&fa(z,be),fe}for(ge=l(ge);be<H.length;be++)Ft=W(ge,z,be,H[be],J),Ft!==null&&(n&&Ft.alternate!==null&&ge.delete(Ft.key===null?be:Ft.key),L=m(Ft,L,be),Me===null?fe=Ft:Me.sibling=Ft,Me=Ft);return n&&ge.forEach(function(ps){return r(z,ps)}),Qe&&fa(z,be),fe}function xe(z,L,H,J){if(H==null)throw Error(s(151));for(var fe=null,Me=null,ge=L,be=L=0,Ft=null,Ke=H.next();ge!==null&&!Ke.done;be++,Ke=H.next()){ge.index>be?(Ft=ge,ge=null):Ft=ge.sibling;var ps=K(z,ge,Ke.value,J);if(ps===null){ge===null&&(ge=Ft);break}n&&ge&&ps.alternate===null&&r(z,ge),L=m(ps,L,be),Me===null?fe=ps:Me.sibling=ps,Me=ps,ge=Ft}if(Ke.done)return a(z,ge),Qe&&fa(z,be),fe;if(ge===null){for(;!Ke.done;be++,Ke=H.next())Ke=ne(z,Ke.value,J),Ke!==null&&(L=m(Ke,L,be),Me===null?fe=Ke:Me.sibling=Ke,Me=Ke);return Qe&&fa(z,be),fe}for(ge=l(ge);!Ke.done;be++,Ke=H.next())Ke=W(ge,z,be,Ke.value,J),Ke!==null&&(n&&Ke.alternate!==null&&ge.delete(Ke.key===null?be:Ke.key),L=m(Ke,L,be),Me===null?fe=Ke:Me.sibling=Ke,Me=Ke);return n&&ge.forEach(function(_x){return r(z,_x)}),Qe&&fa(z,be),fe}function mt(z,L,H,J){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case d:e:{for(var fe=H.key;L!==null;){if(L.key===fe){if(fe=H.type,fe===p){if(L.tag===7){a(z,L.sibling),J=h(L,H.props.children),J.return=z,z=J;break e}}else if(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Y&&cv(fe)===L.type){a(z,L.sibling),J=h(L,H.props),au(J,H),J.return=z,z=J;break e}a(z,L);break}else r(z,L);L=L.sibling}H.type===p?(J=Sa(H.props.children,z.mode,J,H.key),J.return=z,z=J):(J=Ih(H.type,H.key,H.props,null,z.mode,J),au(J,H),J.return=z,z=J)}return E(z);case f:e:{for(fe=H.key;L!==null;){if(L.key===fe)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(z,L.sibling),J=h(L,H.children||[]),J.return=z,z=J;break e}else{a(z,L);break}else r(z,L);L=L.sibling}J=Pm(H,z.mode,J),J.return=z,z=J}return E(z);case Y:return fe=H._init,H=fe(H._payload),mt(z,L,H,J)}if(ue(H))return me(z,L,H,J);if(ye(H)){if(fe=ye(H),typeof fe!="function")throw Error(s(150));return H=fe.call(H),xe(z,L,H,J)}if(typeof H.then=="function")return mt(z,L,ch(H),J);if(H.$$typeof===N)return mt(z,L,xh(z,H),J);hh(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(z,L.sibling),J=h(L,H),J.return=z,z=J):(a(z,L),J=Mm(H,z.mode,J),J.return=z,z=J),E(z)):a(z,L)}return function(z,L,H,J){try{su=0;var fe=mt(z,L,H,J);return bo=null,fe}catch(ge){if(ge===iu)throw ge;var Me=Qn(29,ge,null,z.mode);return Me.lanes=J,Me.return=z,Me}finally{}}}var pa=hv(!0),dv=hv(!1),To=He(null),dh=He(0);function fv(n,r){n=dr,Ze(dh,n),Ze(To,r),dr=n|r.baseLanes}function zf(){Ze(dh,dr),Ze(To,To.current)}function qf(){dr=dh.current,ct(To),ct(dh)}var Fn=He(null),Ai=null;function Wr(n){var r=n.alternate;Ze(Dt,Dt.current&1),Ze(Fn,n),Ai===null&&(r===null||To.current!==null||r.memoizedState!==null)&&(Ai=n)}function mv(n){if(n.tag===22){if(Ze(Dt,Dt.current),Ze(Fn,n),Ai===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ai=n)}}else Zr()}function Zr(){Ze(Dt,Dt.current),Ze(Fn,Fn.current)}function nr(n){ct(Fn),Ai===n&&(Ai=null),ct(Dt)}var Dt=He(0);function fh(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var aA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},oA=i.unstable_scheduleCallback,lA=i.unstable_NormalPriority,Ot={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new aA,data:new Map,refCount:0}}function ou(n){n.refCount--,n.refCount===0&&oA(lA,function(){n.controller.abort()})}var lu=null,Ff=0,wo=0,So=null;function uA(n,r){if(lu===null){var a=lu=[];Ff=0,wo=Ym(),So={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ff++,r.then(pv,pv),r}function pv(){if(--Ff===0&&lu!==null){So!==null&&(So.status="fulfilled");var n=lu;lu=null,wo=0,So=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function cA(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var gv=A.S;A.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&uA(n,r),gv!==null&&gv(n,r)};var ga=He(null);function Hf(){var n=ga.current;return n!==null?n:nt.pooledCache}function mh(n,r){r===null?Ze(ga,ga.current):Ze(ga,r.pool)}function yv(){var n=Hf();return n===null?null:{parent:Ot._currentValue,pool:n}}var Jr=0,Oe=null,Je=null,bt=null,ph=!1,Ao=!1,ya=!1,gh=0,uu=0,xo=null,hA=0;function yt(){throw Error(s(321))}function Gf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!xn(n[a],r[a]))return!1;return!0}function Qf(n,r,a,l,h,m){return Jr=m,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,A.H=n===null||n.memoizedState===null?va:es,ya=!1,m=a(l,h),ya=!1,Ao&&(m=_v(r,a,l,h)),vv(n),m}function vv(n){A.H=xi;var r=Je!==null&&Je.next!==null;if(Jr=0,bt=Je=Oe=null,ph=!1,uu=0,xo=null,r)throw Error(s(300));n===null||qt||(n=n.dependencies,n!==null&&Ah(n)&&(qt=!0))}function _v(n,r,a,l){Oe=n;var h=0;do{if(Ao&&(xo=null),uu=0,Ao=!1,25<=h)throw Error(s(301));if(h+=1,bt=Je=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}A.H=_a,m=r(a,l)}while(Ao);return m}function dA(){var n=A.H,r=n.useState()[0];return r=typeof r.then=="function"?cu(r):r,n=n.useState()[0],(Je!==null?Je.memoizedState:null)!==n&&(Oe.flags|=1024),r}function Kf(){var n=gh!==0;return gh=0,n}function $f(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Yf(n){if(ph){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}ph=!1}Jr=0,bt=Je=Oe=null,Ao=!1,uu=gh=0,xo=null}function vn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Oe.memoizedState=bt=n:bt=bt.next=n,bt}function Tt(){if(Je===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=Je.next;var r=bt===null?Oe.memoizedState:bt.next;if(r!==null)bt=r,Je=n;else{if(n===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));Je=n,n={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},bt===null?Oe.memoizedState=bt=n:bt=bt.next=n}return bt}var yh;yh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cu(n){var r=uu;return uu+=1,xo===null&&(xo=[]),n=lv(xo,n,r),r=Oe,(bt===null?r.memoizedState:bt.next)===null&&(r=r.alternate,A.H=r===null||r.memoizedState===null?va:es),n}function vh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return cu(n);if(n.$$typeof===N)return en(n)}throw Error(s(438,String(n)))}function Xf(n){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=yh(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=oe;return r.index++,a}function ir(n,r){return typeof r=="function"?r(n):r}function _h(n){var r=Tt();return Wf(r,Je,n)}function Wf(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,m=l.pending;if(m!==null){if(h!==null){var E=h.next;h.next=m.next,m.next=E}r.baseQueue=h=m,l.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{r=h.next;var w=E=null,C=null,U=r,Z=!1;do{var ne=U.lane&-536870913;if(ne!==U.lane?(Be&ne)===ne:(Jr&ne)===ne){var K=U.revertLane;if(K===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ne===wo&&(Z=!0);else if((Jr&K)===K){U=U.next,K===wo&&(Z=!0);continue}else ne={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(w=C=ne,E=m):C=C.next=ne,Oe.lanes|=K,us|=K;ne=U.action,ya&&a(m,ne),m=U.hasEagerState?U.eagerState:a(m,ne)}else K={lane:ne,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(w=C=K,E=m):C=C.next=K,Oe.lanes|=ne,us|=ne;U=U.next}while(U!==null&&U!==r);if(C===null?E=m:C.next=w,!xn(m,n.memoizedState)&&(qt=!0,Z&&(a=So,a!==null)))throw a;n.memoizedState=m,n.baseState=E,n.baseQueue=C,l.lastRenderedState=m}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Zf(n){var r=Tt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,m=r.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do m=n(m,E.action),E=E.next;while(E!==h);xn(m,r.memoizedState)||(qt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function Ev(n,r,a){var l=Oe,h=Tt(),m=Qe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!xn((Je||h).memoizedState,a);if(E&&(h.memoizedState=a,qt=!0),h=h.queue,tm(wv.bind(null,l,h,n),[n]),h.getSnapshot!==r||E||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Ro(9,Tv.bind(null,l,h,a,r),{destroy:void 0},null),nt===null)throw Error(s(349));m||(Jr&60)!==0||bv(l,r,a)}return a}function bv(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=yh(),Oe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Tv(n,r,a,l){r.value=a,r.getSnapshot=l,Sv(r)&&Av(n)}function wv(n,r,a){return a(function(){Sv(r)&&Av(n)})}function Sv(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!xn(n,a)}catch{return!0}}function Av(n){var r=Xr(n,2);r!==null&&fn(r,n,2)}function Jf(n){var r=vn();if(typeof n=="function"){var a=n;if(n=a(),ya){fi(!0);try{a()}finally{fi(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:n},r}function xv(n,r,a,l){return n.baseState=a,Wf(n,Je,typeof l=="function"?l:ir)}function fA(n,r,a,l,h){if(Th(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};A.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Rv(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Rv(n,r){var a=r.action,l=r.payload,h=n.state;if(r.isTransition){var m=A.T,E={};A.T=E;try{var w=a(h,l),C=A.S;C!==null&&C(E,w),Cv(n,r,w)}catch(U){em(n,r,U)}finally{A.T=m}}else try{m=a(h,l),Cv(n,r,m)}catch(U){em(n,r,U)}}function Cv(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Iv(n,r,l)},function(l){return em(n,r,l)}):Iv(n,r,a)}function Iv(n,r,a){r.status="fulfilled",r.value=a,Nv(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Rv(n,a)))}function em(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Nv(r),r=r.next;while(r!==l)}n.action=null}function Nv(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Dv(n,r){return r}function Ov(n,r){if(Qe){var a=nt.formState;if(a!==null){e:{var l=Oe;if(Qe){if(Kt){t:{for(var h=Kt,m=Si;h.nodeType!==8;){if(!m){h=null;break t}if(h=ii(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Kt=ii(h.nextSibling),l=h.data==="F!";break e}}ma(l)}l=!1}l&&(r=a[0])}}return a=vn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dv,lastRenderedState:r},a.queue=l,a=Xv.bind(null,Oe,l),l.dispatch=a,l=Jf(!1),m=am.bind(null,Oe,!1,l.queue),l=vn(),h={state:r,dispatch:null,action:n,pending:null},l.queue=h,a=fA.bind(null,Oe,h,m,a),h.dispatch=a,l.memoizedState=n,[r,a,!1]}function Mv(n){var r=Tt();return Pv(r,Je,n)}function Pv(n,r,a){r=Wf(n,r,Dv)[0],n=_h(ir)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?cu(r):r;var l=Tt(),h=l.queue,m=h.dispatch;return a!==l.memoizedState&&(Oe.flags|=2048,Ro(9,mA.bind(null,h,a),{destroy:void 0},null)),[r,m,n]}function mA(n,r){n.action=r}function Vv(n){var r=Tt(),a=Je;if(a!==null)return Pv(r,a,n);Tt(),r=r.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Ro(n,r,a,l){return n={tag:n,create:r,inst:a,deps:l,next:null},r=Oe.updateQueue,r===null&&(r=yh(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function kv(){return Tt().memoizedState}function Eh(n,r,a,l){var h=vn();Oe.flags|=n,h.memoizedState=Ro(1|r,a,{destroy:void 0},l===void 0?null:l)}function bh(n,r,a,l){var h=Tt();l=l===void 0?null:l;var m=h.memoizedState.inst;Je!==null&&l!==null&&Gf(l,Je.memoizedState.deps)?h.memoizedState=Ro(r,a,m,l):(Oe.flags|=n,h.memoizedState=Ro(1|r,a,m,l))}function jv(n,r){Eh(8390656,8,n,r)}function tm(n,r){bh(2048,8,n,r)}function Lv(n,r){return bh(4,2,n,r)}function Uv(n,r){return bh(4,4,n,r)}function zv(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function qv(n,r,a){a=a!=null?a.concat([n]):null,bh(4,4,zv.bind(null,r,n),a)}function nm(){}function Bv(n,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Gf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Fv(n,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Gf(r,l[1]))return l[0];if(l=n(),ya){fi(!0);try{n()}finally{fi(!1)}}return a.memoizedState=[l,r],l}function im(n,r,a){return a===void 0||(Jr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=G_(),Oe.lanes|=n,us|=n,a)}function Hv(n,r,a,l){return xn(a,r)?a:To.current!==null?(n=im(n,a,l),xn(n,r)||(qt=!0),n):(Jr&42)===0?(qt=!0,n.memoizedState=a):(n=G_(),Oe.lanes|=n,us|=n,r)}function Gv(n,r,a,l,h){var m=ce.p;ce.p=m!==0&&8>m?m:8;var E=A.T,w={};A.T=w,am(n,!1,r,a);try{var C=h(),U=A.S;if(U!==null&&U(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=cA(C,l);hu(n,r,Z,Nn(n))}else hu(n,r,l,Nn(n))}catch(ne){hu(n,r,{then:function(){},status:"rejected",reason:ne},Nn())}finally{ce.p=m,A.T=E}}function pA(){}function rm(n,r,a,l){if(n.tag!==5)throw Error(s(476));var h=Qv(n).queue;Gv(n,h,r,Ne,a===null?pA:function(){return Kv(n),a(l)})}function Qv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:Ne},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Kv(n){var r=Qv(n).next.queue;hu(n,r,{},Nn())}function sm(){return en(Du)}function $v(){return Tt().memoizedState}function Yv(){return Tt().memoizedState}function gA(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Nn();n=is(a);var l=rs(r,n,a);l!==null&&(fn(l,r,a),mu(l,r,a)),r={cache:Bf()},n.payload=r;return}r=r.return}}function yA(n,r,a){var l=Nn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Th(n)?Wv(r,a):(a=Vf(n,r,a,l),a!==null&&(fn(a,n,l),Zv(a,r,l)))}function Xv(n,r,a){var l=Nn();hu(n,r,a,l)}function hu(n,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Th(n))Wv(r,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var E=r.lastRenderedState,w=m(E,a);if(h.hasEagerState=!0,h.eagerState=w,xn(w,E))return sh(n,r,h,0),nt===null&&rh(),!1}catch{}finally{}if(a=Vf(n,r,h,l),a!==null)return fn(a,n,l),Zv(a,r,l),!0}return!1}function am(n,r,a,l){if(l={lane:2,revertLane:Ym(),action:l,hasEagerState:!1,eagerState:null,next:null},Th(n)){if(r)throw Error(s(479))}else r=Vf(n,a,l,2),r!==null&&fn(r,n,2)}function Th(n){var r=n.alternate;return n===Oe||r!==null&&r===Oe}function Wv(n,r){Ao=ph=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Zv(n,r,a){if((a&4194176)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,zr(n,a)}}var xi={readContext:en,use:vh,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt};xi.useCacheRefresh=yt,xi.useMemoCache=yt,xi.useHostTransitionStatus=yt,xi.useFormState=yt,xi.useActionState=yt,xi.useOptimistic=yt;var va={readContext:en,use:vh,useCallback:function(n,r){return vn().memoizedState=[n,r===void 0?null:r],n},useContext:en,useEffect:jv,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Eh(4194308,4,zv.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Eh(4194308,4,n,r)},useInsertionEffect:function(n,r){Eh(4,2,n,r)},useMemo:function(n,r){var a=vn();r=r===void 0?null:r;var l=n();if(ya){fi(!0);try{n()}finally{fi(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=vn();if(a!==void 0){var h=a(r);if(ya){fi(!0);try{a(r)}finally{fi(!1)}}}else h=r;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=yA.bind(null,Oe,n),[l.memoizedState,n]},useRef:function(n){var r=vn();return n={current:n},r.memoizedState=n},useState:function(n){n=Jf(n);var r=n.queue,a=Xv.bind(null,Oe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:nm,useDeferredValue:function(n,r){var a=vn();return im(a,n,r)},useTransition:function(){var n=Jf(!1);return n=Gv.bind(null,Oe,n.queue,!0,!1),vn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Oe,h=vn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(Be&60)!==0||bv(l,r,a)}h.memoizedState=a;var m={value:a,getSnapshot:r};return h.queue=m,jv(wv.bind(null,l,m,n),[n]),l.flags|=2048,Ro(9,Tv.bind(null,l,m,a,r),{destroy:void 0},null),a},useId:function(){var n=vn(),r=nt.identifierPrefix;if(Qe){var a=tr,l=er;a=(l&~(1<<32-un(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=gh++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=hA++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return vn().memoizedState=gA.bind(null,Oe)}};va.useMemoCache=Xf,va.useHostTransitionStatus=sm,va.useFormState=Ov,va.useActionState=Ov,va.useOptimistic=function(n){var r=vn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=am.bind(null,Oe,!0,a),a.dispatch=r,[n,r]};var es={readContext:en,use:vh,useCallback:Bv,useContext:en,useEffect:tm,useImperativeHandle:qv,useInsertionEffect:Lv,useLayoutEffect:Uv,useMemo:Fv,useReducer:_h,useRef:kv,useState:function(){return _h(ir)},useDebugValue:nm,useDeferredValue:function(n,r){var a=Tt();return Hv(a,Je.memoizedState,n,r)},useTransition:function(){var n=_h(ir)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:cu(n),r]},useSyncExternalStore:Ev,useId:$v};es.useCacheRefresh=Yv,es.useMemoCache=Xf,es.useHostTransitionStatus=sm,es.useFormState=Mv,es.useActionState=Mv,es.useOptimistic=function(n,r){var a=Tt();return xv(a,Je,n,r)};var _a={readContext:en,use:vh,useCallback:Bv,useContext:en,useEffect:tm,useImperativeHandle:qv,useInsertionEffect:Lv,useLayoutEffect:Uv,useMemo:Fv,useReducer:Zf,useRef:kv,useState:function(){return Zf(ir)},useDebugValue:nm,useDeferredValue:function(n,r){var a=Tt();return Je===null?im(a,n,r):Hv(a,Je.memoizedState,n,r)},useTransition:function(){var n=Zf(ir)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:cu(n),r]},useSyncExternalStore:Ev,useId:$v};_a.useCacheRefresh=Yv,_a.useMemoCache=Xf,_a.useHostTransitionStatus=sm,_a.useFormState=Vv,_a.useActionState=Vv,_a.useOptimistic=function(n,r){var a=Tt();return Je!==null?xv(a,Je,n,r):(a.baseState=n,[n,a.queue.dispatch])};function om(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:I({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var lm={isMounted:function(n){return(n=n._reactInternals)?ve(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Nn(),h=is(l);h.payload=r,a!=null&&(h.callback=a),r=rs(n,h,l),r!==null&&(fn(r,n,l),mu(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Nn(),h=is(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=rs(n,h,l),r!==null&&(fn(r,n,l),mu(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Nn(),l=is(a);l.tag=2,r!=null&&(l.callback=r),r=rs(n,l,a),r!==null&&(fn(r,n,a),mu(r,n,a))}};function Jv(n,r,a,l,h,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,E):r.prototype&&r.prototype.isPureReactComponent?!Zl(a,l)||!Zl(h,m):!0}function e_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&lm.enqueueReplaceState(r,r.state,null)}function Ea(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=I({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var wh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function t_(n){wh(n)}function n_(n){console.error(n)}function i_(n){wh(n)}function Sh(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function r_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function um(n,r,a){return a=is(a),a.tag=3,a.payload={element:null},a.callback=function(){Sh(n,r)},a}function s_(n){return n=is(n),n.tag=3,n}function a_(n,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;n.payload=function(){return h(m)},n.callback=function(){r_(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){r_(r,a,l),typeof h!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function vA(n,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&fu(r,a,h,!0),a=Fn.current,a!==null){switch(a.tag){case 13:return Ai===null?Hm():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Uf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Qm(n,l,h)),!1;case 22:return a.flags|=65536,l===Uf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Qm(n,l,h)),!1}throw Error(s(435,a.tag))}return Qm(n,l,h),Hm(),!1}if(Qe)return r=Fn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Lf&&(n=Error(s(422),{cause:l}),nu(zn(n,a)))):(l!==Lf&&(r=Error(s(423),{cause:l}),nu(zn(r,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=zn(l,a),h=um(n.stateNode,l,h),Sm(n,h),ft!==4&&(ft=2)),!1;var m=Error(s(520),{cause:l});if(m=zn(m,a),Tu===null?Tu=[m]:Tu.push(m),ft!==4&&(ft=2),r===null)return!0;l=zn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=um(a.stateNode,l,n),Sm(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(cs===null||!cs.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=s_(h),a_(h,n,a,l),Sm(a,h),!1}a=a.return}while(a!==null);return!1}var o_=Error(s(461)),qt=!1;function $t(n,r,a,l){r.child=n===null?dv(r,null,a,l):pa(r,n.child,a,l)}function l_(n,r,a,l,h){a=a.render;var m=r.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Ta(r),l=Qf(n,r,a,E,m,h),w=Kf(),n!==null&&!qt?($f(n,r,h),rr(n,r,h)):(Qe&&w&&kf(r),r.flags|=1,$t(n,r,l,h),r.child)}function u_(n,r,a,l,h){if(n===null){var m=a.type;return typeof m=="function"&&!Om(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,c_(n,r,m,l,h)):(n=Ih(a.type,null,l,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!vm(n,h)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:Zl,a(E,l)&&n.ref===r.ref)return rr(n,r,h)}return r.flags|=1,n=ls(m,l),n.ref=r.ref,n.return=r,r.child=n}function c_(n,r,a,l,h){if(n!==null){var m=n.memoizedProps;if(Zl(m,l)&&n.ref===r.ref)if(qt=!1,r.pendingProps=l=m,vm(n,h))(n.flags&131072)!==0&&(qt=!0);else return r.lanes=n.lanes,rr(n,r,h)}return cm(n,r,a,l,h)}function h_(n,r,a){var l=r.pendingProps,h=l.children,m=(r.stateNode._pendingVisibility&2)!==0,E=n!==null?n.memoizedState:null;if(du(n,r),l.mode==="hidden"||m){if((r.flags&128)!==0){if(l=E!==null?E.baseLanes|a:a,n!==null){for(h=r.child=n.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return d_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&mh(r,E!==null?E.cachePool:null),E!==null?fv(r,E):zf(),mv(r);else return r.lanes=r.childLanes=536870912,d_(n,r,E!==null?E.baseLanes|a:a,a)}else E!==null?(mh(r,E.cachePool),fv(r,E),Zr(),r.memoizedState=null):(n!==null&&mh(r,null),zf(),Zr());return $t(n,r,h,a),r.child}function d_(n,r,a,l){var h=Hf();return h=h===null?null:{parent:Ot._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},n!==null&&mh(r,null),zf(),mv(r),n!==null&&fu(n,r,l,!0),null}function du(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function cm(n,r,a,l,h){return Ta(r),a=Qf(n,r,a,l,void 0,h),l=Kf(),n!==null&&!qt?($f(n,r,h),rr(n,r,h)):(Qe&&l&&kf(r),r.flags|=1,$t(n,r,a,h),r.child)}function f_(n,r,a,l,h,m){return Ta(r),r.updateQueue=null,a=_v(r,l,a,h),vv(n),l=Kf(),n!==null&&!qt?($f(n,r,m),rr(n,r,m)):(Qe&&l&&kf(r),r.flags|=1,$t(n,r,a,m),r.child)}function m_(n,r,a,l,h){if(Ta(r),r.stateNode===null){var m=vo,E=a.contextType;typeof E=="object"&&E!==null&&(m=en(E)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=lm,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Tm(r),E=a.contextType,m.context=typeof E=="object"&&E!==null?en(E):vo,m.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(om(r,a,E,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&lm.enqueueReplaceState(m,m.state,null),gu(r,l,m,h),pu(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){m=r.stateNode;var w=r.memoizedProps,C=Ea(a,w);m.props=C;var U=m.context,Z=a.contextType;E=vo,typeof Z=="object"&&Z!==null&&(E=en(Z));var ne=a.getDerivedStateFromProps;Z=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||U!==E)&&e_(r,m,l,E),ns=!1;var K=r.memoizedState;m.state=K,gu(r,l,m,h),pu(),U=r.memoizedState,w||K!==U||ns?(typeof ne=="function"&&(om(r,a,ne,l),U=r.memoizedState),(C=ns||Jv(r,a,C,l,K,U,E))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=U),m.props=l,m.state=U,m.context=E,l=C):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,wm(n,r),E=r.memoizedProps,Z=Ea(a,E),m.props=Z,ne=r.pendingProps,K=m.context,U=a.contextType,C=vo,typeof U=="object"&&U!==null&&(C=en(U)),w=a.getDerivedStateFromProps,(U=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ne||K!==C)&&e_(r,m,l,C),ns=!1,K=r.memoizedState,m.state=K,gu(r,l,m,h),pu();var W=r.memoizedState;E!==ne||K!==W||ns||n!==null&&n.dependencies!==null&&Ah(n.dependencies)?(typeof w=="function"&&(om(r,a,w,l),W=r.memoizedState),(Z=ns||Jv(r,a,Z,l,K,W,C)||n!==null&&n.dependencies!==null&&Ah(n.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,W,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,W,C)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=W),m.props=l,m.state=W,m.context=C,l=Z):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),l=!1)}return m=l,du(n,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&l?(r.child=pa(r,n.child,null,h),r.child=pa(r,null,a,h)):$t(n,r,a,h),r.memoizedState=m.state,n=r.child):n=rr(n,r,h),n}function p_(n,r,a,l){return tu(),r.flags|=256,$t(n,r,a,l),r.child}var hm={dehydrated:null,treeContext:null,retryLane:0};function dm(n){return{baseLanes:n,cachePool:yv()}}function fm(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Kn),n}function g_(n,r,a){var l=r.pendingProps,h=!1,m=(r.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(Dt.current&2)!==0),E&&(h=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Qe){if(h?Wr(r):Zr(),Qe){var w=Kt,C;if(C=w){e:{for(C=w,w=Si;C.nodeType!==8;){if(!w){w=null;break e}if(C=ii(C.nextSibling),C===null){w=null;break e}}w=C}w!==null?(r.memoizedState={dehydrated:w,treeContext:da!==null?{id:er,overflow:tr}:null,retryLane:536870912},C=Qn(18,null,null,0),C.stateNode=w,C.return=r,r.child=C,dn=r,Kt=null,C=!0):C=!1}C||ma(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?r.lanes=16:r.lanes=536870912,null;nr(r)}return w=l.children,l=l.fallback,h?(Zr(),h=r.mode,w=pm({mode:"hidden",children:w},h),l=Sa(l,h,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,h=r.child,h.memoizedState=dm(a),h.childLanes=fm(n,E,a),r.memoizedState=hm,l):(Wr(r),mm(r,w))}if(C=n.memoizedState,C!==null&&(w=C.dehydrated,w!==null)){if(m)r.flags&256?(Wr(r),r.flags&=-257,r=gm(n,r,a)):r.memoizedState!==null?(Zr(),r.child=n.child,r.flags|=128,r=null):(Zr(),h=l.fallback,w=r.mode,l=pm({mode:"visible",children:l.children},w),h=Sa(h,w,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,pa(r,n.child,null,a),l=r.child,l.memoizedState=dm(a),l.childLanes=fm(n,E,a),r.memoizedState=hm,r=h);else if(Wr(r),w.data==="$!"){if(E=w.nextSibling&&w.nextSibling.dataset,E)var U=E.dgst;E=U,l=Error(s(419)),l.stack="",l.digest=E,nu({value:l,source:null,stack:null}),r=gm(n,r,a)}else if(qt||fu(n,r,a,!1),E=(a&n.childLanes)!==0,qt||E){if(E=nt,E!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Xr(n,l),fn(E,n,l),o_}w.data==="$?"||Hm(),r=gm(n,r,a)}else w.data==="$?"?(r.flags|=128,r.child=n.child,r=MA.bind(null,n),w._reactRetry=r,r=null):(n=C.treeContext,Kt=ii(w.nextSibling),dn=r,Qe=!0,ti=null,Si=!1,n!==null&&(qn[Bn++]=er,qn[Bn++]=tr,qn[Bn++]=da,er=n.id,tr=n.overflow,da=r),r=mm(r,l.children),r.flags|=4096);return r}return h?(Zr(),h=l.fallback,w=r.mode,C=n.child,U=C.sibling,l=ls(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,U!==null?h=ls(U,h):(h=Sa(h,w,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,w=n.child.memoizedState,w===null?w=dm(a):(C=w.cachePool,C!==null?(U=Ot._currentValue,C=C.parent!==U?{parent:U,pool:U}:C):C=yv(),w={baseLanes:w.baseLanes|a,cachePool:C}),h.memoizedState=w,h.childLanes=fm(n,E,a),r.memoizedState=hm,l):(Wr(r),a=n.child,n=a.sibling,a=ls(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function mm(n,r){return r=pm({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function pm(n,r){return B_(n,r,0,null)}function gm(n,r,a){return pa(r,n.child,null,a),n=mm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function y_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Em(n.return,r,a)}function ym(n,r,a,l,h){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function v_(n,r,a){var l=r.pendingProps,h=l.revealOrder,m=l.tail;if($t(n,r,l.children,a),l=Dt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&y_(n,a,r);else if(n.tag===19)y_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Ze(Dt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&fh(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),ym(r,!1,h,a,m);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&fh(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}ym(r,!0,a,null,m);break;case"together":ym(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function rr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),us|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(fu(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=ls(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=ls(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function vm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Ah(n)))}function _A(n,r,a){switch(r.tag){case 3:Pr(r,r.stateNode.containerInfo),ts(r,Ot,n.memoizedState.cache),tu();break;case 27:case 5:Dl(r);break;case 4:Pr(r,r.stateNode.containerInfo);break;case 10:ts(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Wr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?g_(n,r,a):(Wr(r),n=rr(n,r,a),n!==null?n.sibling:null);Wr(r);break;case 19:var h=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(fu(n,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return v_(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ze(Dt,Dt.current),l)break;return null;case 22:case 23:return r.lanes=0,h_(n,r,a);case 24:ts(r,Ot,n.memoizedState.cache)}return rr(n,r,a)}function __(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)qt=!0;else{if(!vm(n,a)&&(r.flags&128)===0)return qt=!1,_A(n,r,a);qt=(n.flags&131072)!==0}else qt=!1,Qe&&(r.flags&1048576)!==0&&iv(r,lh,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Om(l)?(n=Ea(l,n),r.tag=1,r=m_(null,r,l,n,a)):(r.tag=0,r=cm(null,r,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===M){r.tag=11,r=l_(null,r,l,n,a);break e}else if(h===G){r.tag=14,r=u_(null,r,l,n,a);break e}}throw r=R(l)||l,Error(s(306,r,""))}}return r;case 0:return cm(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Ea(l,r.pendingProps),m_(n,r,l,h,a);case 3:e:{if(Pr(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var m=r.pendingProps;h=r.memoizedState,l=h.element,wm(n,r),gu(r,m,null,a);var E=r.memoizedState;if(m=E.cache,ts(r,Ot,m),m!==h.cache&&bm(r,[Ot],a,!0),pu(),m=E.element,h.isDehydrated)if(h={element:m,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=p_(n,r,m,a);break e}else if(m!==l){l=zn(Error(s(424)),r),nu(l),r=p_(n,r,m,a);break e}else for(Kt=ii(r.stateNode.containerInfo.firstChild),dn=r,Qe=!0,ti=null,Si=!0,a=dv(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(tu(),m===l){r=rr(n,r,a);break e}$t(n,r,m,a)}r=r.child}return r;case 26:return du(n,r),n===null?(a=T0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qe||(a=r.type,n=r.pendingProps,l=qh(On.current).createElement(a),l[Lt]=r,l[Ct]=n,Yt(l,a,n),at(l),r.stateNode=l):r.memoizedState=T0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Dl(r),n===null&&Qe&&(l=r.stateNode=_0(r.type,r.pendingProps,On.current),dn=r,Si=!0,Kt=ii(l.firstChild)),l=r.pendingProps.children,n!==null||Qe?$t(n,r,l,a):r.child=pa(r,null,l,a),du(n,r),r.child;case 5:return n===null&&Qe&&((h=l=Kt)&&(l=YA(l,r.type,r.pendingProps,Si),l!==null?(r.stateNode=l,dn=r,Kt=ii(l.firstChild),Si=!1,h=!0):h=!1),h||ma(r)),Dl(r),h=r.type,m=r.pendingProps,E=n!==null?n.memoizedProps:null,l=m.children,rp(h,m)?l=null:E!==null&&rp(h,E)&&(r.flags|=32),r.memoizedState!==null&&(h=Qf(n,r,dA,null,null,a),Du._currentValue=h),du(n,r),$t(n,r,l,a),r.child;case 6:return n===null&&Qe&&((n=a=Kt)&&(a=XA(a,r.pendingProps,Si),a!==null?(r.stateNode=a,dn=r,Kt=null,n=!0):n=!1),n||ma(r)),null;case 13:return g_(n,r,a);case 4:return Pr(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=pa(r,null,l,a):$t(n,r,l,a),r.child;case 11:return l_(n,r,r.type,r.pendingProps,a);case 7:return $t(n,r,r.pendingProps,a),r.child;case 8:return $t(n,r,r.pendingProps.children,a),r.child;case 12:return $t(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ts(r,r.type,l.value),$t(n,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ta(r),h=en(h),l=l(h),r.flags|=1,$t(n,r,l,a),r.child;case 14:return u_(n,r,r.type,r.pendingProps,a);case 15:return c_(n,r,r.type,r.pendingProps,a);case 19:return v_(n,r,a);case 22:return h_(n,r,a);case 24:return Ta(r),l=en(Ot),n===null?(h=Hf(),h===null&&(h=nt,m=Bf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),r.memoizedState={parent:l,cache:h},Tm(r),ts(r,Ot,h)):((n.lanes&a)!==0&&(wm(n,r),gu(r,null,null,a),pu()),h=n.memoizedState,m=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),ts(r,Ot,l)):(l=m.cache,ts(r,Ot,l),l!==h.cache&&bm(r,[Ot],a,!0))),$t(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var _m=He(null),ba=null,sr=null;function ts(n,r,a){Ze(_m,r._currentValue),r._currentValue=a}function ar(n){n._currentValue=_m.current,ct(_m)}function Em(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function bm(n,r,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var E=h.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=h;for(var C=0;C<r.length;C++)if(w.context===r[C]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),Em(m.return,a,n),l||(E=null);break e}m=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),Em(E,a,n),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===n){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function fu(n,r,a,l){n=null;for(var h=r,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=h.type;xn(h.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(h===Mr.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Du):n=[Du])}h=h.return}n!==null&&bm(r,n,a,l),r.flags|=262144}function Ah(n){for(n=n.firstContext;n!==null;){if(!xn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ta(n){ba=n,sr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return E_(ba,n)}function xh(n,r){return ba===null&&Ta(n),E_(n,r)}function E_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},sr===null){if(n===null)throw Error(s(308));sr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else sr=sr.next=r;return a}var ns=!1;function Tm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wm(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function is(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function rs(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(lt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=ah(n),tv(n,null,a),r}return sh(n,l,r,a),ah(n)}function mu(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,zr(n,a)}}function Sm(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?h=m=r:m=m.next=r}else h=m=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Am=!1;function pu(){if(Am){var n=So;if(n!==null)throw n}}function gu(n,r,a,l){Am=!1;var h=n.updateQueue;ns=!1;var m=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var C=w,U=C.next;C.next=null,E===null?m=U:E.next=U,E=C;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==E&&(w===null?Z.firstBaseUpdate=U:w.next=U,Z.lastBaseUpdate=C))}if(m!==null){var ne=h.baseState;E=0,Z=U=C=null,w=m;do{var K=w.lane&-536870913,W=K!==w.lane;if(W?(Be&K)===K:(l&K)===K){K!==0&&K===wo&&(Am=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var me=n,xe=w;K=r;var mt=a;switch(xe.tag){case 1:if(me=xe.payload,typeof me=="function"){ne=me.call(mt,ne,K);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=xe.payload,K=typeof me=="function"?me.call(mt,ne,K):me,K==null)break e;ne=I({},ne,K);break e;case 2:ns=!0}}K=w.callback,K!==null&&(n.flags|=64,W&&(n.flags|=8192),W=h.callbacks,W===null?h.callbacks=[K]:W.push(K))}else W={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(U=Z=W,C=ne):Z=Z.next=W,E|=K;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;W=w,w=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);Z===null&&(C=ne),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=Z,m===null&&(h.shared.lanes=0),us|=E,n.lanes=E,n.memoizedState=ne}}function b_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function T_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)b_(a[n],r)}function yu(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var m=a.create,E=a.inst;l=m(),E.destroy=l}a=a.next}while(a!==h)}}catch(w){tt(r,r.return,w)}}function ss(n,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&n)===n){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=r;var C=a;try{w()}catch(U){tt(h,C,U)}}}l=l.next}while(l!==m)}}catch(U){tt(r,r.return,U)}}function w_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{T_(r,a)}catch(l){tt(n,n.return,l)}}}function S_(n,r,a){a.props=Ea(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){tt(n,r,l)}}function wa(n,r){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?n.refCleanup=a(h):a.current=h}}catch(m){tt(n,r,m)}}function Rn(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){tt(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(n,r,h)}else a.current=null}function A_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){tt(n,n.return,h)}}function x_(n,r,a){try{var l=n.stateNode;HA(l,n.type,a,r),l[Ct]=r}catch(h){tt(n,n.return,h)}}function R_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function xm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||R_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Rm(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=zh));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Rm(n,r,a),n=n.sibling;n!==null;)Rm(n,r,a),n=n.sibling}function Rh(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Rh(n,r,a),n=n.sibling;n!==null;)Rh(n,r,a),n=n.sibling}var or=!1,dt=!1,Cm=!1,C_=typeof WeakSet=="function"?WeakSet:Set,Bt=null,I_=!1;function EA(n,r){if(n=n.containerInfo,np=Kh,n=Qy(n),Nf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,w=-1,C=-1,U=0,Z=0,ne=n,K=null;t:for(;;){for(var W;ne!==a||h!==0&&ne.nodeType!==3||(w=E+h),ne!==m||l!==0&&ne.nodeType!==3||(C=E+l),ne.nodeType===3&&(E+=ne.nodeValue.length),(W=ne.firstChild)!==null;)K=ne,ne=W;for(;;){if(ne===n)break t;if(K===a&&++U===h&&(w=E),K===m&&++Z===l&&(C=E),(W=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=W}a=w===-1||C===-1?null:{start:w,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(ip={focusedElem:n,selectionRange:a},Kh=!1,Bt=r;Bt!==null;)if(r=Bt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Bt=n;else for(;Bt!==null;){switch(r=Bt,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var me=Ea(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(me,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(xe){tt(a,a.return,xe)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)op(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":op(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Bt=n;break}Bt=r.return}return me=I_,I_=!1,me}function N_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ur(n,a),l&4&&yu(5,a);break;case 1:if(ur(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(w){tt(a,a.return,w)}else{var h=Ea(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(w){tt(a,a.return,w)}}l&64&&w_(a),l&512&&wa(a,a.return);break;case 3:if(ur(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{T_(l,n)}catch(w){tt(a,a.return,w)}}break;case 26:ur(n,a),l&512&&wa(a,a.return);break;case 27:case 5:ur(n,a),r===null&&l&4&&A_(a),l&512&&wa(a,a.return);break;case 12:ur(n,a);break;case 13:ur(n,a),l&4&&M_(n,a);break;case 22:if(h=a.memoizedState!==null||or,!h){r=r!==null&&r.memoizedState!==null||dt;var m=or,E=dt;or=h,(dt=r)&&!E?as(n,a,(a.subtreeFlags&8772)!==0):ur(n,a),or=m,dt=E}l&512&&(a.memoizedProps.mode==="manual"?wa(a,a.return):Rn(a,a.return));break;default:ur(n,a)}}function D_(n){var r=n.alternate;r!==null&&(n.alternate=null,D_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Js(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var wt=null,Cn=!1;function lr(n,r,a){for(a=a.child;a!==null;)O_(n,r,a),a=a.sibling}function O_(n,r,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Vr,a)}catch{}switch(a.tag){case 26:dt||Rn(a,r),lr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||Rn(a,r);var l=wt,h=Cn;for(wt=a.stateNode,lr(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Js(a),wt=l,Cn=h;break;case 5:dt||Rn(a,r);case 6:h=wt;var m=Cn;if(wt=null,lr(n,r,a),wt=h,Cn=m,wt!==null)if(Cn)try{n=wt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(E){tt(a,r,E)}else try{wt.removeChild(a.stateNode)}catch(E){tt(a,r,E)}break;case 18:wt!==null&&(Cn?(r=wt,a=a.stateNode,r.nodeType===8?ap(r.parentNode,a):r.nodeType===1&&ap(r,a),Vu(r)):ap(wt,a.stateNode));break;case 4:l=wt,h=Cn,wt=a.stateNode.containerInfo,Cn=!0,lr(n,r,a),wt=l,Cn=h;break;case 0:case 11:case 14:case 15:dt||ss(2,a,r),dt||ss(4,a,r),lr(n,r,a);break;case 1:dt||(Rn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&S_(a,r,l)),lr(n,r,a);break;case 21:lr(n,r,a);break;case 22:dt||Rn(a,r),dt=(l=dt)||a.memoizedState!==null,lr(n,r,a),dt=l;break;default:lr(n,r,a)}}function M_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Vu(n)}catch(a){tt(r,r.return,a)}}function bA(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new C_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new C_),r;default:throw Error(s(435,n.tag))}}function Im(n,r){var a=bA(n);r.forEach(function(l){var h=PA.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Hn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=n,E=r,w=E;e:for(;w!==null;){switch(w.tag){case 27:case 5:wt=w.stateNode,Cn=!1;break e;case 3:wt=w.stateNode.containerInfo,Cn=!0;break e;case 4:wt=w.stateNode.containerInfo,Cn=!0;break e}w=w.return}if(wt===null)throw Error(s(160));O_(m,E,h),wt=null,Cn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)P_(r,n),r=r.sibling}var ni=null;function P_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Hn(r,n),Gn(n),l&4&&(ss(3,n,n.return),yu(3,n),ss(5,n,n.return));break;case 1:Hn(r,n),Gn(n),l&512&&(dt||a===null||Rn(a,a.return)),l&64&&or&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ni;if(Hn(r,n),Gn(n),l&512&&(dt||a===null||Rn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Br]||m[Lt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Yt(m,l,a),m[Lt]=n,at(m),l=m;break e;case"link":var E=A0("link","href",h).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(m=E[w],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}m=h.createElement(l),Yt(m,l,a),h.head.appendChild(m);break;case"meta":if(E=A0("meta","content",h).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(m=E[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}m=h.createElement(l),Yt(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[Lt]=n,at(m),l=m}n.stateNode=l}else x0(h,n.type,n.stateNode);else n.stateNode=S0(h,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?x0(h,n.type,n.stateNode):S0(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&x_(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){h=n.stateNode,m=n.memoizedProps;try{for(var C=h.firstChild;C;){var U=C.nextSibling,Z=C.nodeName;C[Br]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=U}for(var ne=n.type,K=h.attributes;K.length;)h.removeAttributeNode(K[0]);Yt(h,ne,m),h[Lt]=n,h[Ct]=m}catch(me){tt(n,n.return,me)}}case 5:if(Hn(r,n),Gn(n),l&512&&(dt||a===null||Rn(a,a.return)),n.flags&32){h=n.stateNode;try{Vn(h,"")}catch(me){tt(n,n.return,me)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,x_(n,h,a!==null?a.memoizedProps:h)),l&1024&&(Cm=!0);break;case 6:if(Hn(r,n),Gn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(me){tt(n,n.return,me)}}break;case 3:if(Hh=null,h=ni,ni=Bh(r.containerInfo),Hn(r,n),ni=h,Gn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Vu(r.containerInfo)}catch(me){tt(n,n.return,me)}Cm&&(Cm=!1,V_(n));break;case 4:l=ni,ni=Bh(n.stateNode.containerInfo),Hn(r,n),Gn(n),ni=l;break;case 12:Hn(r,n),Gn(n);break;case 13:Hn(r,n),Gn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lm=gn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Im(n,l)));break;case 22:if(l&512&&(dt||a===null||Rn(a,a.return)),C=n.memoizedState!==null,U=a!==null&&a.memoizedState!==null,Z=or,ne=dt,or=Z||C,dt=ne||U,Hn(r,n),dt=ne,or=Z,Gn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=C?r._visibility&-2:r._visibility|1,C&&(r=or||dt,a===null||U||r||Co(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){U=a=r;try{if(h=U.stateNode,C)m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{E=U.stateNode,w=U.memoizedProps.style;var W=w!=null&&w.hasOwnProperty("display")?w.display:null;E.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(me){tt(U,U.return,me)}}}else if(r.tag===6){if(a===null){U=r;try{U.stateNode.nodeValue=C?"":U.memoizedProps}catch(me){tt(U,U.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Im(n,a))));break;case 19:Hn(r,n),Gn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Im(n,l)));break;case 21:break;default:Hn(r,n),Gn(n)}}function Gn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(R_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,m=xm(n);Rh(n,m,h);break;case 5:var E=l.stateNode;l.flags&32&&(Vn(E,""),l.flags&=-33);var w=xm(n);Rh(n,w,E);break;case 3:case 4:var C=l.stateNode.containerInfo,U=xm(n);Rm(n,U,C);break;default:throw Error(s(161))}}}catch(Z){tt(n,n.return,Z)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function V_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;V_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function ur(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)N_(n,r.alternate,r),r=r.sibling}function Co(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:ss(4,r,r.return),Co(r);break;case 1:Rn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&S_(r,r.return,a),Co(r);break;case 26:case 27:case 5:Rn(r,r.return),Co(r);break;case 22:Rn(r,r.return),r.memoizedState===null&&Co(r);break;default:Co(r)}n=n.sibling}}function as(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=n,m=r,E=m.flags;switch(m.tag){case 0:case 11:case 15:as(h,m,a),yu(4,m);break;case 1:if(as(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){tt(l,l.return,U)}if(l=m,h=l.updateQueue,h!==null){var w=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)b_(C[h],w)}catch(U){tt(l,l.return,U)}}a&&E&64&&w_(m),wa(m,m.return);break;case 26:case 27:case 5:as(h,m,a),a&&l===null&&E&4&&A_(m),wa(m,m.return);break;case 12:as(h,m,a);break;case 13:as(h,m,a),a&&E&4&&M_(h,m);break;case 22:m.memoizedState===null&&as(h,m,a),wa(m,m.return);break;default:as(h,m,a)}r=r.sibling}}function Nm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ou(a))}function Dm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ou(n))}function os(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)k_(n,r,a,l),r=r.sibling}function k_(n,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:os(n,r,a,l),h&2048&&yu(9,r);break;case 3:os(n,r,a,l),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ou(n)));break;case 12:if(h&2048){os(n,r,a,l),n=r.stateNode;try{var m=r.memoizedProps,E=m.id,w=m.onPostCommit;typeof w=="function"&&w(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){tt(r,r.return,C)}}else os(n,r,a,l);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?os(n,r,a,l):vu(n,r):m._visibility&4?os(n,r,a,l):(m._visibility|=4,Io(n,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Nm(r.alternate,r);break;case 24:os(n,r,a,l),h&2048&&Dm(r.alternate,r);break;default:os(n,r,a,l)}}function Io(n,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,E=r,w=a,C=l,U=E.flags;switch(E.tag){case 0:case 11:case 15:Io(m,E,w,C,h),yu(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&4?Io(m,E,w,C,h):vu(m,E):(Z._visibility|=4,Io(m,E,w,C,h)),h&&U&2048&&Nm(E.alternate,E);break;case 24:Io(m,E,w,C,h),h&&U&2048&&Dm(E.alternate,E);break;default:Io(m,E,w,C,h)}r=r.sibling}}function vu(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,h=l.flags;switch(l.tag){case 22:vu(a,l),h&2048&&Nm(l.alternate,l);break;case 24:vu(a,l),h&2048&&Dm(l.alternate,l);break;default:vu(a,l)}r=r.sibling}}var _u=8192;function No(n){if(n.subtreeFlags&_u)for(n=n.child;n!==null;)j_(n),n=n.sibling}function j_(n){switch(n.tag){case 26:No(n),n.flags&_u&&n.memoizedState!==null&&ux(ni,n.memoizedState,n.memoizedProps);break;case 5:No(n);break;case 3:case 4:var r=ni;ni=Bh(n.stateNode.containerInfo),No(n),ni=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=_u,_u=16777216,No(n),_u=r):No(n));break;default:No(n)}}function L_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Eu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,z_(l,n)}L_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)U_(n),n=n.sibling}function U_(n){switch(n.tag){case 0:case 11:case 15:Eu(n),n.flags&2048&&ss(9,n,n.return);break;case 3:Eu(n);break;case 12:Eu(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Ch(n)):Eu(n);break;default:Eu(n)}}function Ch(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,z_(l,n)}L_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:ss(8,r,r.return),Ch(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Ch(r));break;default:Ch(r)}n=n.sibling}}function z_(n,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:ss(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ou(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=n;Bt!==null;){l=Bt;var h=l.sibling,m=l.return;if(D_(l),l===a){Bt=null;break e}if(h!==null){h.return=m,Bt=h;break e}Bt=m}}}function TA(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(n,r,a,l){return new TA(n,r,a,l)}function Om(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ls(n,r){var a=n.alternate;return a===null?(a=Qn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function q_(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ih(n,r,a,l,h,m){var E=0;if(l=n,typeof n=="function")Om(n)&&(E=1);else if(typeof n=="string")E=ox(n,a,ln.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return Sa(a.children,h,m,r);case g:E=8,h|=24;break;case b:return n=Qn(12,a,r,h|2),n.elementType=b,n.lanes=m,n;case F:return n=Qn(13,a,r,h),n.elementType=F,n.lanes=m,n;case O:return n=Qn(19,a,r,h),n.elementType=O,n.lanes=m,n;case X:return B_(a,h,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case N:E=10;break e;case x:E=9;break e;case M:E=11;break e;case G:E=14;break e;case Y:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Qn(E,a,r,h),r.elementType=n,r.type=l,r.lanes=m,r}function Sa(n,r,a,l){return n=Qn(7,n,l,r),n.lanes=a,n}function B_(n,r,a,l){n=Qn(22,n,l,r),n.elementType=X,n.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=h._current;if(m===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var E=Xr(m,2);E!==null&&(h._pendingVisibility|=2,fn(E,m,2))}},attach:function(){var m=h._current;if(m===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var E=Xr(m,2);E!==null&&(h._pendingVisibility&=-3,fn(E,m,2))}}};return n.stateNode=h,n}function Mm(n,r,a){return n=Qn(6,n,null,r),n.lanes=a,n}function Pm(n,r,a){return r=Qn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function cr(n){n.flags|=4}function F_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!R0(r)){if(r=Fn.current,r!==null&&((Be&4194176)===Be?Ai!==null:(Be&62914560)!==Be&&(Be&536870912)===0||r!==Ai))throw ru=Uf,av;n.flags|=8192}}function Nh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Lr():536870912,n.lanes|=r,Oo|=r)}function bu(n,r){if(!Qe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ot(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function wA(n,r,a){var l=r.pendingProps;switch(jf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ar(Ot),Fi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(eu(r)?cr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ti!==null&&(Bm(ti),ti=null))),ot(r),null;case 26:return a=r.memoizedState,n===null?(cr(r),a!==null?(ot(r),F_(r,a)):(ot(r),r.flags&=-16777217)):a?a!==n.memoizedState?(cr(r),ot(r),F_(r,a)):(ot(r),r.flags&=-16777217):(n.memoizedProps!==l&&cr(r),ot(r),r.flags&=-16777217),null;case 27:Xa(r),a=On.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&cr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}n=ln.current,eu(r)?rv(r):(n=_0(h,l,a),r.stateNode=n,cr(r))}return ot(r),null;case 5:if(Xa(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&cr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(n=ln.current,eu(r))rv(r);else{switch(h=qh(On.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Lt]=r,n[Ct]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;e:switch(Yt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&cr(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&cr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=On.current,eu(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,h=dn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Lt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||f0(n.nodeValue,a)),n||ma(r)}else n=qh(n).createTextNode(l),n[Lt]=r,r.stateNode=n}return ot(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=eu(r),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Lt]=r}else tu(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),h=!1}else ti!==null&&(Bm(ti),ti=null),h=!0;if(!h)return r.flags&256?(nr(r),r):(nr(r),null)}if(nr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Nh(r,r.updateQueue),ot(r),null;case 4:return Fi(),n===null&&Jm(r.stateNode.containerInfo),ot(r),null;case 10:return ar(r.type),ot(r),null;case 19:if(ct(Dt),h=r.memoizedState,h===null)return ot(r),null;if(l=(r.flags&128)!==0,m=h.rendering,m===null)if(l)bu(h,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=fh(n),m!==null){for(r.flags|=128,bu(h,!1),n=m.updateQueue,r.updateQueue=n,Nh(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)q_(a,n),a=a.sibling;return Ze(Dt,Dt.current&1|2),r.child}n=n.sibling}h.tail!==null&&gn()>Dh&&(r.flags|=128,l=!0,bu(h,!1),r.lanes=4194304)}else{if(!l)if(n=fh(m),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Nh(r,n),bu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Qe)return ot(r),null}else 2*gn()-h.renderingStartTime>Dh&&a!==536870912&&(r.flags|=128,l=!0,bu(h,!1),r.lanes=4194304);h.isBackwards?(m.sibling=r.child,r.child=m):(n=h.last,n!==null?n.sibling=m:r.child=m,h.last=m)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=gn(),r.sibling=null,n=Dt.current,Ze(Dt,l?n&1|2:n&1),r):(ot(r),null);case 22:case 23:return nr(r),qf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&Nh(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ct(ga),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ar(Ot),ot(r),null;case 25:return null}throw Error(s(156,r.tag))}function SA(n,r){switch(jf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return ar(Ot),Fi(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Xa(r),null;case 13:if(nr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));tu()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ct(Dt),null;case 4:return Fi(),null;case 10:return ar(r.type),null;case 22:case 23:return nr(r),qf(),n!==null&&ct(ga),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return ar(Ot),null;case 25:return null;default:return null}}function H_(n,r){switch(jf(r),r.tag){case 3:ar(Ot),Fi();break;case 26:case 27:case 5:Xa(r);break;case 4:Fi();break;case 13:nr(r);break;case 19:ct(Dt);break;case 10:ar(r.type);break;case 22:case 23:nr(r),qf(),n!==null&&ct(ga);break;case 24:ar(Ot)}}var AA={getCacheForType:function(n){var r=en(Ot),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},xA=typeof WeakMap=="function"?WeakMap:Map,lt=0,nt=null,Pe=null,Be=0,it=0,In=null,hr=!1,Do=!1,Vm=!1,dr=0,ft=0,us=0,Aa=0,km=0,Kn=0,Oo=0,Tu=null,Ri=null,jm=!1,Lm=0,Dh=1/0,Oh=null,cs=null,Mh=!1,xa=null,wu=0,Um=0,zm=null,Su=0,qm=null;function Nn(){if((lt&2)!==0&&Be!==0)return Be&-Be;if(A.T!==null){var n=wo;return n!==0?n:Ym()}return Uc()}function G_(){Kn===0&&(Kn=(Be&536870912)===0||Qe?kl():536870912);var n=Fn.current;return n!==null&&(n.flags|=32),Kn}function fn(n,r,a){(n===nt&&it===2||n.cancelPendingCommit!==null)&&(Mo(n,0),fr(n,Be,Kn,!1)),gt(n,a),((lt&2)===0||n!==nt)&&(n===nt&&((lt&2)===0&&(Aa|=a),ft===4&&fr(n,Be,Kn,!1)),Ci(n))}function Q_(n,r,a){if((lt&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&n.expiredLanes)===0||jr(n,r),h=l?IA(n,r):Gm(n,r,!0),m=l;do{if(h===0){Do&&!l&&fr(n,r,0,!1);break}else if(h===6)fr(n,r,0,!hr);else{if(a=n.current.alternate,m&&!RA(a)){h=Gm(n,r,!1),m=!1;continue}if(h===2){if(m=r,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var w=n;h=Tu;var C=w.current.memoizedState.isDehydrated;if(C&&(Mo(w,E).flags|=256),E=Gm(w,E,!1),E!==2){if(Vm&&!C){w.errorRecoveryDisabledLanes|=m,Aa|=m,h=4;break e}m=Ri,Ri=h,m!==null&&Bm(m)}h=E}if(m=!1,h!==2)continue}}if(h===1){Mo(n,0),fr(n,r,0,!0);break}e:{switch(l=n,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){fr(l,r,Kn,!hr);break e}break;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(m=Lm+300-gn(),10<m)){if(fr(l,r,Kn,!hr),Mn(l,0)!==0)break e;l.timeoutHandle=g0(K_.bind(null,l,a,Ri,Oh,jm,r,Kn,Aa,Oo,hr,2,-0,0),m);break e}K_(l,a,Ri,Oh,jm,r,Kn,Aa,Oo,hr,0,-0,0)}}break}while(!0);Ci(n)}function Bm(n){Ri===null?Ri=n:Ri.push.apply(Ri,n)}function K_(n,r,a,l,h,m,E,w,C,U,Z,ne,K){var W=r.subtreeFlags;if((W&8192||(W&16785408)===16785408)&&(Nu={stylesheets:null,count:0,unsuspend:lx},j_(r),r=cx(),r!==null)){n.cancelPendingCommit=r(e0.bind(null,n,a,l,h,E,w,C,1,ne,K)),fr(n,m,E,!U);return}e0(n,a,l,h,E,w,C,Z,ne,K)}function RA(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!xn(m(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function fr(n,r,a,l){r&=~km,r&=~Aa,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var h=r;0<h;){var m=31-un(h),E=1<<m;l[m]=-1,h&=~E}a!==0&&Ur(n,a,r)}function Ph(){return(lt&6)===0?(Au(0),!1):!0}function Fm(){if(Pe!==null){if(it===0)var n=Pe.return;else n=Pe,sr=ba=null,Yf(n),bo=null,su=0,n=Pe;for(;n!==null;)H_(n.alternate,n),n=n.return;Pe=null}}function Mo(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,QA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Fm(),nt=n,Pe=a=ls(n.current,null),Be=r,it=0,In=null,hr=!1,Do=jr(n,r),Vm=!1,Oo=Kn=km=Aa=us=ft=0,Ri=Tu=null,jm=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var h=31-un(l),m=1<<h;r|=n[h],l&=~m}return dr=r,rh(),a}function $_(n,r){Oe=null,A.H=xi,r===iu?(r=uv(),it=3):r===av?(r=uv(),it=4):it=r===o_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,Pe===null&&(ft=1,Sh(n,zn(r,n.current)))}function Y_(){var n=A.H;return A.H=xi,n===null?xi:n}function X_(){var n=A.A;return A.A=AA,n}function Hm(){ft=4,hr||(Be&4194176)!==Be&&Fn.current!==null||(Do=!0),(us&134217727)===0&&(Aa&134217727)===0||nt===null||fr(nt,Be,Kn,!1)}function Gm(n,r,a){var l=lt;lt|=2;var h=Y_(),m=X_();(nt!==n||Be!==r)&&(Oh=null,Mo(n,r)),r=!1;var E=ft;e:do try{if(it!==0&&Pe!==null){var w=Pe,C=In;switch(it){case 8:Fm(),E=6;break e;case 3:case 2:case 6:Fn.current===null&&(r=!0);var U=it;if(it=0,In=null,Po(n,w,C,U),a&&Do){E=0;break e}break;default:U=it,it=0,In=null,Po(n,w,C,U)}}CA(),E=ft;break}catch(Z){$_(n,Z)}while(!0);return r&&n.shellSuspendCounter++,sr=ba=null,lt=l,A.H=h,A.A=m,Pe===null&&(nt=null,Be=0,rh()),E}function CA(){for(;Pe!==null;)W_(Pe)}function IA(n,r){var a=lt;lt|=2;var l=Y_(),h=X_();nt!==n||Be!==r?(Oh=null,Dh=gn()+500,Mo(n,r)):Do=jr(n,r);e:do try{if(it!==0&&Pe!==null){r=Pe;var m=In;t:switch(it){case 1:it=0,In=null,Po(n,r,m,1);break;case 2:if(ov(m)){it=0,In=null,Z_(r);break}r=function(){it===2&&nt===n&&(it=7),Ci(n)},m.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:ov(m)?(it=0,In=null,Z_(r)):(it=0,In=null,Po(n,r,m,7));break;case 5:var E=null;switch(Pe.tag){case 26:E=Pe.memoizedState;case 5:case 27:var w=Pe;if(!E||R0(E)){it=0,In=null;var C=w.sibling;if(C!==null)Pe=C;else{var U=w.return;U!==null?(Pe=U,Vh(U)):Pe=null}break t}}it=0,In=null,Po(n,r,m,5);break;case 6:it=0,In=null,Po(n,r,m,6);break;case 8:Fm(),ft=6;break e;default:throw Error(s(462))}}NA();break}catch(Z){$_(n,Z)}while(!0);return sr=ba=null,A.H=l,A.A=h,lt=a,Pe!==null?0:(nt=null,Be=0,rh(),ft)}function NA(){for(;Pe!==null&&!_f();)W_(Pe)}function W_(n){var r=__(n.alternate,n,dr);n.memoizedProps=n.pendingProps,r===null?Vh(n):Pe=r}function Z_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=f_(a,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=f_(a,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:Yf(r);default:H_(a,r),r=Pe=q_(r,dr),r=__(a,r,dr)}n.memoizedProps=n.pendingProps,r===null?Vh(n):Pe=r}function Po(n,r,a,l){sr=ba=null,Yf(r),bo=null,su=0;var h=r.return;try{if(vA(n,h,r,a,Be)){ft=1,Sh(n,zn(a,n.current)),Pe=null;return}}catch(m){if(h!==null)throw Pe=h,m;ft=1,Sh(n,zn(a,n.current)),Pe=null;return}r.flags&32768?(Qe||l===1?n=!0:Do||(Be&536870912)!==0?n=!1:(hr=n=!0,(l===2||l===3||l===6)&&(l=Fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),J_(r,n)):Vh(r)}function Vh(n){var r=n;do{if((r.flags&32768)!==0){J_(r,hr);return}n=r.return;var a=wA(r.alternate,r,dr);if(a!==null){Pe=a;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=n}while(r!==null);ft===0&&(ft=5)}function J_(n,r){do{var a=SA(n.alternate,n);if(a!==null){a.flags&=32767,Pe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Pe=n;return}Pe=n=a}while(n!==null);ft=6,Pe=null}function e0(n,r,a,l,h,m,E,w,C,U){var Z=A.T,ne=ce.p;try{ce.p=2,A.T=null,DA(n,r,a,l,ne,h,m,E,w,C,U)}finally{A.T=Z,ce.p=ne}}function DA(n,r,a,l,h,m,E,w){do Vo();while(xa!==null);if((lt&6)!==0)throw Error(s(327));var C=n.finishedWork;if(l=n.finishedLanes,C===null)return null;if(n.finishedWork=null,n.finishedLanes=0,C===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var U=C.lanes|C.childLanes;if(U|=Pf,jc(n,l,U,m,E,w),n===nt&&(Pe=nt=null,Be=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Mh||(Mh=!0,Um=U,zm=a,VA(Hi,function(){return Vo(),null})),a=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,m=ce.p,ce.p=2,E=lt,lt|=4,EA(n,C),P_(C,n),tA(ip,n.containerInfo),Kh=!!np,ip=np=null,n.current=C,N_(n,C.alternate,C),Ol(),lt=E,ce.p=m,A.T=a):n.current=C,Mh?(Mh=!1,xa=n,wu=l):t0(n,U),U=n.pendingLanes,U===0&&(cs=null),Pl(C.stateNode),Ci(n),r!==null)for(h=n.onRecoverableError,C=0;C<r.length;C++)U=r[C],h(U.value,{componentStack:U.stack});return(wu&3)!==0&&Vo(),U=n.pendingLanes,(l&4194218)!==0&&(U&42)!==0?n===qm?Su++:(Su=0,qm=n):Su=0,Au(0),null}function t0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ou(r)))}function Vo(){if(xa!==null){var n=xa,r=Um;Um=0;var a=Lc(wu),l=A.T,h=ce.p;try{if(ce.p=32>a?32:a,A.T=null,xa===null)var m=!1;else{a=zm,zm=null;var E=xa,w=wu;if(xa=null,wu=0,(lt&6)!==0)throw Error(s(331));var C=lt;if(lt|=4,U_(E.current),k_(E,E.current,w,a),lt=C,Au(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Vr,E)}catch{}m=!0}return m}finally{ce.p=h,A.T=l,t0(n,r)}}return!1}function n0(n,r,a){r=zn(a,r),r=um(n.stateNode,r,2),n=rs(n,r,2),n!==null&&(gt(n,2),Ci(n))}function tt(n,r,a){if(n.tag===3)n0(n,n,a);else for(;r!==null;){if(r.tag===3){n0(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(cs===null||!cs.has(l))){n=zn(a,n),a=s_(2),l=rs(r,a,2),l!==null&&(a_(a,l,r,n),gt(l,2),Ci(l));break}}r=r.return}}function Qm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new xA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Vm=!0,h.add(a),n=OA.bind(null,n,r,a),r.then(n,n))}function OA(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,nt===n&&(Be&a)===a&&(ft===4||ft===3&&(Be&62914560)===Be&&300>gn()-Lm?(lt&2)===0&&Mo(n,0):km|=a,Oo===Be&&(Oo=0)),Ci(n)}function i0(n,r){r===0&&(r=Lr()),n=Xr(n,r),n!==null&&(gt(n,r),Ci(n))}function MA(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),i0(n,a)}function PA(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),i0(n,a)}function VA(n,r){return Xs(n,r)}var kh=null,ko=null,Km=!1,jh=!1,$m=!1,Ra=0;function Ci(n){n!==ko&&n.next===null&&(ko===null?kh=ko=n:ko=ko.next=n),jh=!0,Km||(Km=!0,jA(kA))}function Au(n,r){if(!$m&&jh){$m=!0;do for(var a=!1,l=kh;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var E=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-un(42|n)+1)-1,m&=h&~(E&~w),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,a0(l,m))}else m=Be,m=Mn(l,l===nt?m:0),(m&3)===0||jr(l,m)||(a=!0,a0(l,m));l=l.next}while(a);$m=!1}}function kA(){jh=Km=!1;var n=0;Ra!==0&&(GA()&&(n=Ra),Ra=0);for(var r=gn(),a=null,l=kh;l!==null;){var h=l.next,m=r0(l,r);m===0?(l.next=null,a===null?kh=h:a.next=h,h===null&&(ko=a)):(a=l,(n!==0||(m&3)!==0)&&(jh=!0)),l=h}Au(n)}function r0(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-un(m),w=1<<E,C=h[E];C===-1?((w&a)===0||(w&l)!==0)&&(h[E]=Ja(w,r)):C<=r&&(n.expiredLanes|=w),m&=~w}if(r=nt,a=Be,a=Mn(n,n===r?a:0),l=n.callbackNode,a===0||n===r&&it===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Za(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||jr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Za(l),Lc(a)){case 2:case 8:a=jt;break;case 32:a=Hi;break;case 268435456:a=Ml;break;default:a=Hi}return l=s0.bind(null,n),a=Xs(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Za(l),n.callbackPriority=2,n.callbackNode=null,2}function s0(n,r){var a=n.callbackNode;if(Vo()&&n.callbackNode!==a)return null;var l=Be;return l=Mn(n,n===nt?l:0),l===0?null:(Q_(n,l,r),r0(n,gn()),n.callbackNode!=null&&n.callbackNode===a?s0.bind(null,n):null)}function a0(n,r){if(Vo())return null;Q_(n,r,!0)}function jA(n){KA(function(){(lt&6)!==0?Xs(Rt,n):n()})}function Ym(){return Ra===0&&(Ra=kl()),Ra}function o0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:yi(""+n)}function l0(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function LA(n,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var m=o0((h[Ct]||null).action),E=l.submitter;E&&(r=(r=E[Ct]||null)?o0(r.formAction):E.getAttribute("formAction"),r!==null&&(m=r,E=null));var w=new ao("action","action",null,l,h);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ra!==0){var C=E?l0(h,E):new FormData(h);rm(a,{pending:!0,data:C,method:h.method,action:m},null,C)}}else typeof m=="function"&&(w.preventDefault(),C=E?l0(h,E):new FormData(h),rm(a,{pending:!0,data:C,method:h.method,action:m},m,C))},currentTarget:h}]})}}for(var Xm=0;Xm<ev.length;Xm++){var Wm=ev[Xm],UA=Wm.toLowerCase(),zA=Wm[0].toUpperCase()+Wm.slice(1);ei(UA,"on"+zA)}ei(Yy,"onAnimationEnd"),ei(Xy,"onAnimationIteration"),ei(Wy,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(iA,"onTransitionRun"),ei(rA,"onTransitionStart"),ei(sA,"onTransitionCancel"),ei(Zy,"onTransitionEnd"),yn("onMouseEnter",["mouseout","mouseover"]),yn("onMouseLeave",["mouseout","mouseover"]),yn("onPointerEnter",["pointerout","pointerover"]),yn("onPointerLeave",["pointerout","pointerover"]),Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function u0(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var E=l.length-1;0<=E;E--){var w=l[E],C=w.instance,U=w.currentTarget;if(w=w.listener,C!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=U;try{m(h)}catch(Z){wh(Z)}h.currentTarget=null,m=C}else for(E=0;E<l.length;E++){if(w=l[E],C=w.instance,U=w.currentTarget,w=w.listener,C!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=U;try{m(h)}catch(Z){wh(Z)}h.currentTarget=null,m=C}}}}function je(n,r){var a=r[Zs];a===void 0&&(a=r[Zs]=new Set);var l=n+"__bubble";a.has(l)||(c0(r,n,2,!1),a.add(l))}function Zm(n,r,a){var l=0;r&&(l|=4),c0(a,n,l,r)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function Jm(n){if(!n[Lh]){n[Lh]=!0,Ll.forEach(function(a){a!=="selectionchange"&&(qA.has(a)||Zm(a,!1,n),Zm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Lh]||(r[Lh]=!0,Zm("selectionchange",!1,r))}}function c0(n,r,a,l){switch(M0(r)){case 2:var h=fx;break;case 8:h=mx;break;default:h=dp}a=h.bind(null,r,a,n),h=void 0,!jn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function ep(n,r,a,l,h){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&(C=E.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;E=E.return}for(;w!==null;){if(E=Jn(w),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=m=E;continue e}w=w.parentNode}}l=l.return}Fc(function(){var U=m,Z=so(a),ne=[];e:{var K=Jy.get(n);if(K!==void 0){var W=ao,me=n;switch(n){case"keypress":if(_i(a)===0)break e;case"keydown":case"keyup":W=fo;break;case"focusin":me="focus",W=uo;break;case"focusout":me="blur",W=uo;break;case"beforeblur":case"afterblur":W=uo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Wc;break;case Yy:case Xy:case Wy:W=co;break;case Zy:W=Jc;break;case"scroll":case"scrollend":W=Hc;break;case"wheel":W=mo;break;case"copy":case"cut":case"paste":W=ho;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Xl;break;case"toggle":case"beforetoggle":W=th}var xe=(r&4)!==0,mt=!xe&&(n==="scroll"||n==="scrollend"),z=xe?K!==null?K+"Capture":null:K;xe=[];for(var L=U,H;L!==null;){var J=L;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||z===null||(J=ia(L,z),J!=null&&xe.push(Ru(L,J,H))),mt)break;L=L.return}0<xe.length&&(K=new W(K,me,null,a,Z),ne.push({event:K,listeners:xe}))}}if((r&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",W=n==="mouseout"||n==="pointerout",K&&a!==kn&&(me=a.relatedTarget||a.fromElement)&&(Jn(me)||me[Gi]))break e;if((W||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,W?(me=a.relatedTarget||a.toElement,W=U,me=me?Jn(me):null,me!==null&&(mt=ve(me),xe=me.tag,me!==mt||xe!==5&&xe!==27&&xe!==6)&&(me=null)):(W=null,me=U),W!==me)){if(xe=Ln,J="onMouseLeave",z="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(xe=Xl,J="onPointerLeave",z="onPointerEnter",L="pointer"),mt=W==null?K:Fr(W),H=me==null?K:Fr(me),K=new xe(J,L+"leave",W,a,Z),K.target=mt,K.relatedTarget=H,J=null,Jn(Z)===U&&(xe=new xe(z,L+"enter",me,a,Z),xe.target=H,xe.relatedTarget=mt,J=xe),mt=J,W&&me)t:{for(xe=W,z=me,L=0,H=xe;H;H=jo(H))L++;for(H=0,J=z;J;J=jo(J))H++;for(;0<L-H;)xe=jo(xe),L--;for(;0<H-L;)z=jo(z),H--;for(;L--;){if(xe===z||z!==null&&xe===z.alternate)break t;xe=jo(xe),z=jo(z)}xe=null}else xe=null;W!==null&&h0(ne,K,W,xe,!1),me!==null&&mt!==null&&h0(ne,mt,me,xe,!0)}}e:{if(K=U?Fr(U):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var fe=Ly;else if(Nt(K))if(Uy)fe=JS;else{fe=WS;var Me=XS}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?U&&Fl(U.elementType)&&(fe=Ly):fe=ZS;if(fe&&(fe=fe(n,U))){Ji(ne,fe,a,Z);break e}Me&&Me(n,K,U),n==="focusout"&&U&&K.type==="number"&&U.memoizedProps.value!=null&&ro(K,"number",K.value)}switch(Me=U?Fr(U):window,n){case"focusin":(Nt(Me)||Me.contentEditable==="true")&&(po=Me,Df=U,Jl=null);break;case"focusout":Jl=Df=po=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,Ky(ne,a,Z);break;case"selectionchange":if(nA)break;case"keydown":case"keyup":Ky(ne,a,Z)}var ge;if(Ti)e:{switch(n){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else ze?$(n,a)&&(be="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(_&&a.locale!=="ko"&&(ze||be!=="onCompositionStart"?be==="onCompositionEnd"&&ze&&(ge=Gl()):(vi=Z,Yr="value"in vi?vi.value:vi.textContent,ze=!0)),Me=Uh(U,be),0<Me.length&&(be=new $l(be,n,null,a,Z),ne.push({event:be,listeners:Me}),ge?be.data=ge:(ge=re(a),ge!==null&&(be.data=ge)))),(ge=y?It(n,a):qe(n,a))&&(be=Uh(U,"onBeforeInput"),0<be.length&&(Me=new $l("onBeforeInput","beforeinput",null,a,Z),ne.push({event:Me,listeners:be}),Me.data=ge)),LA(ne,n,U,a,Z)}u0(ne,r)})}function Ru(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Uh(n,r){for(var a=r+"Capture",l=[];n!==null;){var h=n,m=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=ia(n,a),h!=null&&l.unshift(Ru(n,h,m)),h=ia(n,r),h!=null&&l.push(Ru(n,h,m))),n=n.return}return l}function jo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function h0(n,r,a,l,h){for(var m=r._reactName,E=[];a!==null&&a!==l;){var w=a,C=w.alternate,U=w.stateNode;if(w=w.tag,C!==null&&C===l)break;w!==5&&w!==26&&w!==27||U===null||(C=U,h?(U=ia(a,m),U!=null&&E.unshift(Ru(a,U,C))):h||(U=ia(a,m),U!=null&&E.push(Ru(a,U,C)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var BA=/\r\n?/g,FA=/\u0000|\uFFFD/g;function d0(n){return(typeof n=="string"?n:""+n).replace(BA,`
`).replace(FA,"")}function f0(n,r){return r=d0(r),d0(n)===r}function zh(){}function et(n,r,a,l,h,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Vn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Vn(n,""+l);break;case"className":Qr(n,"class",l);break;case"tabIndex":Qr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Qr(n,a,l);break;case"style":Bc(n,l,m);break;case"data":if(r!=="object"){Qr(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=yi(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&et(n,r,"name",h.name,h,null),et(n,r,"formEncType",h.formEncType,h,null),et(n,r,"formMethod",h.formMethod,h,null),et(n,r,"formTarget",h.formTarget,h,null)):(et(n,r,"encType",h.encType,h,null),et(n,r,"method",h.method,h,null),et(n,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=yi(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=zh);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=yi(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":je("beforetoggle",n),je("toggle",n),Gr(n,"popover",l);break;case"xlinkActuate":Pn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Gr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Sf.get(a)||a,Gr(n,a,l))}}function tp(n,r,a,l,h,m){switch(a){case"style":Bc(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Vn(n,l):(typeof l=="number"||typeof l=="bigint")&&Vn(n,""+l);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"onClick":l!=null&&(n.onclick=zh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!no.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),m=n[Ct]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Gr(n,a,l)}}}function Yt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(n,r,m,E,a,null)}}h&&et(n,r,"srcSet",a.srcSet,a,null),l&&et(n,r,"src",a.src,a,null);return;case"input":je("invalid",n);var w=m=E=h=null,C=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":E=Z;break;case"checked":C=Z;break;case"defaultChecked":U=Z;break;case"value":m=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:et(n,r,l,Z,a,null)}}ta(n,m,w,C,U,E,h,!1),ea(n);return;case"select":je("invalid",n),l=E=m=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":m=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:et(n,r,h,w,a,null)}r=m,a=E,n.multiple=!!l,r!=null?Ge(n,!!l,r,!1):a!=null&&Ge(n,!!l,a,!0);return;case"textarea":je("invalid",n),m=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":h=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:et(n,r,E,w,a,null)}$r(n,l,h,m),ea(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(n,r,C,l,a,null)}return;case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(l=0;l<xu.length;l++)je(xu[l],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(n,r,U,l,a,null)}return;default:if(Fl(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&tp(n,r,Z,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&et(n,r,w,l,a,null))}function HA(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,E=null,w=null,C=null,U=null,Z=null;for(W in a){var ne=a[W];if(a.hasOwnProperty(W)&&ne!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":C=ne;default:l.hasOwnProperty(W)||et(n,r,W,null,l,ne)}}for(var K in l){var W=l[K];if(ne=a[K],l.hasOwnProperty(K)&&(W!=null||ne!=null))switch(K){case"type":m=W;break;case"name":h=W;break;case"checked":U=W;break;case"defaultChecked":Z=W;break;case"value":E=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==ne&&et(n,r,K,W,l,ne)}}Kr(n,E,w,C,U,Z,m,h);return;case"select":W=E=w=K=null;for(m in a)if(C=a[m],a.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":W=C;default:l.hasOwnProperty(m)||et(n,r,m,null,l,C)}for(h in l)if(m=l[h],C=a[h],l.hasOwnProperty(h)&&(m!=null||C!=null))switch(h){case"value":K=m;break;case"defaultValue":w=m;break;case"multiple":E=m;default:m!==C&&et(n,r,h,m,l,C)}r=w,a=E,l=W,K!=null?Ge(n,!!a,K,!1):!!l!=!!a&&(r!=null?Ge(n,!!a,r,!0):Ge(n,!!a,a?[]:"",!1));return;case"textarea":W=K=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(n,r,w,null,l,h)}for(E in l)if(h=l[E],m=a[E],l.hasOwnProperty(E)&&(h!=null||m!=null))switch(E){case"value":K=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&et(n,r,E,h,l,m)}na(n,K,W);return;case"option":for(var me in a)if(K=a[me],a.hasOwnProperty(me)&&K!=null&&!l.hasOwnProperty(me))switch(me){case"selected":n.selected=!1;break;default:et(n,r,me,null,l,K)}for(C in l)if(K=l[C],W=a[C],l.hasOwnProperty(C)&&K!==W&&(K!=null||W!=null))switch(C){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:et(n,r,C,K,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)K=a[xe],a.hasOwnProperty(xe)&&K!=null&&!l.hasOwnProperty(xe)&&et(n,r,xe,null,l,K);for(U in l)if(K=l[U],W=a[U],l.hasOwnProperty(U)&&K!==W&&(K!=null||W!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:et(n,r,U,K,l,W)}return;default:if(Fl(r)){for(var mt in a)K=a[mt],a.hasOwnProperty(mt)&&K!==void 0&&!l.hasOwnProperty(mt)&&tp(n,r,mt,void 0,l,K);for(Z in l)K=l[Z],W=a[Z],!l.hasOwnProperty(Z)||K===W||K===void 0&&W===void 0||tp(n,r,Z,K,l,W);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&et(n,r,z,null,l,K);for(ne in l)K=l[ne],W=a[ne],!l.hasOwnProperty(ne)||K===W||K==null&&W==null||et(n,r,ne,K,l,W)}var np=null,ip=null;function qh(n){return n.nodeType===9?n:n.ownerDocument}function m0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function rp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var sp=null;function GA(){var n=window.event;return n&&n.type==="popstate"?n===sp?!1:(sp=n,!0):(sp=null,!1)}var g0=typeof setTimeout=="function"?setTimeout:void 0,QA=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,KA=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(n){return y0.resolve(null).then(n).catch($A)}:g0;function $A(n){setTimeout(function(){throw n})}function ap(n,r){var a=r,l=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){n.removeChild(h),Vu(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Vu(r)}function op(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":op(a),Js(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function YA(n,r,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Br])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=ii(n.nextSibling),n===null)break}return null}function XA(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ii(n.nextSibling),n===null))return null;return n}function ii(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function v0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function _0(n,r,a){switch(r=qh(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var $n=new Map,E0=new Set;function Bh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var mr=ce.d;ce.d={f:WA,r:ZA,D:JA,C:ex,L:tx,m:nx,X:rx,S:ix,M:sx};function WA(){var n=mr.f(),r=Ph();return n||r}function ZA(n){var r=Qi(n);r!==null&&r.tag===5&&r.type==="form"?Kv(r):mr.r(n)}var Lo=typeof document>"u"?null:document;function b0(n,r,a){var l=Lo;if(l&&typeof r=="string"&&r){var h=ht(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),E0.has(h)||(E0.add(h),n={rel:n,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Yt(r,"link",n),at(r),l.head.appendChild(r)))}}function JA(n){mr.D(n),b0("dns-prefetch",n,null)}function ex(n,r){mr.C(n,r),b0("preconnect",n,r)}function tx(n,r,a){mr.L(n,r,a);var l=Lo;if(l&&n&&r){var h='link[rel="preload"][as="'+ht(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ht(a.imageSizes)+'"]')):h+='[href="'+ht(n)+'"]';var m=h;switch(r){case"style":m=Uo(n);break;case"script":m=zo(n)}$n.has(m)||(n=I({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),$n.set(m,n),l.querySelector(h)!==null||r==="style"&&l.querySelector(Cu(m))||r==="script"&&l.querySelector(Iu(m))||(r=l.createElement("link"),Yt(r,"link",n),at(r),l.head.appendChild(r)))}}function nx(n,r){mr.m(n,r);var a=Lo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+ht(l)+'"][href="'+ht(n)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=zo(n)}if(!$n.has(m)&&(n=I({rel:"modulepreload",href:n},r),$n.set(m,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Iu(m)))return}l=a.createElement("link"),Yt(l,"link",n),at(l),a.head.appendChild(l)}}}function ix(n,r,a){mr.S(n,r,a);var l=Lo;if(l&&n){var h=Hr(l).hoistableStyles,m=Uo(n);r=r||"default";var E=h.get(m);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Cu(m)))w.loading=5;else{n=I({rel:"stylesheet",href:n,"data-precedence":r},a),(a=$n.get(m))&&lp(n,a);var C=E=l.createElement("link");at(C),Yt(C,"link",n),C._p=new Promise(function(U,Z){C.onload=U,C.onerror=Z}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Fh(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(m,E)}}}function rx(n,r){mr.X(n,r);var a=Lo;if(a&&n){var l=Hr(a).hoistableScripts,h=zo(n),m=l.get(h);m||(m=a.querySelector(Iu(h)),m||(n=I({src:n,async:!0},r),(r=$n.get(h))&&up(n,r),m=a.createElement("script"),at(m),Yt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function sx(n,r){mr.M(n,r);var a=Lo;if(a&&n){var l=Hr(a).hoistableScripts,h=zo(n),m=l.get(h);m||(m=a.querySelector(Iu(h)),m||(n=I({src:n,async:!0,type:"module"},r),(r=$n.get(h))&&up(n,r),m=a.createElement("script"),at(m),Yt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function T0(n,r,a,l){var h=(h=On.current)?Bh(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Uo(a.href),a=Hr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Uo(a.href);var m=Hr(h).hoistableStyles,E=m.get(n);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=h.querySelector(Cu(n)))&&!m._p&&(E.instance=m,E.state.loading=5),$n.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(n,a),m||ax(h,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=zo(a),a=Hr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Uo(n){return'href="'+ht(n)+'"'}function Cu(n){return'link[rel="stylesheet"]['+n+"]"}function w0(n){return I({},n,{"data-precedence":n.precedence,precedence:null})}function ax(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Yt(r,"link",a),at(r),n.head.appendChild(r))}function zo(n){return'[src="'+ht(n)+'"]'}function Iu(n){return"script[async]"+n}function S0(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+ht(a.href)+'"]');if(l)return r.instance=l,at(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),at(l),Yt(l,"style",h),Fh(l,a.precedence,n),r.instance=l;case"stylesheet":h=Uo(a.href);var m=n.querySelector(Cu(h));if(m)return r.state.loading|=4,r.instance=m,at(m),m;l=w0(a),(h=$n.get(h))&&lp(l,h),m=(n.ownerDocument||n).createElement("link"),at(m);var E=m;return E._p=new Promise(function(w,C){E.onload=w,E.onerror=C}),Yt(m,"link",l),r.state.loading|=4,Fh(m,a.precedence,n),r.instance=m;case"script":return m=zo(a.src),(h=n.querySelector(Iu(m)))?(r.instance=h,at(h),h):(l=a,(h=$n.get(m))&&(l=I({},a),up(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),at(h),Yt(h,"link",l),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Fh(l,a.precedence,n));return r.instance}function Fh(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===r)m=w;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function lp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function up(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Hh=null;function A0(n,r,a){if(Hh===null){var l=new Map,h=Hh=new Map;h.set(a,l)}else h=Hh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var m=a[h];if(!(m[Br]||m[Lt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(r)||"";E=n+E;var w=l.get(E);w?w.push(m):l.set(E,[m])}}return l}function x0(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function ox(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function R0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Nu=null;function lx(){}function ux(n,r,a){if(Nu===null)throw Error(s(475));var l=Nu;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Uo(a.href),m=n.querySelector(Cu(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Gh.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=m,at(m);return}m=n.ownerDocument||n,a=w0(a),(h=$n.get(h))&&lp(a,h),m=m.createElement("link"),at(m);var E=m;E._p=new Promise(function(w,C){E.onload=w,E.onerror=C}),Yt(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Gh.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function cx(){if(Nu===null)throw Error(s(475));var n=Nu;return n.stylesheets&&n.count===0&&cp(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&cp(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Gh(){if(this.count--,this.count===0){if(this.stylesheets)cp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Qh=null;function cp(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Qh=new Map,r.forEach(hx,n),Qh=null,Gh.call(n))}function hx(n,r){if(!(r.state.loading&4)){var a=Qh.get(n);if(a)var l=a.get(null);else{a=new Map,Qh.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var E=h[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=r.instance,E=h.getAttribute("data-precedence"),m=a.get(E)||l,m===l&&a.set(null,h),a.set(E,h),this.count++,l=Gh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var Du={$$typeof:N,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function dx(n,r,a,l,h,m,E,w){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.hiddenUpdates=eo(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function C0(n,r,a,l,h,m,E,w,C,U,Z,ne){return n=new dx(n,r,a,E,w,C,U,ne),r=1,m===!0&&(r|=24),m=Qn(3,null,null,r),n.current=m,m.stateNode=n,r=Bf(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},Tm(m),n}function I0(n){return n?(n=vo,n):vo}function N0(n,r,a,l,h,m){h=I0(h),l.context===null?l.context=h:l.pendingContext=h,l=is(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=rs(n,l,r),a!==null&&(fn(a,n,r),mu(a,n,r))}function D0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function hp(n,r){D0(n,r),(n=n.alternate)&&D0(n,r)}function O0(n){if(n.tag===13){var r=Xr(n,67108864);r!==null&&fn(r,n,67108864),hp(n,67108864)}}var Kh=!0;function fx(n,r,a,l){var h=A.T;A.T=null;var m=ce.p;try{ce.p=2,dp(n,r,a,l)}finally{ce.p=m,A.T=h}}function mx(n,r,a,l){var h=A.T;A.T=null;var m=ce.p;try{ce.p=8,dp(n,r,a,l)}finally{ce.p=m,A.T=h}}function dp(n,r,a,l){if(Kh){var h=fp(l);if(h===null)ep(n,r,l,$h,a),P0(n,l);else if(gx(h,n,r,a,l))l.stopPropagation();else if(P0(n,l),r&4&&-1<px.indexOf(n)){for(;h!==null;){var m=Qi(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Zn(m.pendingLanes);if(E!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var C=1<<31-un(E);w.entanglements[1]|=C,E&=~C}Ci(m),(lt&6)===0&&(Dh=gn()+500,Au(0))}}break;case 13:w=Xr(m,2),w!==null&&fn(w,m,2),Ph(),hp(m,2)}if(m=fp(l),m===null&&ep(n,r,l,$h,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else ep(n,r,l,null,a)}}function fp(n){return n=so(n),mp(n)}var $h=null;function mp(n){if($h=null,n=Jn(n),n!==null){var r=ve(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=$e(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return $h=n,null}function M0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mc()){case Rt:return 2;case jt:return 8;case Hi:case Pc:return 32;case Ml:return 268435456;default:return 32}default:return 32}}var pp=!1,hs=null,ds=null,fs=null,Ou=new Map,Mu=new Map,ms=[],px="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P0(n,r){switch(n){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Ou.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(r.pointerId)}}function Pu(n,r,a,l,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},r!==null&&(r=Qi(r),r!==null&&O0(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function gx(n,r,a,l,h){switch(r){case"focusin":return hs=Pu(hs,n,r,a,l,h),!0;case"dragenter":return ds=Pu(ds,n,r,a,l,h),!0;case"mouseover":return fs=Pu(fs,n,r,a,l,h),!0;case"pointerover":var m=h.pointerId;return Ou.set(m,Pu(Ou.get(m)||null,n,r,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,Mu.set(m,Pu(Mu.get(m)||null,n,r,a,l,h)),!0}return!1}function V0(n){var r=Jn(n.target);if(r!==null){var a=ve(r);if(a!==null){if(r=a.tag,r===13){if(r=$e(a),r!==null){n.blockedOn=r,qr(n.priority,function(){if(a.tag===13){var l=Nn(),h=Xr(a,l);h!==null&&fn(h,a,l),hp(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Yh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=fp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);kn=l,a.target.dispatchEvent(l),kn=null}else return r=Qi(a),r!==null&&O0(r),n.blockedOn=a,!1;r.shift()}return!0}function k0(n,r,a){Yh(n)&&a.delete(r)}function yx(){pp=!1,hs!==null&&Yh(hs)&&(hs=null),ds!==null&&Yh(ds)&&(ds=null),fs!==null&&Yh(fs)&&(fs=null),Ou.forEach(k0),Mu.forEach(k0)}function Xh(n,r){n.blockedOn===r&&(n.blockedOn=null,pp||(pp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,yx)))}var Wh=null;function j0(n){Wh!==n&&(Wh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Wh===n&&(Wh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],h=n[r+2];if(typeof l!="function"){if(mp(l||a)===null)continue;break}var m=Qi(a);m!==null&&(n.splice(r,3),r-=3,rm(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Vu(n){function r(C){return Xh(C,n)}hs!==null&&Xh(hs,n),ds!==null&&Xh(ds,n),fs!==null&&Xh(fs,n),Ou.forEach(r),Mu.forEach(r);for(var a=0;a<ms.length;a++){var l=ms[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ms.length&&(a=ms[0],a.blockedOn===null);)V0(a),a.blockedOn===null&&ms.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],E=h[Ct]||null;if(typeof m=="function")E||j0(a);else if(E){var w=null;if(m&&m.hasAttribute("formAction")){if(h=m,E=m[Ct]||null)w=E.formAction;else if(mp(h)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),j0(a)}}}function gp(n){this._internalRoot=n}Zh.prototype.render=gp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Nn();N0(a,l,n,r,null,null)},Zh.prototype.unmount=gp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&Vo(),N0(n.current,2,null,n,null,null),Ph(),r[Gi]=null}};function Zh(n){this._internalRoot=n}Zh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Uc();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ms.length&&r!==0&&r<ms[a].priority;a++);ms.splice(a,0,n),a===0&&V0(n)}};var L0=e.version;if(L0!=="19.0.0")throw Error(s(527,L0,"19.0.0"));ce.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ie(r),n=n!==null?pe(n):null,n=n===null?null:n.stateNode,n};var vx={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Jn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{Vr=Jh.inject(vx),Jt=Jh}catch{}}return ju.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",h=t_,m=n_,E=i_,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=C0(n,1,!1,null,null,a,l,h,m,E,w,null),n[Gi]=r.current,Jm(n.nodeType===8?n.parentNode:n),new gp(r)},ju.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,h="",m=t_,E=n_,w=i_,C=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),r=C0(n,1,!0,r,a??null,l,h,m,E,w,C,U),r.context=I0(null),a=r.current,l=Nn(),h=is(l),h.callback=null,rs(a,h,l),r.current.lanes=l,gt(r,l),Ci(r),n[Gi]=r.current,Jm(n),new Zh(r)},ju.version="19.0.0",ju}var Y0;function Ix(){if(Y0)return Ep.exports;Y0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ep.exports=Cx(),Ep.exports}var Nx=Ix();const Dx=Yb(Nx);var Lu={},X0;function Ox(){if(X0)return Lu;X0=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.parse=d,Lu.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function d(x,N){const M=new u,F=x.length;if(F<2)return M;const O=(N==null?void 0:N.decode)||b;let G=0;do{const Y=x.indexOf("=",G);if(Y===-1)break;const X=x.indexOf(";",G),oe=X===-1?F:X;if(Y>oe){G=x.lastIndexOf(";",Y-1)+1;continue}const se=f(x,G,Y),ye=p(x,Y,se),V=x.slice(se,ye);if(M[V]===void 0){let R=f(x,Y+1,oe),A=p(x,oe,R);const I=O(x.slice(R,A));M[V]=I}G=oe+1}while(G<F);return M}function f(x,N,M){do{const F=x.charCodeAt(N);if(F!==32&&F!==9)return N}while(++N<M);return M}function p(x,N,M){for(;N>M;){const F=x.charCodeAt(--N);if(F!==32&&F!==9)return N+1}return M}function g(x,N,M){const F=(M==null?void 0:M.encode)||encodeURIComponent;if(!i.test(x))throw new TypeError(`argument name is invalid: ${x}`);const O=F(N);if(!e.test(O))throw new TypeError(`argument val is invalid: ${N}`);let G=x+"="+O;if(!M)return G;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);G+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);G+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);G+="; Path="+M.path}if(M.expires){if(!T(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);G+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(G+="; HttpOnly"),M.secure&&(G+="; Secure"),M.partitioned&&(G+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return G}function b(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function T(x){return o.call(x)==="[object Date]"}return Lu}Ox();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var W0="popstate";function Mx(i={}){function e(s,o){let{pathname:u,search:d,hash:f}=s.location;return zp("",{pathname:u,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:ec(o)}return Vx(e,t,null,i)}function st(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function li(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Px(){return Math.random().toString(36).substring(2,10)}function Z0(i,e){return{usr:i.state,key:i.key,idx:e}}function zp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?vl(e):e,state:t,key:e&&e.key||s||Px()}}function ec({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function vl(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Vx(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,d=o.history,f="POP",p=null,g=b();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function b(){return(d.state||{idx:null}).idx}function T(){f="POP";let O=b(),G=O==null?null:O-g;g=O,p&&p({action:f,location:F.location,delta:G})}function x(O,G){f="PUSH";let Y=zp(F.location,O,G);g=b()+1;let X=Z0(Y,g),oe=F.createHref(Y);try{d.pushState(X,"",oe)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(oe)}u&&p&&p({action:f,location:F.location,delta:1})}function N(O,G){f="REPLACE";let Y=zp(F.location,O,G);g=b();let X=Z0(Y,g),oe=F.createHref(Y);d.replaceState(X,"",oe),u&&p&&p({action:f,location:F.location,delta:0})}function M(O){let G=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof O=="string"?O:ec(O);return Y=Y.replace(/ $/,"%20"),st(G,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,G)}let F={get action(){return f},get location(){return i(o,d)},listen(O){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(W0,T),p=O,()=>{o.removeEventListener(W0,T),p=null}},createHref(O){return e(o,O)},createURL:M,encodeLocation(O){let G=M(O);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:x,replace:N,go(O){return d.go(O)}};return F}function Xb(i,e,t="/"){return kx(i,e,t,!1)}function kx(i,e,t,s){let o=typeof e=="string"?vl(e):e,u=xr(o.pathname||"/",t);if(u==null)return null;let d=Wb(i);jx(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let g=$x(u);f=Qx(d[p],g,s)}return f}function Wb(i,e=[],t=[],s=""){let o=(u,d,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Tr([s,p.relativePath]),b=t.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Wb(u.children,e,b,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Hx(g,u.index),routesMeta:b})};return i.forEach((u,d)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,d);else for(let p of Zb(u.path))o(u,d,p)}),e}function Zb(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let d=Zb(s.join("/")),f=[];return f.push(...d.map(p=>p===""?u:[u,p].join("/"))),o&&f.push(...d),f.map(p=>i.startsWith("/")&&p===""?"/":p)}function jx(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:Gx(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Lx=/^:[\w-]+$/,Ux=3,zx=2,qx=1,Bx=10,Fx=-2,J0=i=>i==="*";function Hx(i,e){let t=i.split("/"),s=t.length;return t.some(J0)&&(s+=Fx),e&&(s+=zx),t.filter(o=>!J0(o)).reduce((o,u)=>o+(Lx.test(u)?Ux:u===""?qx:Bx),s)}function Gx(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Qx(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",d=[];for(let f=0;f<s.length;++f){let p=s[f],g=f===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=Sd({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),x=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=Sd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),d.push({params:o,pathname:Tr([u,T.pathname]),pathnameBase:Zx(Tr([u,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(u=Tr([u,T.pathnameBase]))}return d}function Sd(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=Kx(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((g,{paramName:b,isOptional:T},x)=>{if(b==="*"){let M=f[x]||"";d=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const N=f[x];return T&&!N?g[b]=void 0:g[b]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:i}}function Kx(i,e=!1,t=!0){li(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function $x(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function xr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function Yx(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?vl(i):i;return{pathname:t?t.startsWith("/")?t:Xx(t,e):e,search:Jx(s),hash:eR(o)}}function Xx(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Sp(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wx(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ng(i){let e=Wx(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Dg(i,e,t,s=!1){let o;typeof i=="string"?o=vl(i):(o={...i},st(!o.pathname||!o.pathname.includes("?"),Sp("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Sp("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Sp("#","search","hash",o)));let u=i===""||o.pathname==="",d=u?"/":o.pathname,f;if(d==null)f=t;else{let T=e.length-1;if(!s&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),T-=1;o.pathname=x.join("/")}f=T>=0?e[T]:"/"}let p=Yx(o,f),g=d&&d!=="/"&&d.endsWith("/"),b=(u||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var Tr=i=>i.join("/").replace(/\/\/+/g,"/"),Zx=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Jx=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,eR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function tR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Jb=["POST","PUT","PATCH","DELETE"];new Set(Jb);var nR=["GET",...Jb];new Set(nR);var _l=Q.createContext(null);_l.displayName="DataRouter";var Kd=Q.createContext(null);Kd.displayName="DataRouterState";var eT=Q.createContext({isTransitioning:!1});eT.displayName="ViewTransition";var iR=Q.createContext(new Map);iR.displayName="Fetchers";var rR=Q.createContext(null);rR.displayName="Await";var hi=Q.createContext(null);hi.displayName="Navigation";var vc=Q.createContext(null);vc.displayName="Location";var di=Q.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Og=Q.createContext(null);Og.displayName="RouteError";function sR(i,{relative:e}={}){st(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=Q.useContext(hi),{hash:o,pathname:u,search:d}=_c(i,{relative:e}),f=u;return t!=="/"&&(f=u==="/"?t:Tr([t,u])),s.createHref({pathname:f,search:d,hash:o})}function El(){return Q.useContext(vc)!=null}function qi(){return st(El(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(vc).location}var tT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nT(i){Q.useContext(hi).static||Q.useLayoutEffect(i)}function bl(){let{isDataRoute:i}=Q.useContext(di);return i?_R():aR()}function aR(){st(El(),"useNavigate() may be used only in the context of a <Router> component.");let i=Q.useContext(_l),{basename:e,navigator:t}=Q.useContext(hi),{matches:s}=Q.useContext(di),{pathname:o}=qi(),u=JSON.stringify(Ng(s)),d=Q.useRef(!1);return nT(()=>{d.current=!0}),Q.useCallback((p,g={})=>{if(li(d.current,tT),!d.current)return;if(typeof p=="number"){t.go(p);return}let b=Dg(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Tr([e,b.pathname])),(g.replace?t.replace:t.push)(b,g.state,g)},[e,t,u,o,i])}Q.createContext(null);function oR(){let{matches:i}=Q.useContext(di),e=i[i.length-1];return e?e.params:{}}function _c(i,{relative:e}={}){let{matches:t}=Q.useContext(di),{pathname:s}=qi(),o=JSON.stringify(Ng(t));return Q.useMemo(()=>Dg(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function lR(i,e){return iT(i,e)}function iT(i,e,t,s){var Y;st(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=Q.useContext(hi),{matches:d}=Q.useContext(di),f=d[d.length-1],p=f?f.params:{},g=f?f.pathname:"/",b=f?f.pathnameBase:"/",T=f&&f.route;{let X=T&&T.path||"";rT(g,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let x=qi(),N;if(e){let X=typeof e=="string"?vl(e):e;st(b==="/"||((Y=X.pathname)==null?void 0:Y.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${X.pathname}" was given in the \`location\` prop.`),N=X}else N=x;let M=N.pathname||"/",F=M;if(b!=="/"){let X=b.replace(/^\//,"").split("/");F="/"+M.replace(/^\//,"").split("/").slice(X.length).join("/")}let O=!u&&t&&t.matches&&t.matches.length>0?t.matches:Xb(i,{pathname:F});li(T||O!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),li(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=fR(O&&O.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Tr([b,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?b:Tr([b,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),d,t,s);return e&&G?Q.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},G):G}function uR(){let i=vR(),e=tR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:o},t):null,d)}var cR=Q.createElement(uR,null),hR=class extends Q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?Q.createElement(di.Provider,{value:this.props.routeContext},Q.createElement(Og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dR({routeContext:i,match:e,children:t}){let s=Q.useContext(_l);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(di.Provider,{value:i},t)}function fR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:b,errors:T}=t,x=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||x){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,g,b)=>{let T,x=!1,N=null,M=null;t&&(T=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||cR,d&&(f<0&&b===0?(rT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,M=null):f===b&&(x=!0,M=g.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,b+1)),O=()=>{let G;return T?G=N:x?G=M:g.route.Component?G=Q.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,Q.createElement(dR,{match:g,routeContext:{outlet:p,matches:F,isDataRoute:t!=null},children:G})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?Q.createElement(hR,{location:t.location,revalidation:t.revalidation,component:N,error:T,children:O(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):O()},null)}function Mg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mR(i){let e=Q.useContext(_l);return st(e,Mg(i)),e}function pR(i){let e=Q.useContext(Kd);return st(e,Mg(i)),e}function gR(i){let e=Q.useContext(di);return st(e,Mg(i)),e}function Pg(i){let e=gR(i),t=e.matches[e.matches.length-1];return st(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function yR(){return Pg("useRouteId")}function vR(){var s;let i=Q.useContext(Og),e=pR("useRouteError"),t=Pg("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function _R(){let{router:i}=mR("useNavigate"),e=Pg("useNavigate"),t=Q.useRef(!1);return nT(()=>{t.current=!0}),Q.useCallback(async(o,u={})=>{li(t.current,tT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var eE={};function rT(i,e,t){!e&&!eE[i]&&(eE[i]=!0,li(!1,t))}Q.memo(ER);function ER({routes:i,future:e,state:t}){return iT(i,void 0,t,e)}function bR({to:i,replace:e,state:t,relative:s}){st(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Q.useContext(hi);li(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Q.useContext(di),{pathname:d}=qi(),f=bl(),p=Dg(i,Ng(u),d,s==="path"),g=JSON.stringify(p);return Q.useEffect(()=>{f(JSON.parse(g),{replace:e,state:t,relative:s})},[f,g,s,e,t]),null}function Ii(i){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){st(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),f=Q.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof t=="string"&&(t=vl(t));let{pathname:p="/",search:g="",hash:b="",state:T=null,key:x="default"}=t,N=Q.useMemo(()=>{let M=xr(p,d);return M==null?null:{location:{pathname:M,search:g,hash:b,state:T,key:x},navigationType:s}},[d,p,g,b,T,x,s]);return li(N!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:Q.createElement(hi.Provider,{value:f},Q.createElement(vc.Provider,{children:e,value:N}))}function wR({children:i,location:e}){return lR(qp(i),e)}function qp(i,e=[]){let t=[];return Q.Children.forEach(i,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...e,o];if(s.type===Q.Fragment){t.push.apply(t,qp(s.props.children,u));return}st(s.type===Ii,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=qp(s.props.children,u)),t.push(d)}),t}var hd="get",dd="application/x-www-form-urlencoded";function $d(i){return i!=null&&typeof i.tagName=="string"}function SR(i){return $d(i)&&i.tagName.toLowerCase()==="button"}function AR(i){return $d(i)&&i.tagName.toLowerCase()==="form"}function xR(i){return $d(i)&&i.tagName.toLowerCase()==="input"}function RR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function CR(i,e){return i.button===0&&(!e||e==="_self")&&!RR(i)}var td=null;function IR(){if(td===null)try{new FormData(document.createElement("form"),0),td=!1}catch{td=!0}return td}var NR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ap(i){return i!=null&&!NR.has(i)?(li(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dd}"`),null):i}function DR(i,e){let t,s,o,u,d;if(AR(i)){let f=i.getAttribute("action");s=f?xr(f,e):null,t=i.getAttribute("method")||hd,o=Ap(i.getAttribute("enctype"))||dd,u=new FormData(i)}else if(SR(i)||xR(i)&&(i.type==="submit"||i.type==="image")){let f=i.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||f.getAttribute("action");if(s=p?xr(p,e):null,t=i.getAttribute("formmethod")||f.getAttribute("method")||hd,o=Ap(i.getAttribute("formenctype"))||Ap(f.getAttribute("enctype"))||dd,u=new FormData(f,i),!IR()){let{name:g,type:b,value:T}=i;if(b==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,T)}}else{if($d(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hd,s=null,o=dd,d=i}return u&&o==="text/plain"&&(d=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:d}}function Vg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function OR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function PR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await OR(u,t);return d.links?d.links():[]}return[]}));return LR(s.flat(1).filter(MR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function tE(i,e,t,s,o,u){let d=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,f=(p,g)=>{var b;return t[g].pathname!==p.pathname||((b=t[g].route.path)==null?void 0:b.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>d(p,g)||f(p,g)):u==="data"?e.filter((p,g)=>{var T;let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(d(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function VR(i,e,{includeHydrateFallback:t}={}){return kR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function kR(i){return[...new Set(i)]}function jR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function LR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(jR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function UR(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&xr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function sT(){let i=Q.useContext(_l);return Vg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function zR(){let i=Q.useContext(Kd);return Vg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var kg=Q.createContext(void 0);kg.displayName="FrameworkContext";function aT(){let i=Q.useContext(kg);return Vg(i,"You must render this element inside a <HydratedRouter> element"),i}function qR(i,e){let t=Q.useContext(kg),[s,o]=Q.useState(!1),[u,d]=Q.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:T}=e,x=Q.useRef(null);Q.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let F=G=>{G.forEach(Y=>{d(Y.isIntersecting)})},O=new IntersectionObserver(F,{threshold:.5});return x.current&&O.observe(x.current),()=>{O.disconnect()}}},[i]),Q.useEffect(()=>{if(s){let F=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(F)}}},[s]);let N=()=>{o(!0)},M=()=>{o(!1),d(!1)};return t?i!=="intent"?[u,x,{}]:[u,x,{onFocus:Uu(f,N),onBlur:Uu(p,M),onMouseEnter:Uu(g,N),onMouseLeave:Uu(b,M),onTouchStart:Uu(T,N)}]:[!1,x,{}]}function Uu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function BR({page:i,...e}){let{router:t}=sT(),s=Q.useMemo(()=>Xb(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?Q.createElement(HR,{page:i,matches:s,...e}):null}function FR(i){let{manifest:e,routeModules:t}=aT(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return PR(i,e,t).then(d=>{u||o(d)}),()=>{u=!0}},[i,e,t]),s}function HR({page:i,matches:e,...t}){let s=qi(),{manifest:o,routeModules:u}=aT(),{basename:d}=sT(),{loaderData:f,matches:p}=zR(),g=Q.useMemo(()=>tE(i,e,p,o,s,"data"),[i,e,p,o,s]),b=Q.useMemo(()=>tE(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=Q.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let M=new Set,F=!1;if(e.forEach(G=>{var X;let Y=o.routes[G.route.id];!Y||!Y.hasLoader||(!g.some(oe=>oe.route.id===G.route.id)&&G.route.id in f&&((X=u[G.route.id])!=null&&X.shouldRevalidate)||Y.hasClientLoader?F=!0:M.add(G.route.id))}),M.size===0)return[];let O=UR(i,d);return F&&M.size>0&&O.searchParams.set("_routes",e.filter(G=>M.has(G.route.id)).map(G=>G.route.id).join(",")),[O.pathname+O.search]},[d,f,s,o,g,e,i,u]),x=Q.useMemo(()=>VR(b,o),[b,o]),N=FR(b);return Q.createElement(Q.Fragment,null,T.map(M=>Q.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),x.map(M=>Q.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),N.map(({key:M,link:F})=>Q.createElement("link",{key:M,...F})))}function GR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oT&&(window.__reactRouterVersion="7.3.0")}catch{}function QR({basename:i,children:e,window:t}){let s=Q.useRef();s.current==null&&(s.current=Mx({window:t,v5Compat:!0}));let o=s.current,[u,d]=Q.useState({action:o.action,location:o.location}),f=Q.useCallback(p=>{Q.startTransition(()=>d(p))},[d]);return Q.useLayoutEffect(()=>o.listen(f),[o,f]),Q.createElement(TR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var lT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ad=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:d,state:f,target:p,to:g,preventScrollReset:b,viewTransition:T,...x},N){let{basename:M}=Q.useContext(hi),F=typeof g=="string"&&lT.test(g),O,G=!1;if(typeof g=="string"&&F&&(O=g,oT))try{let A=new URL(window.location.href),I=g.startsWith("//")?new URL(A.protocol+g):new URL(g),j=xr(I.pathname,M);I.origin===A.origin&&j!=null?g=j+I.search+I.hash:G=!0}catch{li(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=sR(g,{relative:o}),[X,oe,se]=qR(s,x),ye=XR(g,{replace:d,state:f,target:p,preventScrollReset:b,relative:o,viewTransition:T});function V(A){e&&e(A),A.defaultPrevented||ye(A)}let R=Q.createElement("a",{...x,...se,href:O||Y,onClick:G||u?e:V,ref:GR(N,oe),target:p,"data-discover":!F&&t==="render"?"true":void 0});return X&&!F?Q.createElement(Q.Fragment,null,R,Q.createElement(BR,{page:Y})):R});Ad.displayName="Link";var KR=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:d,viewTransition:f,children:p,...g},b){let T=_c(d,{relative:g.relative}),x=qi(),N=Q.useContext(Kd),{navigator:M,basename:F}=Q.useContext(hi),O=N!=null&&tC(T)&&f===!0,G=M.encodeLocation?M.encodeLocation(T).pathname:T.pathname,Y=x.pathname,X=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),X=X?X.toLowerCase():null,G=G.toLowerCase()),X&&F&&(X=xr(X,F)||X);const oe=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let se=Y===G||!o&&Y.startsWith(G)&&Y.charAt(oe)==="/",ye=X!=null&&(X===G||!o&&X.startsWith(G)&&X.charAt(G.length)==="/"),V={isActive:se,isPending:ye,isTransitioning:O},R=se?e:void 0,A;typeof s=="function"?A=s(V):A=[s,se?"active":null,ye?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(V):u;return Q.createElement(Ad,{...g,"aria-current":R,className:A,ref:b,style:I,to:d,viewTransition:f},typeof p=="function"?p(V):p)});KR.displayName="NavLink";var $R=Q.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:d=hd,action:f,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:T,...x},N)=>{let M=JR(),F=eC(f,{relative:g}),O=d.toLowerCase()==="get"?"get":"post",G=typeof f=="string"&&lT.test(f),Y=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let oe=X.nativeEvent.submitter,se=(oe==null?void 0:oe.getAttribute("formmethod"))||d;M(oe||X.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:o,state:u,relative:g,preventScrollReset:b,viewTransition:T})};return Q.createElement("form",{ref:N,method:O,action:F,onSubmit:s?p:Y,...x,"data-discover":!G&&i==="render"?"true":void 0})});$R.displayName="Form";function YR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uT(i){let e=Q.useContext(_l);return st(e,YR(i)),e}function XR(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:d}={}){let f=bl(),p=qi(),g=_c(i,{relative:u});return Q.useCallback(b=>{if(CR(b,e)){b.preventDefault();let T=t!==void 0?t:ec(p)===ec(g);f(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:d})}},[p,f,g,t,s,e,i,o,u,d])}var WR=0,ZR=()=>`__${String(++WR)}__`;function JR(){let{router:i}=uT("useSubmit"),{basename:e}=Q.useContext(hi),t=yR();return Q.useCallback(async(s,o={})=>{let{action:u,method:d,encType:f,formData:p,body:g}=DR(s,e);if(o.navigate===!1){let b=o.fetcherKey||ZR();await i.fetch(b,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function eC(i,{relative:e}={}){let{basename:t}=Q.useContext(hi),s=Q.useContext(di);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={..._c(i||".",{relative:e})},d=qi();if(i==null){u.search=d.search;let f=new URLSearchParams(u.search),p=f.getAll("index");if(p.some(b=>b==="")){f.delete("index"),p.filter(T=>T).forEach(T=>f.append("index",T));let b=f.toString();u.search=b?`?${b}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Tr([t,u.pathname])),ec(u)}function tC(i,e={}){let t=Q.useContext(eT);st(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=uT("useViewTransitionState"),o=_c(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=xr(t.currentLocation.pathname,s)||t.currentLocation.pathname,d=xr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Sd(o.pathname,d)!=null||Sd(o.pathname,u)!=null}new TextEncoder;var Tl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ua=typeof window>"u"||"Deno"in globalThis;function Xn(){}function nC(i,e){return typeof i=="function"?i(e):i}function Bp(i){return typeof i=="number"&&i>=0&&i!==1/0}function cT(i,e){return Math.max(i+(e||0)-Date.now(),0)}function Qo(i,e){return typeof i=="function"?i(e):i}function ai(i,e){return typeof i=="function"?i(e):i}function nE(i,e){const{type:t="all",exact:s,fetchStatus:o,predicate:u,queryKey:d,stale:f}=i;if(d){if(s){if(e.queryHash!==jg(d,e.options))return!1}else if(!tc(e.queryKey,d))return!1}if(t!=="all"){const p=e.isActive();if(t==="active"&&!p||t==="inactive"&&p)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||o&&o!==e.state.fetchStatus||u&&!u(e))}function iE(i,e){const{exact:t,status:s,predicate:o,mutationKey:u}=i;if(u){if(!e.options.mutationKey)return!1;if(t){if(za(e.options.mutationKey)!==za(u))return!1}else if(!tc(e.options.mutationKey,u))return!1}return!(s&&e.state.status!==s||o&&!o(e))}function jg(i,e){return((e==null?void 0:e.queryKeyHashFn)||za)(i)}function za(i){return JSON.stringify(i,(e,t)=>Fp(t)?Object.keys(t).sort().reduce((s,o)=>(s[o]=t[o],s),{}):t)}function tc(i,e){return i===e?!0:typeof i!=typeof e?!1:i&&e&&typeof i=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!tc(i[t],e[t])):!1}function hT(i,e){if(i===e)return i;const t=rE(i)&&rE(e);if(t||Fp(i)&&Fp(e)){const s=t?i:Object.keys(i),o=s.length,u=t?e:Object.keys(e),d=u.length,f=t?[]:{};let p=0;for(let g=0;g<d;g++){const b=t?g:u[g];(!t&&s.includes(b)||t)&&i[b]===void 0&&e[b]===void 0?(f[b]=void 0,p++):(f[b]=hT(i[b],e[b]),f[b]===i[b]&&i[b]!==void 0&&p++)}return o===d&&p===o?i:f}return e}function xd(i,e){if(!e||Object.keys(i).length!==Object.keys(e).length)return!1;for(const t in i)if(i[t]!==e[t])return!1;return!0}function rE(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function Fp(i){if(!sE(i))return!1;const e=i.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!sE(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function sE(i){return Object.prototype.toString.call(i)==="[object Object]"}function iC(i){return new Promise(e=>{setTimeout(e,i)})}function Hp(i,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(i,e):t.structuralSharing!==!1?hT(i,e):e}function rC(i,e,t=0){const s=[...i,e];return t&&s.length>t?s.slice(1):s}function sC(i,e,t=0){const s=[e,...i];return t&&s.length>t?s.slice(0,-1):s}var Lg=Symbol();function dT(i,e){return!i.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!i.queryFn||i.queryFn===Lg?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}var Na,Ss,Wo,Ub,aC=(Ub=class extends Tl{constructor(){super();Ee(this,Na);Ee(this,Ss);Ee(this,Wo);le(this,Wo,e=>{if(!Ua&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){P(this,Ss)||this.setEventListener(P(this,Wo))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Ss))==null||e.call(this),le(this,Ss,void 0))}setEventListener(e){var t;le(this,Wo,e),(t=P(this,Ss))==null||t.call(this),le(this,Ss,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){P(this,Na)!==e&&(le(this,Na,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof P(this,Na)=="boolean"?P(this,Na):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Na=new WeakMap,Ss=new WeakMap,Wo=new WeakMap,Ub),Ug=new aC,Zo,As,Jo,zb,oC=(zb=class extends Tl{constructor(){super();Ee(this,Zo,!0);Ee(this,As);Ee(this,Jo);le(this,Jo,e=>{if(!Ua&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){P(this,As)||this.setEventListener(P(this,Jo))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,As))==null||e.call(this),le(this,As,void 0))}setEventListener(e){var t;le(this,Jo,e),(t=P(this,As))==null||t.call(this),le(this,As,e(this.setOnline.bind(this)))}setOnline(e){P(this,Zo)!==e&&(le(this,Zo,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return P(this,Zo)}},Zo=new WeakMap,As=new WeakMap,Jo=new WeakMap,zb),Rd=new oC;function Gp(){let i,e;const t=new Promise((o,u)=>{i=o,e=u});t.status="pending",t.catch(()=>{});function s(o){Object.assign(t,o),delete t.resolve,delete t.reject}return t.resolve=o=>{s({status:"fulfilled",value:o}),i(o)},t.reject=o=>{s({status:"rejected",reason:o}),e(o)},t}function lC(i){return Math.min(1e3*2**i,3e4)}function fT(i){return(i??"online")==="online"?Rd.isOnline():!0}var mT=class extends Error{constructor(i){super("CancelledError"),this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function xp(i){return i instanceof mT}function pT(i){let e=!1,t=0,s=!1,o;const u=Gp(),d=F=>{var O;s||(x(new mT(F)),(O=i.abort)==null||O.call(i))},f=()=>{e=!0},p=()=>{e=!1},g=()=>Ug.isFocused()&&(i.networkMode==="always"||Rd.isOnline())&&i.canRun(),b=()=>fT(i.networkMode)&&i.canRun(),T=F=>{var O;s||(s=!0,(O=i.onSuccess)==null||O.call(i,F),o==null||o(),u.resolve(F))},x=F=>{var O;s||(s=!0,(O=i.onError)==null||O.call(i,F),o==null||o(),u.reject(F))},N=()=>new Promise(F=>{var O;o=G=>{(s||g())&&F(G)},(O=i.onPause)==null||O.call(i)}).then(()=>{var F;o=void 0,s||(F=i.onContinue)==null||F.call(i)}),M=()=>{if(s)return;let F;const O=t===0?i.initialPromise:void 0;try{F=O??i.fn()}catch(G){F=Promise.reject(G)}Promise.resolve(F).then(T).catch(G=>{var ye;if(s)return;const Y=i.retry??(Ua?0:3),X=i.retryDelay??lC,oe=typeof X=="function"?X(t,G):X,se=Y===!0||typeof Y=="number"&&t<Y||typeof Y=="function"&&Y(t,G);if(e||!se){x(G);return}t++,(ye=i.onFail)==null||ye.call(i,t,G),iC(oe).then(()=>g()?void 0:N()).then(()=>{e?x(G):M()})})};return{promise:u,cancel:d,continue:()=>(o==null||o(),u),cancelRetry:f,continueRetry:p,canStart:b,start:()=>(b()?M():N().then(M),u)}}function uC(){let i=[],e=0,t=f=>{f()},s=f=>{f()},o=f=>setTimeout(f,0);const u=f=>{e?i.push(f):o(()=>{t(f)})},d=()=>{const f=i;i=[],f.length&&o(()=>{s(()=>{f.forEach(p=>{t(p)})})})};return{batch:f=>{let p;e++;try{p=f()}finally{e--,e||d()}return p},batchCalls:f=>(...p)=>{u(()=>{f(...p)})},schedule:u,setNotifyFunction:f=>{t=f},setBatchNotifyFunction:f=>{s=f},setScheduler:f=>{o=f}}}var Mt=uC(),Da,qb,gT=(qb=class{constructor(){Ee(this,Da)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bp(this.gcTime)&&le(this,Da,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(Ua?1/0:5*60*1e3))}clearGcTimeout(){P(this,Da)&&(clearTimeout(P(this,Da)),le(this,Da,void 0))}},Da=new WeakMap,qb),el,tl,Yn,Oa,rn,mc,Ma,ri,pr,Bb,cC=(Bb=class extends gT{constructor(t){super();Ee(this,ri);Ee(this,el);Ee(this,tl);Ee(this,Yn);Ee(this,Oa);Ee(this,rn);Ee(this,mc);Ee(this,Ma);le(this,Ma,!1),le(this,mc,t.defaultOptions),this.setOptions(t.options),this.observers=[],le(this,Oa,t.client),le(this,Yn,P(this,Oa).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,le(this,el,hC(this.options)),this.state=t.state??P(this,el),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=P(this,rn))==null?void 0:t.promise}setOptions(t){this.options={...P(this,mc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,Yn).remove(this)}setData(t,s){const o=Hp(this.state.data,t,this.options);return De(this,ri,pr).call(this,{data:o,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),o}setState(t,s){De(this,ri,pr).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var o,u;const s=(o=P(this,rn))==null?void 0:o.promise;return(u=P(this,rn))==null||u.cancel(t),s?s.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,el))}isActive(){return this.observers.some(t=>ai(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!cT(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(o=>o.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=P(this,rn))==null||s.continue()}onOnline(){var s;const t=this.observers.find(o=>o.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=P(this,rn))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),P(this,Yn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(P(this,rn)&&(P(this,Ma)?P(this,rn).cancel({revert:!0}):P(this,rn).cancelRetry()),this.scheduleGc()),P(this,Yn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||De(this,ri,pr).call(this,{type:"invalidate"})}fetch(t,s){var g,b,T;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(P(this,rn))return P(this,rn).continueRetry(),P(this,rn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(N=>N.options.queryFn);x&&this.setOptions(x.options)}const o=new AbortController,u=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(le(this,Ma,!0),o.signal)})},d=()=>{const x=dT(this.options,s),N={client:P(this,Oa),queryKey:this.queryKey,meta:this.meta};return u(N),le(this,Ma,!1),this.options.persister?this.options.persister(x,N,this):x(N)},f={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:P(this,Oa),state:this.state,fetchFn:d};u(f),(g=this.options.behavior)==null||g.onFetch(f,this),le(this,tl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((b=f.fetchOptions)==null?void 0:b.meta))&&De(this,ri,pr).call(this,{type:"fetch",meta:(T=f.fetchOptions)==null?void 0:T.meta});const p=x=>{var N,M,F,O;xp(x)&&x.silent||De(this,ri,pr).call(this,{type:"error",error:x}),xp(x)||((M=(N=P(this,Yn).config).onError)==null||M.call(N,x,this),(O=(F=P(this,Yn).config).onSettled)==null||O.call(F,this.state.data,x,this)),this.scheduleGc()};return le(this,rn,pT({initialPromise:s==null?void 0:s.initialPromise,fn:f.fetchFn,abort:o.abort.bind(o),onSuccess:x=>{var N,M,F,O;if(x===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(G){p(G);return}(M=(N=P(this,Yn).config).onSuccess)==null||M.call(N,x,this),(O=(F=P(this,Yn).config).onSettled)==null||O.call(F,x,this.state.error,this),this.scheduleGc()},onError:p,onFail:(x,N)=>{De(this,ri,pr).call(this,{type:"failed",failureCount:x,error:N})},onPause:()=>{De(this,ri,pr).call(this,{type:"pause"})},onContinue:()=>{De(this,ri,pr).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),P(this,rn).start()}},el=new WeakMap,tl=new WeakMap,Yn=new WeakMap,Oa=new WeakMap,rn=new WeakMap,mc=new WeakMap,Ma=new WeakMap,ri=new WeakSet,pr=function(t){const s=o=>{switch(t.type){case"failed":return{...o,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...yT(o.data,this.options),fetchMeta:t.meta??null};case"success":return{...o,data:t.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const u=t.error;return xp(u)&&u.revert&&P(this,tl)?{...P(this,tl),fetchStatus:"idle"}:{...o,error:u,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...t.state}}};this.state=s(this.state),Mt.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),P(this,Yn).notify({query:this,type:"updated",action:t})})},Bb);function yT(i,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fT(e.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function hC(i){const e=typeof i.initialData=="function"?i.initialData():i.initialData,t=e!==void 0,s=t?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Di,Fb,dC=(Fb=class extends Tl{constructor(e={}){super();Ee(this,Di);this.config=e,le(this,Di,new Map)}build(e,t,s){const o=t.queryKey,u=t.queryHash??jg(o,t);let d=this.get(u);return d||(d=new cC({client:e,queryKey:o,queryHash:u,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(o)}),this.add(d)),d}add(e){P(this,Di).has(e.queryHash)||(P(this,Di).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=P(this,Di).get(e.queryHash);t&&(e.destroy(),t===e&&P(this,Di).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return P(this,Di).get(e)}getAll(){return[...P(this,Di).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>nE(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>nE(e,s)):t}notify(e){Mt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Di=new WeakMap,Fb),Oi,mn,Pa,Mi,_s,Hb,fC=(Hb=class extends gT{constructor(t){super();Ee(this,Mi);Ee(this,Oi);Ee(this,mn);Ee(this,Pa);this.mutationId=t.mutationId,le(this,mn,t.mutationCache),le(this,Oi,[]),this.state=t.state||vT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){P(this,Oi).includes(t)||(P(this,Oi).push(t),this.clearGcTimeout(),P(this,mn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){le(this,Oi,P(this,Oi).filter(s=>s!==t)),this.scheduleGc(),P(this,mn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){P(this,Oi).length||(this.state.status==="pending"?this.scheduleGc():P(this,mn).remove(this))}continue(){var t;return((t=P(this,Pa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var u,d,f,p,g,b,T,x,N,M,F,O,G,Y,X,oe,se,ye,V,R;le(this,Pa,pT({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,I)=>{De(this,Mi,_s).call(this,{type:"failed",failureCount:A,error:I})},onPause:()=>{De(this,Mi,_s).call(this,{type:"pause"})},onContinue:()=>{De(this,Mi,_s).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,mn).canRun(this)}));const s=this.state.status==="pending",o=!P(this,Pa).canStart();try{if(!s){De(this,Mi,_s).call(this,{type:"pending",variables:t,isPaused:o}),await((d=(u=P(this,mn).config).onMutate)==null?void 0:d.call(u,t,this));const I=await((p=(f=this.options).onMutate)==null?void 0:p.call(f,t));I!==this.state.context&&De(this,Mi,_s).call(this,{type:"pending",context:I,variables:t,isPaused:o})}const A=await P(this,Pa).start();return await((b=(g=P(this,mn).config).onSuccess)==null?void 0:b.call(g,A,t,this.state.context,this)),await((x=(T=this.options).onSuccess)==null?void 0:x.call(T,A,t,this.state.context)),await((M=(N=P(this,mn).config).onSettled)==null?void 0:M.call(N,A,null,this.state.variables,this.state.context,this)),await((O=(F=this.options).onSettled)==null?void 0:O.call(F,A,null,t,this.state.context)),De(this,Mi,_s).call(this,{type:"success",data:A}),A}catch(A){try{throw await((Y=(G=P(this,mn).config).onError)==null?void 0:Y.call(G,A,t,this.state.context,this)),await((oe=(X=this.options).onError)==null?void 0:oe.call(X,A,t,this.state.context)),await((ye=(se=P(this,mn).config).onSettled)==null?void 0:ye.call(se,void 0,A,this.state.variables,this.state.context,this)),await((R=(V=this.options).onSettled)==null?void 0:R.call(V,void 0,A,t,this.state.context)),A}finally{De(this,Mi,_s).call(this,{type:"error",error:A})}}finally{P(this,mn).runNext(this)}}},Oi=new WeakMap,mn=new WeakMap,Pa=new WeakMap,Mi=new WeakSet,_s=function(t){const s=o=>{switch(t.type){case"failed":return{...o,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...o,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:t.error,failureCount:o.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Mt.batch(()=>{P(this,Oi).forEach(o=>{o.onMutationUpdate(t)}),P(this,mn).notify({mutation:this,type:"updated",action:t})})},Hb);function vT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gr,si,pc,Gb,mC=(Gb=class extends Tl{constructor(e={}){super();Ee(this,gr);Ee(this,si);Ee(this,pc);this.config=e,le(this,gr,new Set),le(this,si,new Map),le(this,pc,0)}build(e,t,s){const o=new fC({mutationCache:this,mutationId:++ed(this,pc)._,options:e.defaultMutationOptions(t),state:s});return this.add(o),o}add(e){P(this,gr).add(e);const t=nd(e);if(typeof t=="string"){const s=P(this,si).get(t);s?s.push(e):P(this,si).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(P(this,gr).delete(e)){const t=nd(e);if(typeof t=="string"){const s=P(this,si).get(t);if(s)if(s.length>1){const o=s.indexOf(e);o!==-1&&s.splice(o,1)}else s[0]===e&&P(this,si).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=nd(e);if(typeof t=="string"){const s=P(this,si).get(t),o=s==null?void 0:s.find(u=>u.state.status==="pending");return!o||o===e}else return!0}runNext(e){var s;const t=nd(e);if(typeof t=="string"){const o=(s=P(this,si).get(t))==null?void 0:s.find(u=>u!==e&&u.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Mt.batch(()=>{P(this,gr).forEach(e=>{this.notify({type:"removed",mutation:e})}),P(this,gr).clear(),P(this,si).clear()})}getAll(){return Array.from(P(this,gr))}find(e){const t={exact:!0,...e};return this.getAll().find(s=>iE(t,s))}findAll(e={}){return this.getAll().filter(t=>iE(e,t))}notify(e){Mt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Mt.batch(()=>Promise.all(e.map(t=>t.continue().catch(Xn))))}},gr=new WeakMap,si=new WeakMap,pc=new WeakMap,Gb);function nd(i){var e;return(e=i.options.scope)==null?void 0:e.id}function aE(i){return{onFetch:(e,t)=>{var b,T,x,N,M;const s=e.options,o=(x=(T=(b=e.fetchOptions)==null?void 0:b.meta)==null?void 0:T.fetchMore)==null?void 0:x.direction,u=((N=e.state.data)==null?void 0:N.pages)||[],d=((M=e.state.data)==null?void 0:M.pageParams)||[];let f={pages:[],pageParams:[]},p=0;const g=async()=>{let F=!1;const O=X=>{Object.defineProperty(X,"signal",{enumerable:!0,get:()=>(e.signal.aborted?F=!0:e.signal.addEventListener("abort",()=>{F=!0}),e.signal)})},G=dT(e.options,e.fetchOptions),Y=async(X,oe,se)=>{if(F)return Promise.reject();if(oe==null&&X.pages.length)return Promise.resolve(X);const ye={client:e.client,queryKey:e.queryKey,pageParam:oe,direction:se?"backward":"forward",meta:e.options.meta};O(ye);const V=await G(ye),{maxPages:R}=e.options,A=se?sC:rC;return{pages:A(X.pages,V,R),pageParams:A(X.pageParams,oe,R)}};if(o&&u.length){const X=o==="backward",oe=X?pC:oE,se={pages:u,pageParams:d},ye=oe(s,se);f=await Y(se,ye,X)}else{const X=i??u.length;do{const oe=p===0?d[0]??s.initialPageParam:oE(s,f);if(p>0&&oe==null)break;f=await Y(f,oe),p++}while(p<X)}return f};e.options.persister?e.fetchFn=()=>{var F,O;return(O=(F=e.options).persister)==null?void 0:O.call(F,g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=g}}}function oE(i,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?i.getNextPageParam(e[s],e,t[s],t):void 0}function pC(i,{pages:e,pageParams:t}){var s;return e.length>0?(s=i.getPreviousPageParam)==null?void 0:s.call(i,e[0],e,t[0],t):void 0}var pt,xs,Rs,nl,il,Cs,rl,sl,Qb,gC=(Qb=class{constructor(i={}){Ee(this,pt);Ee(this,xs);Ee(this,Rs);Ee(this,nl);Ee(this,il);Ee(this,Cs);Ee(this,rl);Ee(this,sl);le(this,pt,i.queryCache||new dC),le(this,xs,i.mutationCache||new mC),le(this,Rs,i.defaultOptions||{}),le(this,nl,new Map),le(this,il,new Map),le(this,Cs,0)}mount(){ed(this,Cs)._++,P(this,Cs)===1&&(le(this,rl,Ug.subscribe(async i=>{i&&(await this.resumePausedMutations(),P(this,pt).onFocus())})),le(this,sl,Rd.subscribe(async i=>{i&&(await this.resumePausedMutations(),P(this,pt).onOnline())})))}unmount(){var i,e;ed(this,Cs)._--,P(this,Cs)===0&&((i=P(this,rl))==null||i.call(this),le(this,rl,void 0),(e=P(this,sl))==null||e.call(this),le(this,sl,void 0))}isFetching(i){return P(this,pt).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return P(this,xs).findAll({...i,status:"pending"}).length}getQueryData(i){var t;const e=this.defaultQueryOptions({queryKey:i});return(t=P(this,pt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(i){const e=this.defaultQueryOptions(i),t=P(this,pt).build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(i):(i.revalidateIfStale&&t.isStaleByTime(Qo(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(i){return P(this,pt).findAll(i).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(i,e,t){const s=this.defaultQueryOptions({queryKey:i}),o=P(this,pt).get(s.queryHash),u=o==null?void 0:o.state.data,d=nC(e,u);if(d!==void 0)return P(this,pt).build(this,s).setData(d,{...t,manual:!0})}setQueriesData(i,e,t){return Mt.batch(()=>P(this,pt).findAll(i).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(i){var t;const e=this.defaultQueryOptions({queryKey:i});return(t=P(this,pt).get(e.queryHash))==null?void 0:t.state}removeQueries(i){const e=P(this,pt);Mt.batch(()=>{e.findAll(i).forEach(t=>{e.remove(t)})})}resetQueries(i,e){const t=P(this,pt);return Mt.batch(()=>(t.findAll(i).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...i},e)))}cancelQueries(i,e={}){const t={revert:!0,...e},s=Mt.batch(()=>P(this,pt).findAll(i).map(o=>o.cancel(t)));return Promise.all(s).then(Xn).catch(Xn)}invalidateQueries(i,e={}){return Mt.batch(()=>(P(this,pt).findAll(i).forEach(t=>{t.invalidate()}),(i==null?void 0:i.refetchType)==="none"?Promise.resolve():this.refetchQueries({...i,type:(i==null?void 0:i.refetchType)??(i==null?void 0:i.type)??"active"},e)))}refetchQueries(i,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=Mt.batch(()=>P(this,pt).findAll(i).filter(o=>!o.isDisabled()).map(o=>{let u=o.fetch(void 0,t);return t.throwOnError||(u=u.catch(Xn)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(Xn)}fetchQuery(i){const e=this.defaultQueryOptions(i);e.retry===void 0&&(e.retry=!1);const t=P(this,pt).build(this,e);return t.isStaleByTime(Qo(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(Xn).catch(Xn)}fetchInfiniteQuery(i){return i.behavior=aE(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(Xn).catch(Xn)}ensureInfiniteQueryData(i){return i.behavior=aE(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return Rd.isOnline()?P(this,xs).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,pt)}getMutationCache(){return P(this,xs)}getDefaultOptions(){return P(this,Rs)}setDefaultOptions(i){le(this,Rs,i)}setQueryDefaults(i,e){P(this,nl).set(za(i),{queryKey:i,defaultOptions:e})}getQueryDefaults(i){const e=[...P(this,nl).values()],t={};return e.forEach(s=>{tc(i,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(i,e){P(this,il).set(za(i),{mutationKey:i,defaultOptions:e})}getMutationDefaults(i){const e=[...P(this,il).values()],t={};return e.forEach(s=>{tc(i,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(i){if(i._defaulted)return i;const e={...P(this,Rs).queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return e.queryHash||(e.queryHash=jg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Lg&&(e.enabled=!1),e}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...P(this,Rs).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){P(this,pt).clear(),P(this,xs).clear()}},pt=new WeakMap,xs=new WeakMap,Rs=new WeakMap,nl=new WeakMap,il=new WeakMap,Cs=new WeakMap,rl=new WeakMap,sl=new WeakMap,Qb),_n,Le,gc,pn,Va,al,Is,Pi,yc,ol,ll,ka,ja,Ns,ul,Xe,qu,Qp,Kp,$p,Yp,Xp,Wp,Zp,_T,Kb,yC=(Kb=class extends Tl{constructor(e,t){super();Ee(this,Xe);Ee(this,_n);Ee(this,Le);Ee(this,gc);Ee(this,pn);Ee(this,Va);Ee(this,al);Ee(this,Is);Ee(this,Pi);Ee(this,yc);Ee(this,ol);Ee(this,ll);Ee(this,ka);Ee(this,ja);Ee(this,Ns);Ee(this,ul,new Set);this.options=t,le(this,_n,e),le(this,Pi,null),le(this,Is,Gp()),this.options.experimental_prefetchInRender||P(this,Is).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,Le).addObserver(this),lE(P(this,Le),this.options)?De(this,Xe,qu).call(this):this.updateResult(),De(this,Xe,Yp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Jp(P(this,Le),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Jp(P(this,Le),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,De(this,Xe,Xp).call(this),De(this,Xe,Wp).call(this),P(this,Le).removeObserver(this)}setOptions(e,t){const s=this.options,o=P(this,Le);if(this.options=P(this,_n).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ai(this.options.enabled,P(this,Le))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");De(this,Xe,Zp).call(this),P(this,Le).setOptions(this.options),s._defaulted&&!xd(this.options,s)&&P(this,_n).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,Le),observer:this});const u=this.hasListeners();u&&uE(P(this,Le),o,this.options,s)&&De(this,Xe,qu).call(this),this.updateResult(t),u&&(P(this,Le)!==o||ai(this.options.enabled,P(this,Le))!==ai(s.enabled,P(this,Le))||Qo(this.options.staleTime,P(this,Le))!==Qo(s.staleTime,P(this,Le)))&&De(this,Xe,Qp).call(this);const d=De(this,Xe,Kp).call(this);u&&(P(this,Le)!==o||ai(this.options.enabled,P(this,Le))!==ai(s.enabled,P(this,Le))||d!==P(this,Ns))&&De(this,Xe,$p).call(this,d)}getOptimisticResult(e){const t=P(this,_n).getQueryCache().build(P(this,_n),e),s=this.createResult(t,e);return _C(this,s)&&(le(this,pn,s),le(this,al,this.options),le(this,Va,P(this,Le).state)),s}getCurrentResult(){return P(this,pn)}trackResult(e,t){const s={};return Object.keys(e).forEach(o=>{Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),t==null||t(o),e[o])})}),s}trackProp(e){P(this,ul).add(e)}getCurrentQuery(){return P(this,Le)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=P(this,_n).defaultQueryOptions(e),s=P(this,_n).getQueryCache().build(P(this,_n),t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return De(this,Xe,qu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,pn)))}createResult(e,t){var R;const s=P(this,Le),o=this.options,u=P(this,pn),d=P(this,Va),f=P(this,al),g=e!==s?e.state:P(this,gc),{state:b}=e;let T={...b},x=!1,N;if(t._optimisticResults){const A=this.hasListeners(),I=!A&&lE(e,t),j=A&&uE(e,s,t,o);(I||j)&&(T={...T,...yT(b.data,e.options)}),t._optimisticResults==="isRestoring"&&(T.fetchStatus="idle")}let{error:M,errorUpdatedAt:F,status:O}=T;if(t.select&&T.data!==void 0)if(u&&T.data===(d==null?void 0:d.data)&&t.select===P(this,yc))N=P(this,ol);else try{le(this,yc,t.select),N=t.select(T.data),N=Hp(u==null?void 0:u.data,N,t),le(this,ol,N),le(this,Pi,null)}catch(A){le(this,Pi,A)}else N=T.data;if(t.placeholderData!==void 0&&N===void 0&&O==="pending"){let A;if(u!=null&&u.isPlaceholderData&&t.placeholderData===(f==null?void 0:f.placeholderData))A=u.data;else if(A=typeof t.placeholderData=="function"?t.placeholderData((R=P(this,ll))==null?void 0:R.state.data,P(this,ll)):t.placeholderData,t.select&&A!==void 0)try{A=t.select(A),le(this,Pi,null)}catch(I){le(this,Pi,I)}A!==void 0&&(O="success",N=Hp(u==null?void 0:u.data,A,t),x=!0)}P(this,Pi)&&(M=P(this,Pi),N=P(this,ol),F=Date.now(),O="error");const G=T.fetchStatus==="fetching",Y=O==="pending",X=O==="error",oe=Y&&G,se=N!==void 0,V={status:O,fetchStatus:T.fetchStatus,isPending:Y,isSuccess:O==="success",isError:X,isInitialLoading:oe,isLoading:oe,data:N,dataUpdatedAt:T.dataUpdatedAt,error:M,errorUpdatedAt:F,failureCount:T.fetchFailureCount,failureReason:T.fetchFailureReason,errorUpdateCount:T.errorUpdateCount,isFetched:T.dataUpdateCount>0||T.errorUpdateCount>0,isFetchedAfterMount:T.dataUpdateCount>g.dataUpdateCount||T.errorUpdateCount>g.errorUpdateCount,isFetching:G,isRefetching:G&&!Y,isLoadingError:X&&!se,isPaused:T.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:X&&se,isStale:zg(e,t),refetch:this.refetch,promise:P(this,Is)};if(this.options.experimental_prefetchInRender){const A=q=>{V.status==="error"?q.reject(V.error):V.data!==void 0&&q.resolve(V.data)},I=()=>{const q=le(this,Is,V.promise=Gp());A(q)},j=P(this,Is);switch(j.status){case"pending":e.queryHash===s.queryHash&&A(j);break;case"fulfilled":(V.status==="error"||V.data!==j.value)&&I();break;case"rejected":(V.status!=="error"||V.error!==j.reason)&&I();break}}return V}updateResult(e){const t=P(this,pn),s=this.createResult(P(this,Le),this.options);if(le(this,Va,P(this,Le).state),le(this,al,this.options),P(this,Va).data!==void 0&&le(this,ll,P(this,Le)),xd(s,t))return;le(this,pn,s);const o={},u=()=>{if(!t)return!0;const{notifyOnChangeProps:d}=this.options,f=typeof d=="function"?d():d;if(f==="all"||!f&&!P(this,ul).size)return!0;const p=new Set(f??P(this,ul));return this.options.throwOnError&&p.add("error"),Object.keys(P(this,pn)).some(g=>{const b=g;return P(this,pn)[b]!==t[b]&&p.has(b)})};(e==null?void 0:e.listeners)!==!1&&u()&&(o.listeners=!0),De(this,Xe,_T).call(this,{...o,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&De(this,Xe,Yp).call(this)}},_n=new WeakMap,Le=new WeakMap,gc=new WeakMap,pn=new WeakMap,Va=new WeakMap,al=new WeakMap,Is=new WeakMap,Pi=new WeakMap,yc=new WeakMap,ol=new WeakMap,ll=new WeakMap,ka=new WeakMap,ja=new WeakMap,Ns=new WeakMap,ul=new WeakMap,Xe=new WeakSet,qu=function(e){De(this,Xe,Zp).call(this);let t=P(this,Le).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Xn)),t},Qp=function(){De(this,Xe,Xp).call(this);const e=Qo(this.options.staleTime,P(this,Le));if(Ua||P(this,pn).isStale||!Bp(e))return;const s=cT(P(this,pn).dataUpdatedAt,e)+1;le(this,ka,setTimeout(()=>{P(this,pn).isStale||this.updateResult()},s))},Kp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,Le)):this.options.refetchInterval)??!1},$p=function(e){De(this,Xe,Wp).call(this),le(this,Ns,e),!(Ua||ai(this.options.enabled,P(this,Le))===!1||!Bp(P(this,Ns))||P(this,Ns)===0)&&le(this,ja,setInterval(()=>{(this.options.refetchIntervalInBackground||Ug.isFocused())&&De(this,Xe,qu).call(this)},P(this,Ns)))},Yp=function(){De(this,Xe,Qp).call(this),De(this,Xe,$p).call(this,De(this,Xe,Kp).call(this))},Xp=function(){P(this,ka)&&(clearTimeout(P(this,ka)),le(this,ka,void 0))},Wp=function(){P(this,ja)&&(clearInterval(P(this,ja)),le(this,ja,void 0))},Zp=function(){const e=P(this,_n).getQueryCache().build(P(this,_n),this.options);if(e===P(this,Le))return;const t=P(this,Le);le(this,Le,e),le(this,gc,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},_T=function(e){Mt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(P(this,pn))}),P(this,_n).getQueryCache().notify({query:P(this,Le),type:"observerResultsUpdated"})})},Kb);function vC(i,e){return ai(e.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&e.retryOnMount===!1)}function lE(i,e){return vC(i,e)||i.state.data!==void 0&&Jp(i,e,e.refetchOnMount)}function Jp(i,e,t){if(ai(e.enabled,i)!==!1){const s=typeof t=="function"?t(i):t;return s==="always"||s!==!1&&zg(i,e)}return!1}function uE(i,e,t,s){return(i!==e||ai(s.enabled,i)===!1)&&(!t.suspense||i.state.status!=="error")&&zg(i,t)}function zg(i,e){return ai(e.enabled,i)!==!1&&i.isStaleByTime(Qo(e.staleTime,i))}function _C(i,e){return!xd(i.getCurrentResult(),e)}var Ds,Os,En,yr,Ar,fd,eg,$b,EC=($b=class extends Tl{constructor(t,s){super();Ee(this,Ar);Ee(this,Ds);Ee(this,Os);Ee(this,En);Ee(this,yr);le(this,Ds,t),this.setOptions(s),this.bindMethods(),De(this,Ar,fd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var o;const s=this.options;this.options=P(this,Ds).defaultMutationOptions(t),xd(this.options,s)||P(this,Ds).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,En),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&za(s.mutationKey)!==za(this.options.mutationKey)?this.reset():((o=P(this,En))==null?void 0:o.state.status)==="pending"&&P(this,En).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=P(this,En))==null||t.removeObserver(this)}onMutationUpdate(t){De(this,Ar,fd).call(this),De(this,Ar,eg).call(this,t)}getCurrentResult(){return P(this,Os)}reset(){var t;(t=P(this,En))==null||t.removeObserver(this),le(this,En,void 0),De(this,Ar,fd).call(this),De(this,Ar,eg).call(this)}mutate(t,s){var o;return le(this,yr,s),(o=P(this,En))==null||o.removeObserver(this),le(this,En,P(this,Ds).getMutationCache().build(P(this,Ds),this.options)),P(this,En).addObserver(this),P(this,En).execute(t)}},Ds=new WeakMap,Os=new WeakMap,En=new WeakMap,yr=new WeakMap,Ar=new WeakSet,fd=function(){var s;const t=((s=P(this,En))==null?void 0:s.state)??vT();le(this,Os,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},eg=function(t){Mt.batch(()=>{var s,o,u,d,f,p,g,b;if(P(this,yr)&&this.hasListeners()){const T=P(this,Os).variables,x=P(this,Os).context;(t==null?void 0:t.type)==="success"?((o=(s=P(this,yr)).onSuccess)==null||o.call(s,t.data,T,x),(d=(u=P(this,yr)).onSettled)==null||d.call(u,t.data,null,T,x)):(t==null?void 0:t.type)==="error"&&((p=(f=P(this,yr)).onError)==null||p.call(f,t.error,T,x),(b=(g=P(this,yr)).onSettled)==null||b.call(g,void 0,t.error,T,x))}this.listeners.forEach(T=>{T(P(this,Os))})})},$b),ET=Q.createContext(void 0),Ec=i=>{const e=Q.useContext(ET);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},bC=({client:i,children:e})=>(Q.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),v.jsx(ET.Provider,{value:i,children:e})),bT=Q.createContext(!1),TC=()=>Q.useContext(bT);bT.Provider;function wC(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var SC=Q.createContext(wC()),AC=()=>Q.useContext(SC);function TT(i,e){return typeof i=="function"?i(...e):!!i}function tg(){}var xC=(i,e)=>{(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&(e.isReset()||(i.retryOnMount=!1))},RC=i=>{Q.useEffect(()=>{i.clearReset()},[i])},CC=({result:i,errorResetBoundary:e,throwOnError:t,query:s,suspense:o})=>i.isError&&!e.isReset()&&!i.isFetching&&s&&(o&&i.data===void 0||TT(t,[i.error,s])),IC=i=>{const e=i.staleTime;i.suspense&&(i.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof i.gcTime=="number"&&(i.gcTime=Math.max(i.gcTime,1e3)))},NC=(i,e)=>i.isLoading&&i.isFetching&&!e,DC=(i,e)=>(i==null?void 0:i.suspense)&&e.isPending,cE=(i,e,t)=>e.fetchOptimistic(i).catch(()=>{t.clearReset()});function OC(i,e,t){var T,x,N,M,F;const s=Ec(),o=TC(),u=AC(),d=s.defaultQueryOptions(i);(x=(T=s.getDefaultOptions().queries)==null?void 0:T._experimental_beforeQuery)==null||x.call(T,d),d._optimisticResults=o?"isRestoring":"optimistic",IC(d),xC(d,u),RC(u);const f=!s.getQueryCache().get(d.queryHash),[p]=Q.useState(()=>new e(s,d)),g=p.getOptimisticResult(d),b=!o&&i.subscribed!==!1;if(Q.useSyncExternalStore(Q.useCallback(O=>{const G=b?p.subscribe(Mt.batchCalls(O)):tg;return p.updateResult(),G},[p,b]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),Q.useEffect(()=>{p.setOptions(d,{listeners:!1})},[d,p]),DC(d,g))throw cE(d,p,u);if(CC({result:g,errorResetBoundary:u,throwOnError:d.throwOnError,query:s.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw g.error;if((M=(N=s.getDefaultOptions().queries)==null?void 0:N._experimental_afterQuery)==null||M.call(N,d,g),d.experimental_prefetchInRender&&!Ua&&NC(g,o)){const O=f?cE(d,p,u):(F=s.getQueryCache().get(d.queryHash))==null?void 0:F.promise;O==null||O.catch(tg).finally(()=>{p.updateResult()})}return d.notifyOnChangeProps?g:p.trackResult(g)}function Cd(i,e){return OC(i,yC)}function La(i,e){const t=Ec(),[s]=Q.useState(()=>new EC(t,i));Q.useEffect(()=>{s.setOptions(i)},[s,i]);const o=Q.useSyncExternalStore(Q.useCallback(d=>s.subscribe(Mt.batchCalls(d)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),u=Q.useCallback((d,f)=>{s.mutate(d,f).catch(tg)},[s]);if(o.error&&TT(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}const MC=()=>{};var hE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},PC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],d=i[t++],f=i[t++],p=((o&7)<<18|(u&63)<<12|(d&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],d=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},ST={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,f=d?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,b=u>>2,T=(u&3)<<4|f>>4;let x=(f&15)<<2|g>>6,N=g&63;p||(N=64,d||(x=64)),s.push(t[b],t[T],t[x],t[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(wT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):PC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],f=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||f==null||g==null||T==null)throw new VC;const x=u<<2|f>>4;if(s.push(x),g!==64){const N=f<<4&240|g>>2;if(s.push(N),T!==64){const M=g<<6&192|T;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class VC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kC=function(i){const e=wT(i);return ST.encodeByteArray(e,!0)},Id=function(i){return kC(i).replace(/\./g,"")},AT=function(i){try{return ST.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=()=>jC().__FIREBASE_DEFAULTS__,UC=()=>{if(typeof process>"u"||typeof hE>"u")return;const i=hE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},zC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&AT(i[1]);return e&&JSON.parse(e)},Yd=()=>{try{return MC()||LC()||UC()||zC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},xT=i=>{var e,t;return(t=(e=Yd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},qC=i=>{const e=xT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},RT=()=>{var i;return(i=Yd())===null||i===void 0?void 0:i.config},CT=i=>{var e;return(e=Yd())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Id(JSON.stringify(t)),Id(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function GC(){var i;const e=(i=Yd())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function $C(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YC(){const i=on();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function XC(){return!GC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WC(){try{return typeof indexedDB=="object"}catch{return!1}}function ZC(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="FirebaseError";class Or extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=JC,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bc.prototype.create)}}class bc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?e1(u,s):"Error",f=`${this.serviceName}: ${d} (${o}).`;return new Or(o,f,s)}}function e1(i,e){return i.replace(t1,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const t1=/\{\$([^}]+)}/g;function n1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function qa(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],d=e[o];if(dE(u)&&dE(d)){if(!qa(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function dE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Bu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Fu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function i1(i,e){const t=new r1(i,e);return t.subscribe.bind(t)}class r1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");s1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Rp),o.error===void 0&&(o.error=Rp),o.complete===void 0&&(o.complete=Rp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s1(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Rp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(i){return i&&i._delegate?i._delegate:i}class Ba{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new BC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l1(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);s===f&&d.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:o1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o1(i){return i===Ca?void 0:i}function l1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const c1={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},h1=Ve.INFO,d1={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},f1=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=d1[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qg{constructor(e){this.name=e,this._logLevel=h1,this._logHandler=f1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const m1=(i,e)=>e.some(t=>i instanceof t);let fE,mE;function p1(){return fE||(fE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g1(){return mE||(mE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IT=new WeakMap,ng=new WeakMap,NT=new WeakMap,Cp=new WeakMap,Bg=new WeakMap;function y1(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{t(Ps(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&IT.set(t,i)}).catch(()=>{}),Bg.set(e,i),e}function v1(i){if(ng.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{t(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});ng.set(i,e)}let ig={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return ng.get(i);if(e==="objectStoreNames")return i.objectStoreNames||NT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ps(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function _1(i){ig=i(ig)}function E1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Ip(this),e,...t);return NT.set(s,e.sort?e.sort():[e]),Ps(s)}:g1().includes(i)?function(...e){return i.apply(Ip(this),e),Ps(IT.get(this))}:function(...e){return Ps(i.apply(Ip(this),e))}}function b1(i){return typeof i=="function"?E1(i):(i instanceof IDBTransaction&&v1(i),m1(i,p1())?new Proxy(i,ig):i)}function Ps(i){if(i instanceof IDBRequest)return y1(i);if(Cp.has(i))return Cp.get(i);const e=b1(i);return e!==i&&(Cp.set(i,e),Bg.set(e,i)),e}const Ip=i=>Bg.get(i);function T1(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(i,e),f=Ps(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Ps(d.result),p.oldVersion,p.newVersion,Ps(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const w1=["get","getKey","getAll","getAllKeys","count"],S1=["put","add","delete","clear"],Np=new Map;function pE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Np.get(e))return Np.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=S1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||w1.includes(t)))return;const u=async function(d,...f){const p=this.transaction(d,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),o&&p.done]))[0]};return Np.set(e,u),u}_1(i=>({...i,get:(e,t,s)=>pE(e,t)||i.get(e,t,s),has:(e,t)=>!!pE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(x1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function x1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rg="@firebase/app",gE="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new qg("@firebase/app"),R1="@firebase/app-compat",C1="@firebase/analytics-compat",I1="@firebase/analytics",N1="@firebase/app-check-compat",D1="@firebase/app-check",O1="@firebase/auth",M1="@firebase/auth-compat",P1="@firebase/database",V1="@firebase/data-connect",k1="@firebase/database-compat",j1="@firebase/functions",L1="@firebase/functions-compat",U1="@firebase/installations",z1="@firebase/installations-compat",q1="@firebase/messaging",B1="@firebase/messaging-compat",F1="@firebase/performance",H1="@firebase/performance-compat",G1="@firebase/remote-config",Q1="@firebase/remote-config-compat",K1="@firebase/storage",$1="@firebase/storage-compat",Y1="@firebase/firestore",X1="@firebase/vertexai",W1="@firebase/firestore-compat",Z1="firebase",J1="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="[DEFAULT]",eI={[rg]:"fire-core",[R1]:"fire-core-compat",[I1]:"fire-analytics",[C1]:"fire-analytics-compat",[D1]:"fire-app-check",[N1]:"fire-app-check-compat",[O1]:"fire-auth",[M1]:"fire-auth-compat",[P1]:"fire-rtdb",[V1]:"fire-data-connect",[k1]:"fire-rtdb-compat",[j1]:"fire-fn",[L1]:"fire-fn-compat",[U1]:"fire-iid",[z1]:"fire-iid-compat",[q1]:"fire-fcm",[B1]:"fire-fcm-compat",[F1]:"fire-perf",[H1]:"fire-perf-compat",[G1]:"fire-rc",[Q1]:"fire-rc-compat",[K1]:"fire-gcs",[$1]:"fire-gcs-compat",[Y1]:"fire-fst",[W1]:"fire-fst-compat",[X1]:"fire-vertex","fire-js":"fire-js",[Z1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new Map,tI=new Map,ag=new Map;function yE(i,e){try{i.container.addComponent(e)}catch(t){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function cl(i){const e=i.name;if(ag.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;ag.set(e,i);for(const t of Nd.values())yE(t,i);for(const t of tI.values())yE(t,i);return!0}function Fg(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Wn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new bc("app","Firebase",nI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=J1;function DT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:sg,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Vs.create("bad-app-name",{appName:String(o)});if(t||(t=RT()),!t)throw Vs.create("no-options");const u=Nd.get(o);if(u){if(qa(t,u.options)&&qa(s,u.config))return u;throw Vs.create("duplicate-app",{appName:o})}const d=new u1(o);for(const p of ag.values())d.addComponent(p);const f=new iI(t,s,d);return Nd.set(o,f),f}function OT(i=sg){const e=Nd.get(i);if(!e&&i===sg&&RT())return DT();if(!e)throw Vs.create("no-app",{appName:i});return e}function ks(i,e,t){var s;let o=(s=eI[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const f=[`Unable to register library "${o}" with version "${e}":`];u&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&f.push("and"),d&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(f.join(" "));return}cl(new Ba(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="firebase-heartbeat-database",sI=1,nc="firebase-heartbeat-store";let Dp=null;function MT(){return Dp||(Dp=T1(rI,sI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(nc)}catch(t){console.warn(t)}}}}).catch(i=>{throw Vs.create("idb-open",{originalErrorMessage:i.message})})),Dp}async function aI(i){try{const t=(await MT()).transaction(nc),s=await t.objectStore(nc).get(PT(i));return await t.done,s}catch(e){if(e instanceof Or)Rr.warn(e.message);else{const t=Vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rr.warn(t.message)}}}async function vE(i,e){try{const s=(await MT()).transaction(nc,"readwrite");await s.objectStore(nc).put(e,PT(i)),await s.done}catch(t){if(t instanceof Or)Rr.warn(t.message);else{const s=Vs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Rr.warn(s.message)}}}function PT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=1024,lI=30;class uI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new hI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=_E();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>lI){const d=dI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_E(),{heartbeatsToSend:s,unsentEntries:o}=cI(this._heartbeatsCache.heartbeats),u=Id(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Rr.warn(t),""}}}function _E(){return new Date().toISOString().substring(0,10)}function cI(i,e=oI){const t=[];let s=i.slice();for(const o of i){const u=t.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),EE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),EE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class hI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WC()?ZC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return vE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return vE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function EE(i){return Id(JSON.stringify({version:2,heartbeats:i})).length}function dI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(i){cl(new Ba("platform-logger",e=>new A1(e),"PRIVATE")),cl(new Ba("heartbeat",e=>new uI(e),"PRIVATE")),ks(rg,gE,i),ks(rg,gE,"esm2017"),ks("fire-js","")}fI("");function Hg(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function VT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mI=VT,kT=new bc("auth","Firebase",VT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new qg("@firebase/auth");function pI(i,...e){Dd.logLevel<=Ve.WARN&&Dd.warn(`Auth (${wl}): ${i}`,...e)}function md(i,...e){Dd.logLevel<=Ve.ERROR&&Dd.error(`Auth (${wl}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(i,...e){throw Gg(i,...e)}function Vi(i,...e){return Gg(i,...e)}function jT(i,e,t){const s=Object.assign(Object.assign({},mI()),{[e]:t});return new bc("auth","Firebase",s).create(e,{appName:i.name})}function wr(i){return jT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return kT.create(i,...e)}function Te(i,e,...t){if(!i)throw Gg(e,...t)}function vr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw md(e),new Error(e)}function Cr(i,e){i||vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function gI(){return bE()==="http:"||bE()==="https:"}function bE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gI()||KC()||"connection"in navigator)?navigator.onLine:!0}function vI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cr(t>e,"Short delay should be less than long delay!"),this.isMobile=HC()||$C()}get(){return yI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(i,e){Cr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new wc(3e4,6e4);function Qs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Ks(i,e,t,s,o={}){return UT(i,o,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const f=Tc(Object.assign({key:i.config.apiKey},d)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return QC()||(g.referrerPolicy="no-referrer"),LT.fetch()(zT(i,i.config.apiHost,t,f),g)})}async function UT(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},_I),e);try{const o=new TI(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw id(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const f=u.ok?d.errorMessage:d.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(i,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw id(i,"email-already-in-use",d);if(p==="USER_DISABLED")throw id(i,"user-disabled",d);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw jT(i,b,g);ui(i,b)}}catch(o){if(o instanceof Or)throw o;ui(i,"network-request-failed",{message:String(o)})}}async function Sc(i,e,t,s,o={}){const u=await Ks(i,e,t,s,o);return"mfaPendingCredential"in u&&ui(i,"multi-factor-auth-required",{_serverResponse:u}),u}function zT(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?Qg(i.config,o):`${i.config.apiScheme}://${o}`}function bI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Vi(this.auth,"network-request-failed")),EI.get())})}}function id(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Vi(i,e,s);return o.customData._tokenResponse=t,o}function TE(i){return i!==void 0&&i.enterprise!==void 0}class wI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return bI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SI(i,e){return Ks(i,"GET","/v2/recaptchaConfig",Qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(i,e){return Ks(i,"POST","/v1/accounts:delete",e)}async function qT(i,e){return Ks(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xI(i,e=!1){const t=kt(i),s=await t.getIdToken(e),o=Kg(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:$u(Op(o.auth_time)),issuedAtTime:$u(Op(o.iat)),expirationTime:$u(Op(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Op(i){return Number(i)*1e3}function Kg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{const o=AT(t);return o?JSON.parse(o):(md("Failed to decode base64 JWT payload"),null)}catch(o){return md("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function wE(i){const e=Kg(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Or&&RI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function RI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$u(this.lastLoginAt),this.creationTime=$u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(i){var e;const t=i.auth,s=await i.getIdToken(),o=await ic(i,qT(t,{idToken:s}));Te(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?BT(u.providerUserInfo):[],f=NI(i.providerData,d),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(f!=null&&f.length),b=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new lg(u.createdAt,u.lastLoginAt),isAnonymous:b};Object.assign(i,T)}async function II(i){const e=kt(i);await Od(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function BT(i){return i.map(e=>{var{providerId:t}=e,s=Hg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(i,e){const t=await UT(i,{},async()=>{const s=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,d=zT(i,o,"/v1/token",`key=${u}`),f=await i._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",LT.fetch()(d,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function OI(i,e){return Ks(i,"POST","/v2/accounts:revokeToken",Qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=wE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await DI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,d=new Ko;return s&&(Te(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class _r{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Hg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new lg(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await ic(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return xI(this,e)}reload(){return II(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Od(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(wr(this.auth));const e=await this.getIdToken();return await ic(this,AI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,d,f,p,g,b;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,x=(o=t.email)!==null&&o!==void 0?o:void 0,N=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,M=(d=t.photoURL)!==null&&d!==void 0?d:void 0,F=(f=t.tenantId)!==null&&f!==void 0?f:void 0,O=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,G=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Y=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:X,emailVerified:oe,isAnonymous:se,providerData:ye,stsTokenManager:V}=t;Te(X&&V,e,"internal-error");const R=Ko.fromJSON(this.name,V);Te(typeof X=="string",e,"internal-error"),gs(T,e.name),gs(x,e.name),Te(typeof oe=="boolean",e,"internal-error"),Te(typeof se=="boolean",e,"internal-error"),gs(N,e.name),gs(M,e.name),gs(F,e.name),gs(O,e.name),gs(G,e.name),gs(Y,e.name);const A=new _r({uid:X,auth:e,email:x,emailVerified:oe,displayName:T,isAnonymous:se,photoURL:M,phoneNumber:N,tenantId:F,stsTokenManager:R,createdAt:G,lastLoginAt:Y});return ye&&Array.isArray(ye)&&(A.providerData=ye.map(I=>Object.assign({},I))),O&&(A._redirectEventId=O),A}static async _fromIdTokenResponse(e,t,s=!1){const o=new Ko;o.updateFromServerResponse(t);const u=new _r({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Od(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?BT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),f=new Ko;f.updateFromIdToken(s);const p=new _r({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new lg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=new Map;function Er(i){Cr(i instanceof Function,"Expected a class definition");let e=SE.get(i);return e?(Cr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,SE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}FT.type="NONE";const AE=FT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(i,e,t){return`firebase:${i}:${e}:${t}`}class $o{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=pd(this.userKey,o.apiKey,u),this.fullPersistenceKey=pd("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_r._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new $o(Er(AE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Er(AE);const d=pd(s,e.config.apiKey,e.name);let f=null;for(const g of t)try{const b=await g._get(d);if(b){const T=_r._fromJSON(e,b);g!==u&&(f=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new $o(u,e,s):(u=p[0],f&&await u._set(d,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new $o(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YT(e))return"Blackberry";if(XT(e))return"Webos";if(GT(e))return"Safari";if((e.includes("chrome/")||QT(e))&&!e.includes("edge/"))return"Chrome";if($T(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function HT(i=on()){return/firefox\//i.test(i)}function GT(i=on()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QT(i=on()){return/crios\//i.test(i)}function KT(i=on()){return/iemobile/i.test(i)}function $T(i=on()){return/android/i.test(i)}function YT(i=on()){return/blackberry/i.test(i)}function XT(i=on()){return/webos/i.test(i)}function $g(i=on()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function MI(i=on()){var e;return $g(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PI(){return YC()&&document.documentMode===10}function WT(i=on()){return $g(i)||$T(i)||XT(i)||YT(i)||/windows phone/i.test(i)||KT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(i,e=[]){let t;switch(i){case"Browser":t=xE(on());break;case"Worker":t=`${xE(on())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((d,f)=>{try{const p=e(u);d(p)}catch(p){f(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(i,e={}){return Ks(i,"GET","/v2/passwordPolicy",Qs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=6;class LI{constructor(e){var t,s,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:jI,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,d,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RE(this),this.idTokenSubscription=new RE(this),this.beforeStateQueue=new VI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Er(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await qT(this,{idToken:e}),s=await _r._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Wn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===f)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Od(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(wr(this));const t=e?kt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kI(this),t=new LI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await OI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Er(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(f,this,"internal-error"),f.then(()=>{d||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&pI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Qa(i){return kt(i)}class RE{constructor(e){this.auth=e,this.observer=null,this.addObserver=i1(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zI(i){Xd=i}function JT(i){return Xd.loadJS(i)}function qI(){return Xd.recaptchaEnterpriseScript}function BI(){return Xd.gapiScript}function FI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class HI{constructor(){this.enterprise=new GI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class GI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const QI="recaptcha-enterprise",ew="NO_RECAPTCHA";class KI{constructor(e){this.type=QI,this.auth=Qa(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,f)=>{SI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new wI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,d(g.siteKey)}}).catch(p=>{f(p)})})}function o(u,d,f){const p=window.grecaptcha;TE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{d(g)}).catch(()=>{d(ew)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HI().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(f=>{if(!t&&TE(window.grecaptcha))o(f,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=qI();p.length!==0&&(p+=f),JT(p).then(()=>{o(f,u,d)}).catch(g=>{d(g)})}}).catch(f=>{d(f)})})}}async function CE(i,e,t,s=!1,o=!1){const u=new KI(i);let d;if(o)d=ew;else try{d=await u.verify(t)}catch{d=await u.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function IE(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await CE(i,e,t,t==="getOobCode");return s(i,d)}else return s(i,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await CE(i,e,t,t==="getOobCode");return s(i,f)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(i,e){const t=Fg(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(qa(u,e??{}))return o;ui(o,"already-initialized")}return t.initialize({options:e})}function YI(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Er);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function XI(i,e,t){const s=Qa(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=tw(e),{host:d,port:f}=WI(e),p=f===null?"":`:${f}`,g={url:`${u}//${d}${p}/`},b=Object.freeze({host:d,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(qa(g,s.config.emulator)&&qa(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,ZI()}function tw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function WI(i){const e=tw(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:NE(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:NE(d)}}}function NE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function ZI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,t){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}async function JI(i,e){return Ks(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(i,e){return Sc(i,"POST","/v1/accounts:signInWithPassword",Qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(i,e){return Sc(i,"POST","/v1/accounts:signInWithEmailLink",Qs(i,e))}async function nN(i,e){return Sc(i,"POST","/v1/accounts:signInWithEmailLink",Qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Yg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new rc(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new rc(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return IE(e,t,"signInWithPassword",eN);case"emailLink":return tN(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return IE(e,s,"signUpPassword",JI);case"emailLink":return nN(e,{idToken:t,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(i,e){return Sc(i,"POST","/v1/accounts:signInWithIdp",Qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="http://localhost";class Fa extends Yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ui("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Hg(t,["providerId","signInMethod"]);if(!s||!o)return null;const d=new Fa(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Yo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Yo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}buildRequest(){const e={requestUri:iN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sN(i){const e=Bu(Fu(i)).link,t=e?Bu(Fu(e)).deep_link_id:null,s=Bu(Fu(i)).deep_link_id;return(s?Bu(Fu(s)).link:null)||s||t||e||i}class Xg{constructor(e){var t,s,o,u,d,f;const p=Bu(Fu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,b=(s=p.oobCode)!==null&&s!==void 0?s:null,T=rN((o=p.mode)!==null&&o!==void 0?o:null);Te(g&&b&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=b,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=sN(e);try{return new Xg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.providerId=Sl.PROVIDER_ID}static credential(e,t){return rc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Xg.parseLink(t);return Te(s,"argument-error"),rc._fromEmailAndCode(e,s.code,s.tenantId)}}Sl.PROVIDER_ID="password";Sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends nw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Ac{constructor(){super("facebook.com")}static credential(e){return Fa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fa._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return bs.credential(t,s)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Ac{constructor(){super("github.com")}static credential(e){return Fa._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Ac{constructor(){super("twitter.com")}static credential(e,t){return Fa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ws.credential(t,s)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(i,e){return Sc(i,"POST","/v1/accounts:signUp",Qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await _r._fromIdTokenResponse(e,s,o),d=DE(s);return new Us({user:u,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=DE(s);return new Us({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function DE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(i){var e;if(Wn(i.app))return Promise.reject(wr(i));const t=Qa(i);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Us({user:t.currentUser,providerId:null,operationType:"signIn"});const s=await aN(t,{returnSecureToken:!0}),o=await Us._fromIdTokenResponse(t,"signIn",s,!0);return await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends Or{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Md.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Md(e,t,s,o)}}function iw(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Md._fromErrorAndOperation(i,u,e,s):u})}async function lN(i,e,t=!1){const s=await ic(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Us._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(i,e,t=!1){const{auth:s}=i;if(Wn(s.app))return Promise.reject(wr(s));const o="reauthenticate";try{const u=await ic(i,iw(s,o,e,i),t);Te(u.idToken,s,"internal-error");const d=Kg(u.idToken);Te(d,s,"internal-error");const{sub:f}=d;return Te(i.uid===f,s,"user-mismatch"),Us._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ui(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(i,e,t=!1){if(Wn(i.app))return Promise.reject(wr(i));const s="signIn",o=await iw(i,s,e),u=await Us._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function cN(i,e){return rw(Qa(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(i){const e=Qa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function dN(i,e,t){return Wn(i.app)?Promise.reject(wr(i)):cN(kt(i),Sl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&hN(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(i,e){return kt(i).setPersistence(e)}function mN(i,e,t,s){return kt(i).onIdTokenChanged(e,t,s)}function pN(i,e,t){return kt(i).beforeAuthStateChanged(e,t)}function gN(i,e,t,s){return kt(i).onAuthStateChanged(e,t,s)}function yN(i){return kt(i).signOut()}const Pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pd,"1"),this.storage.removeItem(Pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=1e3,_N=10;class aw extends sw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,f,p)=>{this.notifyListeners(d,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);PI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_N):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},vN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}aw.type="LOCAL";const EN=aw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow extends sw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ow.type="SESSION";const Wg=ow;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Wd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(d).map(async g=>g(t.origin,u)),p=await bN(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((f,p)=>{const g=Zg("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(T){const x=T;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),f(x.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function wN(i){ki().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function SN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AN(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function xN(){return lw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="firebaseLocalStorageDb",RN=1,Vd="firebaseLocalStorage",cw="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zd(i,e){return i.transaction([Vd],e?"readwrite":"readonly").objectStore(Vd)}function CN(){const i=indexedDB.deleteDatabase(uw);return new xc(i).toPromise()}function ug(){const i=indexedDB.open(uw,RN);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Vd,{keyPath:cw})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Vd)?e(s):(s.close(),await CN(),e(await ug()))})})}async function OE(i,e,t){const s=Zd(i,!0).put({[cw]:e,value:t});return new xc(s).toPromise()}async function IN(i,e){const t=Zd(i,!1).get(e),s=await new xc(t).toPromise();return s===void 0?null:s.value}function ME(i,e){const t=Zd(i,!0).delete(e);return new xc(t).toPromise()}const NN=800,DN=3;class hw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ug(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>DN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wd._getInstance(xN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await SN(),!this.activeServiceWorker)return;this.sender=new TN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ug();return await OE(e,Pd,"1"),await ME(e,Pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>OE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>IN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ME(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Zd(o,!1).getAll();return new xc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hw.type="LOCAL";const ON=hw;new wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(i,e){return e?Er(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends Yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function PN(i){return rw(i.auth,new Jg(i),i.bypassAuthState)}function VN(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),uN(t,new Jg(i),i.bypassAuthState)}async function kN(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),lN(t,new Jg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:d,type:f}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PN;case"linkViaPopup":case"linkViaRedirect":return kN;case"reauthViaPopup":case"reauthViaRedirect":return VN;default:ui(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new wc(2e3,1e4);class Go extends dw{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=Zg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jN.get())};e()}}Go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="pendingRedirect",gd=new Map;class UN extends dw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=gd.get(this.auth._key());if(!e){try{const s=await zN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}gd.set(this.auth._key(),e)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zN(i,e){const t=FN(e),s=BN(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function qN(i,e){gd.set(i._key(),e)}function BN(i){return Er(i._redirectPersistence)}function FN(i){return pd(LN,i.config.apiKey,i.name)}async function HN(i,e,t=!1){if(Wn(i.app))return Promise.reject(wr(i));const s=Qa(i),o=MN(s,e),d=await new UN(s,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=10*60*1e3;class QN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!fw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Vi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GN&&this.cachedEventUids.clear(),this.cachedEventUids.has(PE(e))}saveEventToCache(e){this.cachedEventUids.add(PE(e)),this.lastProcessedEventTime=Date.now()}}function PE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function fw({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(i,e={}){return Ks(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XN=/^https?/;async function WN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await $N(i);for(const t of e)try{if(ZN(t))return}catch{}ui(i,"unauthorized-domain")}function ZN(i){const e=og(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!XN.test(t))return!1;if(YN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new wc(3e4,6e4);function VE(){const i=ki().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function eD(i){return new Promise((e,t)=>{var s,o,u;function d(){VE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VE(),t(Vi(i,"network-request-failed"))},timeout:JN.get()})}if(!((o=(s=ki().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ki().gapi)===null||u===void 0)&&u.load)d();else{const f=FI("iframefcb");return ki()[f]=()=>{gapi.load?d():t(Vi(i,"network-request-failed"))},JT(`${BI()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw yd=null,e})}let yd=null;function tD(i){return yd=yd||eD(i),yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new wc(5e3,15e3),iD="__/auth/iframe",rD="emulator/auth/iframe",sD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oD(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Qg(e,rD):`https://${i.config.authDomain}/${iD}`,s={apiKey:e.apiKey,appName:i.name,v:wl},o=aD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Tc(s).slice(1)}`}async function lD(i){const e=await tD(i),t=ki().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:oD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=Vi(i,"network-request-failed"),f=ki().setTimeout(()=>{u(d)},nD.get());function p(){ki().clearTimeout(f),o(s)}s.ping(p).then(p,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cD=500,hD=600,dD="_blank",fD="http://localhost";class kE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mD(i,e,t,s=cD,o=hD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p=Object.assign(Object.assign({},uD),{width:s.toString(),height:o.toString(),top:u,left:d}),g=on().toLowerCase();t&&(f=QT(g)?dD:t),HT(g)&&(e=e||fD,p.scrollbars="yes");const b=Object.entries(p).reduce((x,[N,M])=>`${x}${N}=${M},`,"");if(MI(g)&&f!=="_self")return pD(e||"",f),new kE(null);const T=window.open(e||"",f,b);Te(T,i,"popup-blocked");try{T.focus()}catch{}return new kE(T)}function pD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="__/auth/handler",yD="emulator/auth/handler",vD=encodeURIComponent("fac");async function jE(i,e,t,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:wl,eventId:o};if(e instanceof nw){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",n1(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))d[b]=T}if(e instanceof Ac){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(d.scopes=b.join(","))}i.tenantId&&(d.tid=i.tenantId);const f=d;for(const b of Object.keys(f))f[b]===void 0&&delete f[b];const p=await i._getAppCheckToken(),g=p?`#${vD}=${encodeURIComponent(p)}`:"";return`${_D(i)}?${Tc(f).slice(1)}${g}`}function _D({config:i}){return i.emulator?Qg(i,yD):`https://${i.authDomain}/${gD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="webStorageSupport";class ED{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wg,this._completeRedirectFn=HN,this._overrideRedirectResult=qN}async _openPopup(e,t,s,o){var u;Cr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await jE(e,t,s,og(),o);return mD(e,d,Zg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await jE(e,t,s,og(),o);return wN(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Cr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await lD(e),s=new QN(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Mp,{type:Mp},o=>{var u;const d=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Mp];d!==void 0&&t(!!d),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return WT()||GT()||$g()}}const bD=ED;var LE="@firebase/auth",UE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SD(i){cl(new Ba("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=s.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:f,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZT(i)},g=new UI(s,o,u,p);return YI(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),cl(new Ba("auth-internal",e=>{const t=Qa(e.getProvider("auth").getImmediate());return(s=>new TD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(LE,UE,wD(i)),ks(LE,UE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=5*60,xD=CT("authIdTokenMaxAge")||AD;let zE=null;const RD=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>xD)return;const o=t==null?void 0:t.token;zE!==o&&(zE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function CD(i=OT()){const e=Fg(i,"auth");if(e.isInitialized())return e.getImmediate();const t=$I(i,{popupRedirectResolver:bD,persistence:[ON,EN,Wg]}),s=CT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=RD(u.toString());pN(t,d,()=>d(t.currentUser)),mN(t,f=>d(f))}}const o=xT("auth");return o&&XI(t,`http://${o}`),t}function ID(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}zI({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Vi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",ID().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SD("Browser");var qE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,mw;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,R){function A(){}A.prototype=R.prototype,V.D=R.prototype,V.prototype=new A,V.prototype.constructor=V,V.C=function(I,j,q){for(var D=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)D[xt-2]=arguments[xt];return R.prototype[j].apply(I,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,A){A||(A=0);var I=Array(16);if(typeof R=="string")for(var j=0;16>j;++j)I[j]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(j=0;16>j;++j)I[j]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=V.g[0],A=V.g[1],j=V.g[2];var q=V.g[3],D=R+(q^A&(j^q))+I[0]+3614090360&4294967295;R=A+(D<<7&4294967295|D>>>25),D=q+(j^R&(A^j))+I[1]+3905402710&4294967295,q=R+(D<<12&4294967295|D>>>20),D=j+(A^q&(R^A))+I[2]+606105819&4294967295,j=q+(D<<17&4294967295|D>>>15),D=A+(R^j&(q^R))+I[3]+3250441966&4294967295,A=j+(D<<22&4294967295|D>>>10),D=R+(q^A&(j^q))+I[4]+4118548399&4294967295,R=A+(D<<7&4294967295|D>>>25),D=q+(j^R&(A^j))+I[5]+1200080426&4294967295,q=R+(D<<12&4294967295|D>>>20),D=j+(A^q&(R^A))+I[6]+2821735955&4294967295,j=q+(D<<17&4294967295|D>>>15),D=A+(R^j&(q^R))+I[7]+4249261313&4294967295,A=j+(D<<22&4294967295|D>>>10),D=R+(q^A&(j^q))+I[8]+1770035416&4294967295,R=A+(D<<7&4294967295|D>>>25),D=q+(j^R&(A^j))+I[9]+2336552879&4294967295,q=R+(D<<12&4294967295|D>>>20),D=j+(A^q&(R^A))+I[10]+4294925233&4294967295,j=q+(D<<17&4294967295|D>>>15),D=A+(R^j&(q^R))+I[11]+2304563134&4294967295,A=j+(D<<22&4294967295|D>>>10),D=R+(q^A&(j^q))+I[12]+1804603682&4294967295,R=A+(D<<7&4294967295|D>>>25),D=q+(j^R&(A^j))+I[13]+4254626195&4294967295,q=R+(D<<12&4294967295|D>>>20),D=j+(A^q&(R^A))+I[14]+2792965006&4294967295,j=q+(D<<17&4294967295|D>>>15),D=A+(R^j&(q^R))+I[15]+1236535329&4294967295,A=j+(D<<22&4294967295|D>>>10),D=R+(j^q&(A^j))+I[1]+4129170786&4294967295,R=A+(D<<5&4294967295|D>>>27),D=q+(A^j&(R^A))+I[6]+3225465664&4294967295,q=R+(D<<9&4294967295|D>>>23),D=j+(R^A&(q^R))+I[11]+643717713&4294967295,j=q+(D<<14&4294967295|D>>>18),D=A+(q^R&(j^q))+I[0]+3921069994&4294967295,A=j+(D<<20&4294967295|D>>>12),D=R+(j^q&(A^j))+I[5]+3593408605&4294967295,R=A+(D<<5&4294967295|D>>>27),D=q+(A^j&(R^A))+I[10]+38016083&4294967295,q=R+(D<<9&4294967295|D>>>23),D=j+(R^A&(q^R))+I[15]+3634488961&4294967295,j=q+(D<<14&4294967295|D>>>18),D=A+(q^R&(j^q))+I[4]+3889429448&4294967295,A=j+(D<<20&4294967295|D>>>12),D=R+(j^q&(A^j))+I[9]+568446438&4294967295,R=A+(D<<5&4294967295|D>>>27),D=q+(A^j&(R^A))+I[14]+3275163606&4294967295,q=R+(D<<9&4294967295|D>>>23),D=j+(R^A&(q^R))+I[3]+4107603335&4294967295,j=q+(D<<14&4294967295|D>>>18),D=A+(q^R&(j^q))+I[8]+1163531501&4294967295,A=j+(D<<20&4294967295|D>>>12),D=R+(j^q&(A^j))+I[13]+2850285829&4294967295,R=A+(D<<5&4294967295|D>>>27),D=q+(A^j&(R^A))+I[2]+4243563512&4294967295,q=R+(D<<9&4294967295|D>>>23),D=j+(R^A&(q^R))+I[7]+1735328473&4294967295,j=q+(D<<14&4294967295|D>>>18),D=A+(q^R&(j^q))+I[12]+2368359562&4294967295,A=j+(D<<20&4294967295|D>>>12),D=R+(A^j^q)+I[5]+4294588738&4294967295,R=A+(D<<4&4294967295|D>>>28),D=q+(R^A^j)+I[8]+2272392833&4294967295,q=R+(D<<11&4294967295|D>>>21),D=j+(q^R^A)+I[11]+1839030562&4294967295,j=q+(D<<16&4294967295|D>>>16),D=A+(j^q^R)+I[14]+4259657740&4294967295,A=j+(D<<23&4294967295|D>>>9),D=R+(A^j^q)+I[1]+2763975236&4294967295,R=A+(D<<4&4294967295|D>>>28),D=q+(R^A^j)+I[4]+1272893353&4294967295,q=R+(D<<11&4294967295|D>>>21),D=j+(q^R^A)+I[7]+4139469664&4294967295,j=q+(D<<16&4294967295|D>>>16),D=A+(j^q^R)+I[10]+3200236656&4294967295,A=j+(D<<23&4294967295|D>>>9),D=R+(A^j^q)+I[13]+681279174&4294967295,R=A+(D<<4&4294967295|D>>>28),D=q+(R^A^j)+I[0]+3936430074&4294967295,q=R+(D<<11&4294967295|D>>>21),D=j+(q^R^A)+I[3]+3572445317&4294967295,j=q+(D<<16&4294967295|D>>>16),D=A+(j^q^R)+I[6]+76029189&4294967295,A=j+(D<<23&4294967295|D>>>9),D=R+(A^j^q)+I[9]+3654602809&4294967295,R=A+(D<<4&4294967295|D>>>28),D=q+(R^A^j)+I[12]+3873151461&4294967295,q=R+(D<<11&4294967295|D>>>21),D=j+(q^R^A)+I[15]+530742520&4294967295,j=q+(D<<16&4294967295|D>>>16),D=A+(j^q^R)+I[2]+3299628645&4294967295,A=j+(D<<23&4294967295|D>>>9),D=R+(j^(A|~q))+I[0]+4096336452&4294967295,R=A+(D<<6&4294967295|D>>>26),D=q+(A^(R|~j))+I[7]+1126891415&4294967295,q=R+(D<<10&4294967295|D>>>22),D=j+(R^(q|~A))+I[14]+2878612391&4294967295,j=q+(D<<15&4294967295|D>>>17),D=A+(q^(j|~R))+I[5]+4237533241&4294967295,A=j+(D<<21&4294967295|D>>>11),D=R+(j^(A|~q))+I[12]+1700485571&4294967295,R=A+(D<<6&4294967295|D>>>26),D=q+(A^(R|~j))+I[3]+2399980690&4294967295,q=R+(D<<10&4294967295|D>>>22),D=j+(R^(q|~A))+I[10]+4293915773&4294967295,j=q+(D<<15&4294967295|D>>>17),D=A+(q^(j|~R))+I[1]+2240044497&4294967295,A=j+(D<<21&4294967295|D>>>11),D=R+(j^(A|~q))+I[8]+1873313359&4294967295,R=A+(D<<6&4294967295|D>>>26),D=q+(A^(R|~j))+I[15]+4264355552&4294967295,q=R+(D<<10&4294967295|D>>>22),D=j+(R^(q|~A))+I[6]+2734768916&4294967295,j=q+(D<<15&4294967295|D>>>17),D=A+(q^(j|~R))+I[13]+1309151649&4294967295,A=j+(D<<21&4294967295|D>>>11),D=R+(j^(A|~q))+I[4]+4149444226&4294967295,R=A+(D<<6&4294967295|D>>>26),D=q+(A^(R|~j))+I[11]+3174756917&4294967295,q=R+(D<<10&4294967295|D>>>22),D=j+(R^(q|~A))+I[2]+718787259&4294967295,j=q+(D<<15&4294967295|D>>>17),D=A+(q^(j|~R))+I[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+j&4294967295,V.g[3]=V.g[3]+q&4294967295}s.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var A=R-this.blockSize,I=this.B,j=this.h,q=0;q<R;){if(j==0)for(;q<=A;)o(this,V,q),q+=this.blockSize;if(typeof V=="string"){for(;q<R;)if(I[j++]=V.charCodeAt(q++),j==this.blockSize){o(this,I),j=0;break}}else for(;q<R;)if(I[j++]=V[q++],j==this.blockSize){o(this,I),j=0;break}}this.h=j,this.o+=R},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var A=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=A&255,A/=256;for(this.u(V),V=Array(16),R=A=0;4>R;++R)for(var I=0;32>I;I+=8)V[A++]=this.g[R]>>>I&255;return V};function u(V,R){var A=f;return Object.prototype.hasOwnProperty.call(A,V)?A[V]:A[V]=R(V)}function d(V,R){this.h=R;for(var A=[],I=!0,j=V.length-1;0<=j;j--){var q=V[j]|0;I&&q==R||(A[j]=q,I=!1)}this.g=A}var f={};function p(V){return-128<=V&&128>V?u(V,function(R){return new d([R|0],0>R?-1:0)}):new d([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return O(g(-V));for(var R=[],A=1,I=0;V>=A;I++)R[I]=V/A|0,A*=4294967296;return new d(R,0)}function b(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return O(b(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(R,8)),I=T,j=0;j<V.length;j+=8){var q=Math.min(8,V.length-j),D=parseInt(V.substring(j,j+q),R);8>q?(q=g(Math.pow(R,q)),I=I.j(q).add(g(D))):(I=I.j(A),I=I.add(g(D)))}return I}var T=p(0),x=p(1),N=p(16777216);i=d.prototype,i.m=function(){if(F(this))return-O(this).m();for(var V=0,R=1,A=0;A<this.g.length;A++){var I=this.i(A);V+=(0<=I?I:4294967296+I)*R,R*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(M(this))return"0";if(F(this))return"-"+O(this).toString(V);for(var R=g(Math.pow(V,6)),A=this,I="";;){var j=oe(A,R).g;A=G(A,j.j(R));var q=((0<A.g.length?A.g[0]:A.h)>>>0).toString(V);if(A=j,M(A))return q+I;for(;6>q.length;)q="0"+q;I=q+I}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function M(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function F(V){return V.h==-1}i.l=function(V){return V=G(this,V),F(V)?-1:M(V)?0:1};function O(V){for(var R=V.g.length,A=[],I=0;I<R;I++)A[I]=~V.g[I];return new d(A,~V.h).add(x)}i.abs=function(){return F(this)?O(this):this},i.add=function(V){for(var R=Math.max(this.g.length,V.g.length),A=[],I=0,j=0;j<=R;j++){var q=I+(this.i(j)&65535)+(V.i(j)&65535),D=(q>>>16)+(this.i(j)>>>16)+(V.i(j)>>>16);I=D>>>16,q&=65535,D&=65535,A[j]=D<<16|q}return new d(A,A[A.length-1]&-2147483648?-1:0)};function G(V,R){return V.add(O(R))}i.j=function(V){if(M(this)||M(V))return T;if(F(this))return F(V)?O(this).j(O(V)):O(O(this).j(V));if(F(V))return O(this.j(O(V)));if(0>this.l(N)&&0>V.l(N))return g(this.m()*V.m());for(var R=this.g.length+V.g.length,A=[],I=0;I<2*R;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(var j=0;j<V.g.length;j++){var q=this.i(I)>>>16,D=this.i(I)&65535,xt=V.i(j)>>>16,_t=V.i(j)&65535;A[2*I+2*j]+=D*_t,Y(A,2*I+2*j),A[2*I+2*j+1]+=q*_t,Y(A,2*I+2*j+1),A[2*I+2*j+1]+=D*xt,Y(A,2*I+2*j+1),A[2*I+2*j+2]+=q*xt,Y(A,2*I+2*j+2)}for(I=0;I<R;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=R;I<2*R;I++)A[I]=0;return new d(A,0)};function Y(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function X(V,R){this.g=V,this.h=R}function oe(V,R){if(M(R))throw Error("division by zero");if(M(V))return new X(T,T);if(F(V))return R=oe(O(V),R),new X(O(R.g),O(R.h));if(F(R))return R=oe(V,O(R)),new X(O(R.g),R.h);if(30<V.g.length){if(F(V)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var A=x,I=R;0>=I.l(V);)A=se(A),I=se(I);var j=ye(A,1),q=ye(I,1);for(I=ye(I,2),A=ye(A,2);!M(I);){var D=q.add(I);0>=D.l(V)&&(j=j.add(A),q=D),I=ye(I,1),A=ye(A,1)}return R=G(V,j.j(R)),new X(j,R)}for(j=T;0<=V.l(R);){for(A=Math.max(1,Math.floor(V.m()/R.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),q=g(A),D=q.j(R);F(D)||0<D.l(V);)A-=I,q=g(A),D=q.j(R);M(q)&&(q=x),j=j.add(q),V=G(V,D)}return new X(j,V)}i.A=function(V){return oe(this,V).h},i.and=function(V){for(var R=Math.max(this.g.length,V.g.length),A=[],I=0;I<R;I++)A[I]=this.i(I)&V.i(I);return new d(A,this.h&V.h)},i.or=function(V){for(var R=Math.max(this.g.length,V.g.length),A=[],I=0;I<R;I++)A[I]=this.i(I)|V.i(I);return new d(A,this.h|V.h)},i.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),A=[],I=0;I<R;I++)A[I]=this.i(I)^V.i(I);return new d(A,this.h^V.h)};function se(V){for(var R=V.g.length+1,A=[],I=0;I<R;I++)A[I]=V.i(I)<<1|V.i(I-1)>>>31;return new d(A,V.h)}function ye(V,R){var A=R>>5;R%=32;for(var I=V.g.length-A,j=[],q=0;q<I;q++)j[q]=0<R?V.i(q+A)>>>R|V.i(q+A+1)<<32-R:V.i(q+A);return new d(j,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,mw=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=b,js=d}).apply(typeof qE<"u"?qE:typeof self<"u"?self:typeof window<"u"?window:{});var rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pw,Hu,gw,vd,cg,yw,vw,_w;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rd=="object"&&rd];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in _))break e;_=_[B]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,B={next:function(){if(!S&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},f=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function b(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function x(c,y,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:T,x.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,B,$){for(var re=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)re[ze-2]=arguments[ze];return y.prototype[B].apply(S,re)}}function F(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function O(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const B=c.length||0,$=S.length||0;c.length=B+$;for(let re=0;re<$;re++)c[B+re]=S[re]}else c.push(S)}}class G{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Y(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var se=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ye(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function V(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let _,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(_ in S)c[_]=S[_];for(let $=0;$<A.length;$++)_=A[$],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function j(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function q(c){f.setTimeout(()=>{throw c},0)}function D(){var c=$e;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class xt{constructor(){this.h=this.g=null}add(y,_){const S=_t.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var _t=new G(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let we,ve=!1,$e=new xt,k=()=>{const c=f.Promise.resolve(void 0);we=()=>{c.then(ie)}};var ie=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){q(_)}var y=_t;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ve=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,y),f.removeEventListener("test",_,y)}catch{}return c}();function Ne(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(se){e:{try{oe(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}M(Ne,ue);var Ce={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Et="closure_listenable_"+(1e6*Math.random()|0),He=0;function ct(c,y,_,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=B,this.key=++He,this.da=this.fa=!1}function Ze(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ln(c){this.src=c,this.g={},this.h=0}ln.prototype.add=function(c,y,_,S,B){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var re=On(c,y,S,B);return-1<re?(y=c[re],_||(y.fa=!1)):(y=new ct(y,this.src,$,!!S,B),y.fa=_,c.push(y)),y};function Bi(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],B=Array.prototype.indexOf.call(S,y,void 0),$;($=0<=B)&&Array.prototype.splice.call(S,B,1),$&&(Ze(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function On(c,y,_,S){for(var B=0;B<c.length;++B){var $=c[B];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==S)return B}return-1}var Mr="closure_lm_"+(1e6*Math.random()|0),Pr={};function Fi(c,y,_,S,B){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Fi(c,y[$],_,S,B);return null}return _=Mc(_),c&&c[Et]?c.K(y,_,g(S)?!!S.capture:!1,B):Dl(c,y,_,!1,S,B)}function Dl(c,y,_,S,B,$){if(!y)throw Error("Invalid event type");var re=g(B)?!!B.capture:!!B,ze=Ol(c);if(ze||(c[Mr]=ze=new ln(c)),_=ze.add(y,_,S,re,$),_.proxy)return _;if(S=Xa(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ce||(B=re),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(Za(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xa(){function c(_){return y.call(c.src,c.listener,_)}const y=_f;return c}function Wa(c,y,_,S,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)Wa(c,y[$],_,S,B);else S=g(S)?!!S.capture:!!S,_=Mc(_),c&&c[Et]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=On($,_,S,B),-1<_&&(Ze($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ol(c))&&(y=c.g[y.toString()],c=-1,y&&(c=On(y,_,S,B)),(_=-1<c?y[c]:null)&&Xs(_))}function Xs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Et])Bi(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(Za(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Ol(y))?(Bi(_,c),_.h==0&&(_.src=null,y[Mr]=null)):Ze(c)}}}function Za(c){return c in Pr?Pr[c]:Pr[c]="on"+c}function _f(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Xs(c),c=_.call(S,y)}return c}function Ol(c){return c=c[Mr],c instanceof ln?c:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mc(c){return typeof c=="function"?c:(c[gn]||(c[gn]=function(y){return c.handleEvent(y)}),c[gn])}function Rt(){pe.call(this),this.i=new ln(this),this.M=this,this.F=null}M(Rt,pe),Rt.prototype[Et]=!0,Rt.prototype.removeEventListener=function(c,y,_,S){Wa(this,c,y,_,S)};function jt(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var B=y;y=new ue(S,c),I(y,B)}if(B=!0,_)for(var $=_.length-1;0<=$;$--){var re=y.g=_[$];B=Hi(re,S,!0,y)&&B}if(re=y.g=c,B=Hi(re,S,!0,y)&&B,B=Hi(re,S,!1,y)&&B,_)for($=0;$<_.length;$++)re=y.g=_[$],B=Hi(re,S,!1,y)&&B}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)Ze(_[S]);delete c.g[y],c.h--}}this.F=null},Rt.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},Rt.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function Hi(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,$=0;$<y.length;++$){var re=y[$];if(re&&!re.da&&re.capture==_){var ze=re.listener,It=re.ha||re.src;re.fa&&Bi(c.i,re),B=ze.call(It,S)!==!1&&B}}return B&&!S.defaultPrevented}function Pc(c,y,_){if(typeof c=="function")_&&(c=x(c,_));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:f.setTimeout(c,y||0)}function Ml(c){c.g=Pc(()=>{c.g=null,c.i&&(c.i=!1,Ml(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ef extends pe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ml(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ws(c){pe.call(this),this.h=c,this.g={}}M(Ws,pe);var Vr=[];function Jt(c){ye(c.g,function(y,_){this.g.hasOwnProperty(_)&&Xs(y)},c),c.g={}}Ws.prototype.N=function(){Ws.aa.N.call(this),Jt(this)},Ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pl=f.JSON.stringify,fi=f.JSON.parse,un=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Vl(){}Vl.prototype.h=null;function Vc(c){return c.h||(c.h=c.i())}function kc(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kr(){ue.call(this,"d")}M(kr,ue);function Zn(){ue.call(this,"c")}M(Zn,ue);var Mn={},jr=null;function Ja(){return jr=jr||new Rt}Mn.La="serverreachability";function kl(c){ue.call(this,Mn.La,c)}M(kl,ue);function Lr(c){const y=Ja();jt(y,new kl(y))}Mn.STAT_EVENT="statevent";function eo(c,y){ue.call(this,Mn.STAT_EVENT,c),this.stat=y}M(eo,ue);function gt(c){const y=Ja();jt(y,new eo(y,c))}Mn.Ma="timingevent";function jc(c,y){ue.call(this,Mn.Ma,c),this.size=y}M(jc,ue);function Ur(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function zr(){this.g=!0}zr.prototype.xa=function(){this.g=!1};function Lc(c,y,_,S,B,$){c.info(function(){if(c.g)if($)for(var re="",ze=$.split("&"),It=0;It<ze.length;It++){var qe=ze[It].split("=");if(1<qe.length){var zt=qe[0];qe=qe[1];var Nt=zt.split("_");re=2<=Nt.length&&Nt[1]=="type"?re+(zt+"="+qe+"&"):re+(zt+"=redacted&")}}else re=null;else re=$;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+_+`
`+re})}function Uc(c,y,_,S,B,$,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+_+`
`+$+" "+re})}function qr(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Lt(c,_)+(S?" "+S:"")})}function pi(c,y){c.info(function(){return"TIMEOUT: "+y})}zr.prototype.info=function(){};function Lt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var $=B[0];if($!="noop"&&$!="stop"&&$!="close")for(var re=1;re<B.length;re++)B[re]=""}}}}return Pl(_)}catch{return y}}var Ct={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zs;function to(){}M(to,Vl),to.prototype.g=function(){return new XMLHttpRequest},to.prototype.i=function(){return{}},Zs=new to;function gi(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new Ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jl}function jl(){this.i=null,this.g="",this.h=!1}var Br={},Js={};function Jn(c,y,_){c.L=1,c.v=na(ht(y)),c.m=_,c.P=!0,Qi(c,null)}function Qi(c,y){c.F=Date.now(),at(c),c.A=ht(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Yi(_.i,"t",S),c.C=0,_=c.j.J,c.h=new jl,c.g=Jc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Ef(x(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Vr[0]=B.toString()),B=Vr);for(var $=0;$<B.length;$++){var re=Fi(_,B[$],S||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Lr(),Lc(c.i,c.u,c.A,c.l,c.R,c.m)}gi.prototype.ca=function(c){c=c.target;const y=this.M;y&&Ln(c)==3?y.j():this.Y(c)},gi.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=Ln(this.g);var y=this.g.Ba();const Ji=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Gc(this.g)))){this.J||Nt!=4||y==7||(y==8||0>=Ji?Lr(3):Lr(2)),no(this);var _=this.g.Z();this.X=_;t:if(Fr(this)){var S=Gc(this.g);c="";var B=S.length,$=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Sn(this);var re="";break t}this.h.i=new f.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!($&&y==B-1)});S.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,Uc(this.i,this.u,this.A,this.l,this.R,Nt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,It=this.g;if((ze=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(ze)){var qe=ze;break t}}qe=null}if(_=qe)qr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,An(this,_);else{this.o=!1,this.s=3,gt(12),yn(this),Sn(this);break e}}if(this.P){_=!0;let Qt;for(;!this.J&&this.C<re.length;)if(Qt=Hr(this,re),Qt==Js){Nt==4&&(this.s=4,gt(14),_=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Br){this.s=4,gt(15),qr(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else qr(this.i,this.l,Qt,null),An(this,Qt);if(Fr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||re.length!=0||this.h.h||(this.s=1,gt(16),_=!1),this.o=this.o&&_,!_)qr(this.i,this.l,re,"[Invalid Chunked Response]"),yn(this),Sn(this);else if(0<re.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),ua(zt),zt.M=!0,gt(11))}}else qr(this.i,this.l,re,null),An(this,re);Nt==4&&yn(this),this.o&&!this.J&&(Nt==4?Xc(this.j,this):(this.o=!1,at(this)))}else xf(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),yn(this),Sn(this)}}}catch{}finally{}};function Fr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Hr(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?Js:(_=Number(y.substring(_,S)),isNaN(_)?Br:(S+=1,S+_>y.length?Js:(y=y.slice(S,S+_),c.C=S+_,y)))}gi.prototype.cancel=function(){this.J=!0,yn(this)};function at(c){c.S=Date.now()+c.I,Ll(c,c.I)}function Ll(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ur(x(c.ba,c),y)}function no(c){c.B&&(f.clearTimeout(c.B),c.B=null)}gi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(pi(this.i,this.A),this.L!=2&&(Lr(),gt(17)),yn(this),this.s=2,Sn(this)):Ll(this,this.S-c)};function Sn(c){c.j.G==0||c.J||Xc(c.j,c)}function yn(c){no(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Jt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function An(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Gr(_.h,c))){if(!c.K&&Gr(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)fo(_),co(_);else break e;Yl(_),gt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ur(x(_.Za,_),6e3));if(1>=zc(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Zi(_,11)}else if((c.K||_.g==c)&&fo(_),!Y(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let qe=B[y];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const zt=qe[3];zt!=null&&(_.la=zt,_.j.info("VER="+_.la));const Nt=qe[4];Nt!=null&&(_.Aa=Nt,_.j.info("SVER="+_.Aa));const Ji=qe[5];Ji!=null&&typeof Ji=="number"&&0<Ji&&(S=1.5*Ji,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Qt=c.g;if(Qt){const wi=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var $=S.h;$.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Qr($,$.h),$.h=null))}if(S.D){const Wl=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Wl&&(S.ya=Wl,Ge(S.I,S.D,Wl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var re=c;if(S.qa=Zc(S,S.J?S.ia:null,S.W),re.K){Pn(S.h,re);var ze=re,It=S.L;It&&(ze.I=It),ze.B&&(no(ze),at(ze)),S.g=re}else $c(S);0<_.i.length&&ho(_)}else qe[0]!="stop"&&qe[0]!="close"||Zi(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Zi(_,7):Kl(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}Lr(4)}catch{}}var bf=class{constructor(c,y){this.g=c,this.map=y}};function Ul(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function zc(c){return c.h?1:c.g?c.g.size:0}function Gr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Qr(c,y){c.g?c.g.add(y):c.h=y}function Pn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ul.prototype.cancel=function(){if(this.i=cn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return F(c.i)}function qc(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function Tf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function ea(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Tf(c),S=qc(c),B=S.length,$=0;$<B;$++)y.call(void 0,S[$],_&&_[$],c)}var ql=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),B=null;if(0<=S){var $=c[_].substring(0,S);B=c[_].substring(S+1)}else $=c[_];y($,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ki(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ki){this.h=c.h,Kr(this,c.j),this.o=c.o,this.g=c.g,ta(this,c.s),this.l=c.l;var y=c.i,_=new yi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ro(this,_),this.m=c.m}else c&&(y=String(c).match(ql))?(this.h=!1,Kr(this,y[1]||"",!0),this.o=$r(y[2]||""),this.g=$r(y[3]||"",!0),ta(this,y[4]),this.l=$r(y[5]||"",!0),ro(this,y[6]||"",!0),this.m=$r(y[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}Ki.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Vn(y,Bl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Vn(y,Bl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Vn(_,_.charAt(0)=="/"?Fl:Bc,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Vn(_,Af)),c.join("")};function ht(c){return new Ki(c)}function Kr(c,y,_){c.j=_?$r(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ta(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ro(c,y,_){y instanceof yi?(c.i=y,Hl(c.i,c.h)):(_||(y=Vn(y,Sf)),c.i=new yi(y,c.h))}function Ge(c,y,_){c.i.set(y,_)}function na(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function $r(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,wf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Bl=/[#\/\?@]/g,Bc=/[#\?:]/g,Fl=/[#\?]/g,Sf=/[#\?@]/g,Af=/#/g;function yi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&io(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=yi.prototype,i.add=function(c,y){kn(this),this.i=null,c=Xi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function so(c,y){kn(c),y=Xi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function $i(c,y){return kn(c),y=Xi(c,y),c.g.has(y)}i.forEach=function(c,y){kn(this),this.g.forEach(function(_,S){_.forEach(function(B){c.call(y,B,S,this)},this)},this)},i.na=function(){kn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const B=c[S];for(let $=0;$<B.length;$++)_.push(y[S])}return _},i.V=function(c){kn(this);let y=[];if(typeof c=="string")$i(this,c)&&(y=y.concat(this.g.get(Xi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return kn(this),this.i=null,c=Xi(this,c),$i(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Yi(c,y,_){so(c,y),0<_.length&&(c.i=null,c.g.set(Xi(c,y),F(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const $=encodeURIComponent(String(S)),re=this.V(S);for(S=0;S<re.length;S++){var B=$;re[S]!==""&&(B+="="+encodeURIComponent(String(re[S]))),c.push(B)}}return this.i=c.join("&")};function Xi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Hl(c,y){y&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(_,S){var B=S.toLowerCase();S!=B&&(so(this,S),Yi(this,B,_))},c)),c.j=y}function Fc(c,y){const _=new zr;if(f.Image){const S=new Image;S.onload=N(jn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=N(jn,_,"TestLoadImage: error",!1,y,S),S.onabort=N(jn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=N(jn,_,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function ia(c,y){const _=new zr,S=new AbortController,B=setTimeout(()=>{S.abort(),jn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(B),$.ok?jn(_,"TestPingServer: ok",!0,y):jn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),jn(_,"TestPingServer: error",!1,y)})}function jn(c,y,_,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(_)}catch{}}function ra(){this.g=new un}function vi(c,y,_){const S=_||"";try{ea(c,function(B,$){let re=B;g(B)&&(re=Pl(B)),y.push(S+$+"="+encodeURIComponent(re))})}catch(B){throw y.push(S+"type="+encodeURIComponent("_badmap")),B}}function Yr(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Yr,Vl),Yr.prototype.g=function(){return new Wi(this.l,this.j)},Yr.prototype.i=function(c){return function(){return c}}({});function Wi(c,y){Rt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Wi,Rt),i=Wi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ei(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||f).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?_i(this):Ei(this),this.readyState==3&&Gl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,_i(this))},i.Qa=function(c){this.g&&(this.response=c,_i(this))},i.ga=function(){this.g&&_i(this)};function _i(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ei(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ql(c){let y="";return ye(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Ut(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Ql(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ge(c,y,_))}function Ye(c){Rt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ye,Rt);var ao=/^https?$/i,sa=["POST","PUT"];i=Ye.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zs.g(),this.v=this.o?Vc(this.o):Vc(Zs),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Hc(this,$);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)_.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())_.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(sa,y,void 0))||S||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of _)this.g.setRequestHeader($,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aa(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Hc(this,$)}};function Hc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,oo(c),bi(c)}function oo(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,jt(this,"complete"),jt(this,"abort"),bi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),Ye.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?lo(this):this.bb())},i.bb=function(){lo(this)};function lo(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)Pc(c.Ea,0,c);else if(jt(c,"readystatechange"),Ln(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=re===0){var B=String(c.D).match(ql)[1]||null;!B&&f.self&&f.self.location&&(B=f.self.location.protocol.slice(0,-1)),S=!ao.test(B?B.toLowerCase():"")}_=S}if(_)jt(c,"complete"),jt(c,"success");else{c.m=6;try{var $=2<Ln(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",oo(c)}}finally{bi(c)}}}}function bi(c,y){if(c.g){aa(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||jt(c,"ready");try{_.onreadystatechange=S}catch{}}}function aa(c){c.I&&(f.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),fi(y)}};function Gc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xf(c){const y={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(Y(c[S]))continue;var _=j(c[S]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[B]||[];y[B]=$,$.push(_)}V(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oa(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function uo(c){this.Aa=0,this.i=[],this.j=new zr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oa("baseRetryDelayMs",5e3,c),this.cb=oa("retryDelaySeedMs",1e4,c),this.Wa=oa("forwardChannelMaxRetries",2,c),this.wa=oa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ul(c&&c.concurrentRequestLimit),this.Da=new ra,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=uo.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,S){gt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Zc(this,null,this.W),ho(this)};function Kl(c){if(Qc(c),c.G==3){var y=c.U++,_=ht(c.I);if(Ge(_,"SID",c.K),Ge(_,"RID",y),Ge(_,"TYPE","terminate"),la(c,_),y=new gi(c,c.j,y),y.L=2,y.v=na(ht(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=y.v,_=!0),_||(y.g=Jc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),at(y)}Wc(c)}function co(c){c.g&&(ua(c),c.g.cancel(),c.g=null)}function Qc(c){co(c),c.u&&(f.clearTimeout(c.u),c.u=null),fo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function ho(c){if(!zl(c.h)&&!c.s){c.s=!0;var y=c.Ga;we||k(),ve||(we(),ve=!0),$e.add(y,c),c.B=0}}function Rf(c,y){return zc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ur(x(c.Ga,c,y),Xl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new gi(this,this.j,c);let $=this.o;if(this.S&&($?($=R($),I($,this.S)):$=this.S),this.m!==null||this.O||(B.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Kc(this,B,y),_=ht(this.I),Ge(_,"RID",c),Ge(_,"CVER",22),this.D&&Ge(_,"X-HTTP-Session-Id",this.D),la(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(Ql($)))+"&"+y:this.m&&Ut(_,this.m,$)),Qr(this.h,B),this.Ua&&Ge(_,"TYPE","init"),this.P?(Ge(_,"$req",y),Ge(_,"SID","null"),B.T=!0,Jn(B,_,null)):Jn(B,_,y),this.G=2}}else this.G==3&&(c?$l(this,c):this.i.length==0||zl(this.h)||$l(this))};function $l(c,y){var _;y?_=y.l:_=c.U++;const S=ht(c.I);Ge(S,"SID",c.K),Ge(S,"RID",_),Ge(S,"AID",c.T),la(c,S),c.m&&c.o&&Ut(S,c.m,c.o),_=new gi(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Kc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Qr(c.h,_),Jn(_,S,y)}function la(c,y){c.H&&ye(c.H,function(_,S){Ge(y,S,_)}),c.l&&ea({},function(_,S){Ge(y,S,_)})}function Kc(c,y,_){_=Math.min(c.i.length,_);var S=c.l?x(c.l.Na,c.l,c):null;e:{var B=c.i;let $=-1;for(;;){const re=["count="+_];$==-1?0<_?($=B[0].g,re.push("ofs="+$)):$=0:re.push("ofs="+$);let ze=!0;for(let It=0;It<_;It++){let qe=B[It].g;const zt=B[It].map;if(qe-=$,0>qe)$=Math.max(0,B[It].g-100),ze=!1;else try{vi(zt,re,"req"+qe+"_")}catch{S&&S(zt)}}if(ze){S=re.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function $c(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;we||k(),ve||(we(),ve=!0),$e.add(y,c),c.v=0}}function Yl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ur(x(c.Fa,c),Xl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Yc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ur(x(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),co(this),Yc(this))};function ua(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function Yc(c){c.g=new gi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=ht(c.qa);Ge(y,"RID","rpc"),Ge(y,"SID",c.K),Ge(y,"AID",c.T),Ge(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(y,"TO",c.ja),Ge(y,"TYPE","xmlhttp"),la(c,y),c.m&&c.o&&Ut(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=na(ht(y)),_.m=null,_.P=!0,Qi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,co(this),Yl(this),gt(19))};function fo(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Xc(c,y){var _=null;if(c.g==y){fo(c),ua(c),c.g=null;var S=2}else if(Gr(c.h,y))_=y.D,Pn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;S=Ja(),jt(S,new jc(S,_)),ho(c)}else $c(c);else if(B=y.s,B==3||B==0&&0<y.X||!(S==1&&Rf(c,y)||S==2&&Yl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Zi(c,5);break;case 4:Zi(c,10);break;case 3:Zi(c,6);break;default:Zi(c,2)}}}function Xl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Zi(c,y){if(c.j.info("Error code "+y),y==2){var _=x(c.fb,c),S=c.Xa;const B=!S;S=new Ki(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Kr(S,"https"),na(S),B?Fc(S.toString(),_):ia(S.toString(),_)}else gt(2);c.G=0,c.l&&c.l.sa(y),Wc(c),Qc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Wc(c){if(c.G=0,c.ka=[],c.l){const y=cn(c.h);(y.length!=0||c.i.length!=0)&&(O(c.ka,y),O(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function Zc(c,y,_){var S=_ instanceof Ki?ht(_):new Ki(_);if(S.g!="")y&&(S.g=y+"."+S.g),ta(S,S.s);else{var B=f.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var $=new Ki(null);S&&Kr($,S),y&&($.g=y),B&&ta($,B),_&&($.l=_),S=$}return _=c.D,y=c.ya,_&&y&&Ge(S,_,y),Ge(S,"VER",c.la),la(c,S),S}function Jc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ye(new Yr({eb:_})):new Ye(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function eh(){}i=eh.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function mo(){}mo.prototype.g=function(c,y){return new hn(c,y)};function hn(c,y){Rt.call(this),this.g=new uo(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Y(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Y(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ti(this)}M(hn,Rt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Kl(this.g)},hn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Pl(c),c=_);y.i.push(new bf(y.Ya++,c)),y.G==3&&ho(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,hn.aa.N.call(this)};function th(c){kr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(th,kr);function nh(){Zn.call(this),this.status=1}M(nh,Zn);function Ti(c){this.g=c}M(Ti,eh),Ti.prototype.ua=function(){jt(this.g,"a")},Ti.prototype.ta=function(c){jt(this.g,new th(c))},Ti.prototype.sa=function(c){jt(this.g,new nh)},Ti.prototype.ra=function(){jt(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,_w=function(){return new mo},vw=function(){return Ja()},yw=Mn,cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ct.NO_ERROR=0,Ct.TIMEOUT=8,Ct.HTTP_ERROR=6,vd=Ct,Gi.COMPLETE="complete",gw=Gi,kc.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,Hu=kc,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,pw=Ye}).apply(typeof rd<"u"?rd:typeof self<"u"?self:typeof window<"u"?window:{});const BE="@firebase/firestore",FE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new qg("@firebase/firestore");function qo(){return Ha.logLevel}function he(i,...e){if(Ha.logLevel<=Ve.DEBUG){const t=e.map(ey);Ha.debug(`Firestore (${Al}): ${i}`,...t)}}function Ir(i,...e){if(Ha.logLevel<=Ve.ERROR){const t=e.map(ey);Ha.error(`Firestore (${Al}): ${i}`,...t)}}function hl(i,...e){if(Ha.logLevel<=Ve.WARN){const t=e.map(ey);Ha.warn(`Firestore (${Al}): ${i}`,...t)}}function ey(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i="Unexpected state"){const e=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: `+i;throw Ir(e),new Error(e)}function We(i,e){i||Se()}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Or{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ND{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sn.UNAUTHENTICATED))}shutdown(){}}class DD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class OD{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Sr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Sr)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string"),new Ew(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new sn(e)}}class MD{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class PD{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new MD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Wn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){We(this.o===void 0);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new HE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string"),this.R=t.token,new HE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=kD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ue(i,e){return i<e?-1:i>e?1:0}function dl(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=-62135596800,QE=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*QE);return new Pt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<GE)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-GE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Pt(0,0))}static max(){return new Ae(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="__name__";class Ni{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(),s===void 0?s=e.length-t:s>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Ni.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Ni.isNumericId(e),o=Ni.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return js.fromString(e.substring(4,e.length-2))}}class rt extends Ni{construct(e,t,s){return new rt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const jD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ni{construct(e,t,s){return new Wt(e,t,s)}static isValidIdentifier(e){return jD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KE}static keyField(){return new Wt([KE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else f==="`"?(d=!d,o++):f!=="."||d?(s+=f,o++):(u(),o++)}if(u(),d)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(rt.fromString(e))}static fromName(e){return new _e(rt.fromString(e).popFirst(5))}static empty(){return new _e(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=-1;function LD(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Pt(t+1,0):new Pt(t,s));return new zs(o,_e.empty(),e)}function UD(i){return new zs(i.readTime,i.key,sc)}class zs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new zs(Ae.min(),_e.empty(),sc)}static max(){return new zs(Ae.max(),_e.empty(),sc)}}function zD(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(i.documentKey,e.documentKey),t!==0?t:Ue(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==qD)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,d=!1;e.forEach(f=>{++o,f.next(()=>{++u,d&&u===o&&t()},p=>s(p))}),d=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,d=new Array(u);let f=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(b=>{d[g]=b,++f,f===u&&s(d)},b=>o(b))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function FD(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Rl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Jd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=-1;function ef(i){return i==null}function kd(i){return i===0&&1/i==-1/0}function HD(i){return typeof i=="number"&&Number.isInteger(i)&&!kd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="";function GD(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=$E(e)),e=QD(i.get(t),e);return $E(e)}function QD(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case Tw:t+="";break;default:t+=u}}return t}function $E(i){return i+Tw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function $s(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function ww(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sd(this.root,e,this.comparator,!1)}getReverseIterator(){return new sd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sd(this.root,e,this.comparator,!0)}}class sd{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Xt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(e){return new XE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class XE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new Vt(Wt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Sw("Invalid base64 string: "+u):u}}(e);return new Zt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const KD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(i){if(We(!!i),typeof i=="string"){let e=0;const t=KD.exec(i);if(We(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Bs(i){return typeof i=="string"?Zt.fromBase64String(i):Zt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="server_timestamp",xw="__type__",Rw="__previous_value__",Cw="__local_write_time__";function ny(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[xw])===null||t===void 0?void 0:t.stringValue)===Aw}function tf(i){const e=i.mapValue.fields[Rw];return ny(e)?tf(e):e}function ac(i){const e=qs(i.mapValue.fields[Cw].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,t,s,o,u,d,f,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g}}const jd="(default)";class oc{constructor(e,t){this.projectId=e,this.database=t||jd}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database===jd}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="__type__",YD="__max__",ad={mapValue:{}},Nw="__vector__",Ld="value";function Fs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ny(i)?4:WD(i)?9007199254740991:XD(i)?10:11:Se()}function zi(i,e){if(i===e)return!0;const t=Fs(i);if(t!==Fs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ac(i).isEqual(ac(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=qs(o.timestampValue),f=qs(u.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Bs(o.bytesValue).isEqual(Bs(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=vt(o.doubleValue),f=vt(u.doubleValue);return d===f?kd(d)===kd(f):isNaN(d)&&isNaN(f)}return!1}(i,e);case 9:return dl(i.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return function(o,u){const d=o.mapValue.fields||{},f=u.mapValue.fields||{};if(YE(d)!==YE(f))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(f[p]===void 0||!zi(d[p],f[p])))return!1;return!0}(i,e);default:return Se()}}function lc(i,e){return(i.values||[]).find(t=>zi(t,e))!==void 0}function fl(i,e){if(i===e)return 0;const t=Fs(i),s=Fs(e);if(t!==s)return Ue(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return function(u,d){const f=vt(u.integerValue||u.doubleValue),p=vt(d.integerValue||d.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(i,e);case 3:return WE(i.timestampValue,e.timestampValue);case 4:return WE(ac(i),ac(e));case 5:return Ue(i.stringValue,e.stringValue);case 6:return function(u,d){const f=Bs(u),p=Bs(d);return f.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const f=u.split("/"),p=d.split("/");for(let g=0;g<f.length&&g<p.length;g++){const b=Ue(f[g],p[g]);if(b!==0)return b}return Ue(f.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const f=Ue(vt(u.latitude),vt(d.latitude));return f!==0?f:Ue(vt(u.longitude),vt(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return ZE(i.arrayValue,e.arrayValue);case 10:return function(u,d){var f,p,g,b;const T=u.fields||{},x=d.fields||{},N=(f=T[Ld])===null||f===void 0?void 0:f.arrayValue,M=(p=x[Ld])===null||p===void 0?void 0:p.arrayValue,F=Ue(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((b=M==null?void 0:M.values)===null||b===void 0?void 0:b.length)||0);return F!==0?F:ZE(N,M)}(i.mapValue,e.mapValue);case 11:return function(u,d){if(u===ad.mapValue&&d===ad.mapValue)return 0;if(u===ad.mapValue)return 1;if(d===ad.mapValue)return-1;const f=u.fields||{},p=Object.keys(f),g=d.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let T=0;T<p.length&&T<b.length;++T){const x=Ue(p[T],b[T]);if(x!==0)return x;const N=fl(f[p[T]],g[b[T]]);if(N!==0)return N}return Ue(p.length,b.length)}(i.mapValue,e.mapValue);default:throw Se()}}function WE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const t=qs(i),s=qs(e),o=Ue(t.seconds,s.seconds);return o!==0?o:Ue(t.nanos,s.nanos)}function ZE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=fl(t[o],s[o]);if(u)return u}return Ue(t.length,s.length)}function ml(i){return hg(i)}function hg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=qs(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Bs(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return _e.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=hg(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const d of s)u?u=!1:o+=",",o+=`${d}:${hg(t.fields[d])}`;return o+"}"}(i.mapValue):Se()}function _d(i){switch(Fs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tf(i);return e?16+_d(e):16;case 5:return 2*i.stringValue.length;case 6:return Bs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+_d(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return $s(s.fields,(u,d)=>{o+=u.length+_d(d)}),o}(i.mapValue);default:throw Se()}}function JE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function dg(i){return!!i&&"integerValue"in i}function iy(i){return!!i&&"arrayValue"in i}function eb(i){return!!i&&"nullValue"in i}function tb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ed(i){return!!i&&"mapValue"in i}function XD(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Iw])===null||t===void 0?void 0:t.stringValue)===Nw}function Yu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return $s(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Yu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function WD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===YD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ed(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(t)}setAll(e){let t=Wt.emptyPath(),s={},o=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=f.popLast()}d?s[f.lastSegment()]=Yu(d):o.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Ed(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Ed(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){$s(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Tn(Yu(this.value))}}function Dw(i){const e=[];return $s(i.fields,(t,s)=>{const o=new Wt([t]);if(Ed(s)){const u=Dw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,s,o,u,d,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=f}static newInvalidDocument(e){return new an(e,0,Ae.min(),Ae.min(),Ae.min(),Tn.empty(),0)}static newFoundDocument(e,t,s,o){return new an(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new an(e,2,t,Ae.min(),Ae.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,Ae.min(),Ae.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,t){this.position=e,this.inclusive=t}}function nb(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],d=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(d.referenceValue),t.key):s=fl(d,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function ib(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!zi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{}class At extends Ow{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new eO(e,t,s):t==="array-contains"?new iO(e,s):t==="in"?new rO(e,s):t==="not-in"?new sO(e,s):t==="array-contains-any"?new aO(e,s):new At(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new tO(e,s):new nO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(fl(t,this.value)):t!==null&&Fs(this.value)===Fs(t)&&this.matchesComparison(fl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends Ow{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ci(e,t)}matches(e){return Mw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Mw(i){return i.op==="and"}function Pw(i){return JD(i)&&Mw(i)}function JD(i){for(const e of i.filters)if(e instanceof ci)return!1;return!0}function fg(i){if(i instanceof At)return i.field.canonicalString()+i.op.toString()+ml(i.value);if(Pw(i))return i.filters.map(e=>fg(e)).join(",");{const e=i.filters.map(t=>fg(t)).join(",");return`${i.op}(${e})`}}function Vw(i,e){return i instanceof At?function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&zi(s.value,o.value)}(i,e):i instanceof ci?function(s,o){return o instanceof ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,d,f)=>u&&Vw(d,o.filters[f]),!0):!1}(i,e):void Se()}function kw(i){return i instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${ml(t.value)}`}(i):i instanceof ci?function(t){return t.op.toString()+" {"+t.getFilters().map(kw).join(" ,")+"}"}(i):"Filter"}class eO extends At{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class tO extends At{constructor(e,t){super(e,"in",t),this.keys=jw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nO extends At{constructor(e,t){super(e,"not-in",t),this.keys=jw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jw(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class iO extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return iy(t)&&lc(t.arrayValue,this.value)}}class rO extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&lc(this.value.arrayValue,t)}}class sO extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!lc(this.value.arrayValue,t)}}class aO extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!iy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>lc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t=null,s=[],o=[],u=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=f,this.le=null}}function rb(i,e=null,t=[],s=[],o=null,u=null,d=null){return new oO(i,e,t,s,o,u,d)}function ry(i){const e=Re(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>fg(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),ef(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ml(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ml(s)).join(",")),e.le=t}return e.le}function sy(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!ZD(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Vw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ib(i.startAt,e.startAt)&&ib(i.endAt,e.endAt)}function mg(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,t=null,s=[],o=[],u=null,d="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function lO(i,e,t,s,o,u,d,f){return new Cl(i,e,t,s,o,u,d,f)}function ay(i){return new Cl(i)}function sb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Lw(i){return i.collectionGroup!==null}function Xu(i){const e=Re(i);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new Vt(Wt.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new uc(u,s))}),t.has(Wt.keyField().canonicalString())||e.he.push(new uc(Wt.keyField(),s))}return e.he}function ji(i){const e=Re(i);return e.Pe||(e.Pe=uO(e,Xu(i))),e.Pe}function uO(i,e){if(i.limitType==="F")return rb(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new uc(o.field,u)});const t=i.endAt?new Ud(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ud(i.startAt.position,i.startAt.inclusive):null;return rb(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function pg(i,e){const t=i.filters.concat([e]);return new Cl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function gg(i,e,t){return new Cl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function nf(i,e){return sy(ji(i),ji(e))&&i.limitType===e.limitType}function Uw(i){return`${ry(ji(i))}|lt:${i.limitType}`}function Bo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>kw(o)).join(", ")}]`),ef(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>ml(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>ml(o)).join(",")),`Target(${s})`}(ji(i))}; limitType=${i.limitType})`}function rf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Xu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(d,f,p){const g=nb(d,f,p);return d.inclusive?g<=0:g<0}(s.startAt,Xu(s),o)||s.endAt&&!function(d,f,p){const g=nb(d,f,p);return d.inclusive?g>=0:g>0}(s.endAt,Xu(s),o))}(i,e)}function cO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function zw(i){return(e,t)=>{let s=!1;for(const o of Xu(i)){const u=hO(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function hO(i,e,t){const s=i.field.isKeyField()?_e.comparator(e.key,t.key):function(u,d,f){const p=d.data.field(u),g=f.data.field(u);return p!==null&&g!==null?fl(p,g):Se()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return ww(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new ut(_e.comparator);function Nr(){return dO}const qw=new ut(_e.comparator);function Gu(...i){let e=qw;for(const t of i)e=e.insert(t.key,t);return e}function Bw(i){let e=qw;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ia(){return Wu()}function Fw(){return Wu()}function Wu(){return new Ka(i=>i.toString(),(i,e)=>i.isEqual(e))}const fO=new ut(_e.comparator),mO=new Vt(_e.comparator);function ke(...i){let e=mO;for(const t of i)e=e.add(t);return e}const pO=new Vt(Ue);function gO(){return pO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(e)?"-0":e}}function Hw(i){return{integerValue:""+i}}function yO(i,e){return HD(e)?Hw(e):oy(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this._=void 0}}function vO(i,e,t){return i instanceof cc?function(o,u){const d={fields:{[xw]:{stringValue:Aw},[Cw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ny(u)&&(u=tf(u)),u&&(d.fields[Rw]=u),{mapValue:d}}(t,e):i instanceof hc?Qw(i,e):i instanceof dc?Kw(i,e):function(o,u){const d=Gw(o,u),f=ab(d)+ab(o.Ie);return dg(d)&&dg(o.Ie)?Hw(f):oy(o.serializer,f)}(i,e)}function _O(i,e,t){return i instanceof hc?Qw(i,e):i instanceof dc?Kw(i,e):t}function Gw(i,e){return i instanceof zd?function(s){return dg(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class cc extends sf{}class hc extends sf{constructor(e){super(),this.elements=e}}function Qw(i,e){const t=$w(e);for(const s of i.elements)t.some(o=>zi(o,s))||t.push(s);return{arrayValue:{values:t}}}class dc extends sf{constructor(e){super(),this.elements=e}}function Kw(i,e){let t=$w(e);for(const s of i.elements)t=t.filter(o=>!zi(o,s));return{arrayValue:{values:t}}}class zd extends sf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ab(i){return vt(i.integerValue||i.doubleValue)}function $w(i){return iy(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t){this.field=e,this.transform=t}}function bO(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof hc&&o instanceof hc||s instanceof dc&&o instanceof dc?dl(s.elements,o.elements,zi):s instanceof zd&&o instanceof zd?zi(s.Ie,o.Ie):s instanceof cc&&o instanceof cc}(i.transform,e.transform)}class TO{constructor(e,t){this.version=e,this.transformResults=t}}class oi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class af{}function Yw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new ly(i.key,oi.none()):new Rc(i.key,i.data,oi.none());{const t=i.data,s=Tn.empty();let o=new Vt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);d===null&&u.length>1&&(u=u.popLast(),d=t.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new Ys(i.key,s,new Dn(o.toArray()),oi.none())}}function wO(i,e,t){i instanceof Rc?function(o,u,d){const f=o.value.clone(),p=lb(o.fieldTransforms,u,d.transformResults);f.setAll(p),u.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(i,e,t):i instanceof Ys?function(o,u,d){if(!bd(o.precondition,u))return void u.convertToUnknownDocument(d.version);const f=lb(o.fieldTransforms,u,d.transformResults),p=u.data;p.setAll(Xw(o)),p.setAll(f),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function Zu(i,e,t,s){return i instanceof Rc?function(u,d,f,p){if(!bd(u.precondition,d))return f;const g=u.value.clone(),b=ub(u.fieldTransforms,p,d);return g.setAll(b),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof Ys?function(u,d,f,p){if(!bd(u.precondition,d))return f;const g=ub(u.fieldTransforms,p,d),b=d.data;return b.setAll(Xw(u)),b.setAll(g),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,t,s):function(u,d,f){return bd(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f}(i,e,t)}function SO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Gw(s.transform,o||null);u!=null&&(t===null&&(t=Tn.empty()),t.set(s.field,u))}return t||null}function ob(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&dl(s,o,(u,d)=>bO(u,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Rc extends af{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ys extends af{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Xw(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function lb(i,e,t){const s=new Map;We(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],d=u.transform,f=e.data.field(u.field);s.set(u.field,_O(d,f,t[o]))}return s}function ub(i,e,t){const s=new Map;for(const o of i){const u=o.transform,d=t.data.field(o.field);s.set(o.field,vO(u,d,e))}return s}class ly extends af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AO extends af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&wO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Zu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Zu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Fw();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let f=this.applyToLocalView(d,u.mutatedFields);f=t.has(o.key)?null:f;const p=Yw(d,f);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,(t,s)=>ob(t,s))&&dl(this.baseMutations,e.baseMutations,(t,s)=>ob(t,s))}}class uy{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){We(e.mutations.length===s.length);let o=function(){return fO}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new uy(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Fe;function IO(i){switch(i){case ee.OK:return Se();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Se()}}function Ww(i){if(i===void 0)return Ir("GRPC error has no .code"),ee.UNKNOWN;switch(i){case St.OK:return ee.OK;case St.CANCELLED:return ee.CANCELLED;case St.UNKNOWN:return ee.UNKNOWN;case St.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case St.INTERNAL:return ee.INTERNAL;case St.UNAVAILABLE:return ee.UNAVAILABLE;case St.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case St.NOT_FOUND:return ee.NOT_FOUND;case St.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case St.ABORTED:return ee.ABORTED;case St.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case St.DATA_LOSS:return ee.DATA_LOSS;default:return Se()}}(Fe=St||(St={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new js([4294967295,4294967295],0);function cb(i){const e=NO().encode(i),t=new mw;return t.update(e),new Uint8Array(t.digest())}function hb(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new js([t,s],0),new js([o,u],0)]}class cy{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Qu(`Invalid padding: ${t}`);if(s<0)throw new Qu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Qu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Qu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=js.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(js.fromNumber(s)));return o.compare(DO)===1&&(o=new js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=cb(e),[s,o]=hb(t);for(let u=0;u<this.hashCount;u++){const d=this.Ae(s,o,u);if(!this.Re(d))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new cy(u,o,t);return s.forEach(f=>d.insert(f)),d}insert(e){if(this.Ee===0)return;const t=cb(e),[s,o]=hb(t);for(let u=0;u<this.hashCount;u++){const d=this.Ae(s,o,u);this.Ve(d)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new of(Ae.min(),o,new ut(Ue),Nr(),ke())}}class Cc{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Cc(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Zw{constructor(e,t){this.targetId=e,this.ge=t}}class Jw{constructor(e,t,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class db{constructor(){this.pe=0,this.ye=fb(),this.we=Zt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ke(),t=ke(),s=ke();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Se()}}),new Cc(this.we,this.be,e,t,s)}Me(){this.Se=!1,this.ye=fb()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,We(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class OO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Nr(),this.$e=od(),this.Ke=od(),this.Ue=new ut(Ue)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(mg(u))if(s===0){const d=new _e(u.path);this.ze(t,d,an.newNoDocument(d,Ae.min()))}else We(s===1);else{const d=this.et(t);if(d!==s){const f=this.tt(e),p=f?this.nt(f,e,d):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let d,f;try{d=Bs(s).toUint8Array()}catch(p){if(p instanceof Sw)return hl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new cy(d,o,u)}catch(p){return hl(p instanceof Qu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const d=this.ke.it(),f=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,d)=>{const f=this.Xe(d);if(f){if(u.current&&mg(f.target)){const p=new _e(f.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,an.newNoDocument(p,e))}u.ve&&(t.set(d,u.Fe()),u.Me())}});let s=ke();this.Ke.forEach((u,d)=>{let f=!0;d.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(u))}),this.Qe.forEach((u,d)=>d.setReadTime(e));const o=new of(e,t,this.Ue,this.Qe,s);return this.Qe=Nr(),this.$e=od(),this.Ke=od(),this.Ue=new ut(Ue),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new db,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Vt(Ue),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Vt(Ue),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new db),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function od(){return new ut(_e.comparator)}function fb(){return new ut(_e.comparator)}const MO={asc:"ASCENDING",desc:"DESCENDING"},PO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VO={and:"AND",or:"OR"};class kO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yg(i,e){return i.useProto3Json||ef(e)?e:{value:e}}function qd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function jO(i,e){return qd(i,e.toTimestamp())}function Li(i){return We(!!i),Ae.fromTimestamp(function(t){const s=qs(t);return new Pt(s.seconds,s.nanos)}(i))}function hy(i,e){return vg(i,e).canonicalString()}function vg(i,e){const t=function(o){return new rt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function tS(i){const e=rt.fromString(i);return We(aS(e)),e}function _g(i,e){return hy(i.databaseId,e.path)}function Pp(i,e){const t=tS(e);if(t.get(1)!==i.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _e(iS(t))}function nS(i,e){return hy(i.databaseId,e)}function LO(i){const e=tS(i);return e.length===4?rt.emptyPath():iS(e)}function Eg(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function iS(i){return We(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function mb(i,e,t){return{name:_g(i,e),fields:t.value.mapValue.fields}}function UO(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,b){return g.useProto3Json?(We(b===void 0||typeof b=="string"),Zt.fromBase64String(b||"")):(We(b===void 0||b instanceof Buffer||b instanceof Uint8Array),Zt.fromUint8Array(b||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(g){const b=g.code===void 0?ee.UNKNOWN:Ww(g.code);return new de(b,g.message||"")}(d);t=new Jw(s,o,u,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pp(i,s.document.name),u=Li(s.document.updateTime),d=s.document.createTime?Li(s.document.createTime):Ae.min(),f=new Tn({mapValue:{fields:s.document.fields}}),p=an.newFoundDocument(o,u,d,f),g=s.targetIds||[],b=s.removedTargetIds||[];t=new Td(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pp(i,s.document),u=s.readTime?Li(s.readTime):Ae.min(),d=an.newNoDocument(o,u),f=s.removedTargetIds||[];t=new Td([],f,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pp(i,s.document),u=s.removedTargetIds||[];t=new Td([],u,o,null)}else{if(!("filter"in e))return Se();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,d=new CO(o,u),f=s.targetId;t=new Zw(f,d)}}return t}function zO(i,e){let t;if(e instanceof Rc)t={update:mb(i,e.key,e.value)};else if(e instanceof ly)t={delete:_g(i,e.key)};else if(e instanceof Ys)t={update:mb(i,e.key,e.data),updateMask:YO(e.fieldMask)};else{if(!(e instanceof AO))return Se();t={verify:_g(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,d){const f=d.transform;if(f instanceof cc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof hc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof dc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof zd)return{fieldPath:d.field.canonicalString(),increment:f.Ie};throw Se()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:jO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se()}(i,e.precondition)),t}function qO(i,e){return i&&i.length>0?(We(e!==void 0),i.map(t=>function(o,u){let d=o.updateTime?Li(o.updateTime):Li(u);return d.isEqual(Ae.min())&&(d=Li(u)),new TO(d,o.transformResults||[])}(t,e))):[]}function BO(i,e){return{documents:[nS(i,e.path)]}}function FO(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=nS(i,o);const u=function(g){if(g.length!==0)return sS(ci.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const d=function(g){if(g.length!==0)return g.map(b=>function(x){return{field:Fo(x.field),direction:QO(x.dir)}}(b))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const f=yg(i,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function HO(i){let e=LO(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){We(s===1);const b=t.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];t.where&&(u=function(T){const x=rS(T);return x instanceof ci&&Pw(x)?x.getFilters():[x]}(t.where));let d=[];t.orderBy&&(d=function(T){return T.map(x=>function(M){return new uc(Ho(M.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(x))}(t.orderBy));let f=null;t.limit&&(f=function(T){let x;return x=typeof T=="object"?T.value:T,ef(x)?null:x}(t.limit));let p=null;t.startAt&&(p=function(T){const x=!!T.before,N=T.values||[];return new Ud(N,x)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const x=!T.before,N=T.values||[];return new Ud(N,x)}(t.endAt)),lO(e,o,d,u,f,"F",p,g)}function GO(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rS(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ho(t.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ho(t.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ho(t.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ho(t.unaryFilter.field);return At.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(i):i.fieldFilter!==void 0?function(t){return At.create(Ho(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return ci.create(t.compositeFilter.filters.map(s=>rS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(i):Se()}function QO(i){return MO[i]}function KO(i){return PO[i]}function $O(i){return VO[i]}function Fo(i){return{fieldPath:i.canonicalString()}}function Ho(i){return Wt.fromServerFormat(i.fieldPath)}function sS(i){return i instanceof At?function(t){if(t.op==="=="){if(tb(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NAN"}};if(eb(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tb(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NAN"}};if(eb(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(t.field),op:KO(t.op),value:t.value}}}(i):i instanceof ci?function(t){const s=t.getFilters().map(o=>sS(o));return s.length===1?s[0]:{compositeFilter:{op:$O(t.op),filters:s}}}(i):Se()}function YO(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t,s,o,u=Ae.min(),d=Ae.min(),f=Zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.Tt=e}}function WO(i){const e=HO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?gg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.Tn=new JO}addToCollectionParentIndex(e,t){return this.Tn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(zs.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class JO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Vt(rt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oS=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(oS,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new pl(0)}static Un(){return new pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="LruGarbageCollector",e2=1048576;function yb([i,e],[t,s]){const o=Ue(i,t);return o===0?Ue(e,s):o}class t2{constructor(e){this.Hn=e,this.buffer=new Vt(yb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();yb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class n2{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(gb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Rl(t)?he(gb,"Ignoring IndexedDB error during garbage collection: ",t):await xl(t)}await this.er(3e5)})}}class i2{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Jd.ae);const s=new t2(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(pb)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pb):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,d,f,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,d=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,f=Date.now(),this.removeTargets(e,s,t))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),qo()<=Ve.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(f-d)+`ms
	Removed ${u} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function r2(i,e){return new i2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.changes=new Ka(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Zu(s.mutation,o,Dn.empty(),Pt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=Ia();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let d=Gu();return u.forEach((f,p)=>{d=d.insert(f,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const s=Ia();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,s,o){let u=Nr();const d=Wu(),f=function(){return Wu()}();return t.forEach((p,g)=>{const b=s.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof Ys)?u=u.insert(g.key,g):b!==void 0?(d.set(g.key,b.mutation.getFieldMask()),Zu(b.mutation,g,b.mutation.getFieldMask(),Pt.now())):d.set(g.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,b)=>d.set(g,b)),t.forEach((g,b)=>{var T;return f.set(g,new a2(b,(T=d.get(g))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,t){const s=Wu();let o=new ut((d,f)=>d-f),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let b=s.get(p)||Dn.empty();b=f.applyToLocalView(g,b),s.set(p,b);const T=(o.get(f.batchId)||ke()).add(p);o=o.insert(f.batchId,T)})}).next(()=>{const d=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,b=p.value,T=Fw();b.forEach(x=>{if(!u.has(x)){const N=Yw(t.get(x),s.get(x));N!==null&&T.set(x,N),u=u.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Lw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(Ia());let f=sc,p=u;return d.next(g=>te.forEach(g,(b,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),u.get(b)?te.resolve():this.remoteDocumentCache.getEntry(e,b).next(x=>{p=p.insert(b,x)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(b=>({batchId:f,changes:Bw(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let o=Gu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let d=Gu();return this.indexManager.getCollectionParents(e,u).next(f=>te.forEach(f,p=>{const g=function(T,x){return new Cl(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(b=>{b.forEach((T,x)=>{d=d.insert(T,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(d=>{u.forEach((p,g)=>{const b=g.getKey();d.get(b)===null&&(d=d.insert(b,an.newInvalidDocument(b)))});let f=Gu();return d.forEach((p,g)=>{const b=u.get(p);b!==void 0&&Zu(b.mutation,g,Dn.empty(),Pt.now()),rf(t,g)&&(f=f.insert(p,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return te.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:WO(o.bundledQuery),readTime:Li(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.overlays=new ut(_e.comparator),this.Rr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ia();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=Ia(),u=t.length+1,d=new _e(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ut((g,b)=>g-b);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let b=u.get(g.largestBatchId);b===null&&(b=Ia(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const f=Ia(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,b)=>f.set(g,b)),!(f.size()>=o)););return te.resolve(f)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new RO(t,s));let u=this.Rr.get(t);u===void 0&&(u=ke(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(){this.Vr=new Vt(Ht.mr),this.gr=new Vt(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Ht(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Ht(e,t))}br(e,t){e.forEach(s=>this.removeReference(s,t))}Sr(e){const t=new _e(new rt([])),s=new Ht(t,e),o=new Ht(t,e+1),u=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),u.push(d.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new rt([])),s=new Ht(t,e),o=new Ht(t,e+1);let u=ke();return this.gr.forEachInRange([s,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new Ht(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Ue(e.Cr,t.Cr)}static pr(e,t){return Ue(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Vt(Ht.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new xO(u,t,s,o);this.mutationQueue.push(d);for(const f of o)this.Mr=this.Mr.add(new Ht(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return te.resolve(d)}lookupMutationBatch(e,t){return te.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?ty:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],d=>{const f=this.Or(d.Cr);u.push(f)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Vt(Ue);return t.forEach(o=>{const u=new Ht(o,0),d=new Ht(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,d],f=>{s=s.add(f.Cr)})}),te.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const d=new Ht(new _e(u),0);let f=new Vt(Ue);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(f=f.add(p.Cr)),!0)},d),te.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){We(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return te.forEach(t.mutations,o=>{const u=new Ht(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Ht(t,0),o=this.Mr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.kr=e,this.docs=function(){return new ut(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,d=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let s=Nr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Nr();const d=t.path,f=new _e(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||zD(UD(b),s)<=0||(o.has(b.key)||rf(t,b))&&(u=u.insert(b.key,b.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Se()}qr(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new f2(this)}getSize(e){return te.resolve(this.size)}}class f2 extends s2{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.persistence=e,this.Qr=new Ka(t=>ry(t),sy),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Kr=new dy,this.targetCount=0,this.Ur=pl.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),te.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new pl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.zn(t),te.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((d,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Qr.delete(d),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.Kr.br(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Jd(0),this.zr=!1,this.zr=!0,this.jr=new c2,this.referenceDelegate=e(this),this.Hr=new m2(this),this.indexManager=new ZO,this.remoteDocumentCache=function(o){return new d2(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new XO(t),this.Yr=new l2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new u2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new h2(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new p2(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return te.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class p2 extends BD{constructor(e){super(),this.currentSequenceNumber=e}}class fy{constructor(e){this.persistence=e,this.ti=new dy,this.ni=null}static ri(e){return new fy(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),te.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,s=>{const o=_e.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,Ae.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return te.or([()=>te.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Bd{constructor(e,t){this.persistence=e,this.oi=new Ka(s=>GD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=r2(this,t)}static ri(e,t){return new Bd(e,t)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return te.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,t).next(f=>{f||(s++,u.removeEntry(d,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_d(e.data.value)),t}ar(e,t,s){return te.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new my(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return XC()?8:FD(on())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new g2;return this._s(e,t,d).next(f=>{if(u.result=f,this.Xi)return this.us(e,t,d,f.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(qo()<=Ve.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(qo()<=Ve.DEBUG&&he("QueryEngine","Query:",Bo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(qo()<=Ve.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(t))):te.resolve())}rs(e,t){if(sb(t))return te.resolve(null);let s=ji(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=gg(t,null,"F"),s=ji(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const d=ke(...u);return this.ns.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,f);return this.ls(t,g,d,p.readTime)?this.rs(e,gg(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return sb(t)||o.isEqual(Ae.min())?te.resolve(null):this.ns.getDocuments(e,s).next(u=>{const d=this.cs(t,u);return this.ls(t,d,s,o)?te.resolve(null):(qo()<=Ve.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Bo(t)),this.hs(e,d,t,LD(o,sc)).next(f=>f))})}cs(e,t){let s=new Vt(zw(e));return t.forEach((o,u)=>{rf(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return qo()<=Ve.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.ns.getDocumentsMatchingQuery(e,t,zs.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="LocalStore",v2=3e8;class _2{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ut(Ue),this.Is=new Ka(u=>ry(u),sy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function E2(i,e,t,s){return new _2(i,e,t,s)}async function uS(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const d=[],f=[];let p=ke();for(const g of o){d.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of u){f.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:d,addedBatchIds:f}))})})}function b2(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,g,b){const T=g.batch,x=T.keys();let N=te.resolve();return x.forEach(M=>{N=N.next(()=>b.getEntry(p,M)).next(F=>{const O=g.docVersions.get(M);We(O!==null),F.version.compareTo(O)<0&&(T.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),b.addEntry(F)))})}),N.next(()=>f.mutationQueue.removeMutationBatch(p,T))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let p=ke();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function cS(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function T2(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((b,T)=>{const x=o.get(T);if(!x)return;f.push(t.Hr.removeMatchingKeys(u,b.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(u,b.addedDocuments,T)));let N=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Zt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):b.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(b.resumeToken,s)),o=o.insert(T,N),function(F,O,G){return F.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=v2?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(x,N,b)&&f.push(t.Hr.updateTargetData(u,N))});let p=Nr(),g=ke();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))}),f.push(w2(u,d,e.documentUpdates).next(b=>{p=b.Vs,g=b.fs})),!s.isEqual(Ae.min())){const b=t.Hr.getLastRemoteSnapshotVersion(u).next(T=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));f.push(b)}return te.waitFor(f).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ts=o,u))}function w2(i,e,t){let s=ke(),o=ke();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let d=Nr();return t.forEach((f,p)=>{const g=u.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(f,p.readTime),d=d.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),d=d.insert(f,p)):he(py,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function S2(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ty),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function A2(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.Hr.allocateTargetId(s).next(d=>(o=new Ms(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function bg(i,e,t){const s=Re(i),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Rl(d))throw d;he(py,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function vb(i,e,t){const s=Re(i);let o=Ae.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,g,b){const T=Re(p),x=T.Is.get(b);return x!==void 0?te.resolve(T.Ts.get(x)):T.Hr.getTargetData(g,b)}(s,d,ji(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,f.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,t?o:Ae.min(),t?u:ke())).next(f=>(x2(s,cO(e),f),{documents:f,gs:u})))}function x2(i,e,t){let s=i.Es.get(e)||Ae.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class _b{constructor(){this.activeTargetIds=gO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R2{constructor(){this.ho=new _b,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new _b,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="ConnectivityMonitor";class bb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(Eb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(Eb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld=null;function Tg(){return ld===null?ld=function(){return 268435456+Math.round(2147483648*Math.random())}():ld++,"0x"+ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="RestConnection",I2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class N2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===jd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,t,s,o,u){const d=Tg(),f=this.So(e,t.toUriEncodedString());he(Vp,`Sending RPC '${e}' ${d}:`,f,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,f,p,s).then(g=>(he(Vp,`Received RPC '${e}' ${d}: `,g),g),g=>{throw hl(Vp,`RPC '${e}' ${d} failed with error: `,g,"url: ",f,"request:",s),g})}Co(e,t,s,o,u,d){return this.bo(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Al}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,t){const s=I2[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class O2 extends N2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=Tg();return new Promise((d,f)=>{const p=new pw;p.setWithCredentials(!0),p.listenOnce(gw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case vd.NO_ERROR:const b=p.getResponseJson();he(nn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),d(b);break;case vd.TIMEOUT:he(nn,`RPC '${e}' ${u} timed out`),f(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case vd.HTTP_ERROR:const T=p.getStatus();if(he(nn,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const N=x==null?void 0:x.error;if(N&&N.status&&N.message){const M=function(O){const G=O.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(G)>=0?G:ee.UNKNOWN}(N.status);f(new de(M,N.message))}else f(new de(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new de(ee.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{he(nn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);he(nn,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=Tg(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=_w(),f=vw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const b=u.join("");he(nn,`Creating RPC '${e}' stream ${o}: ${b}`,p);const T=d.createWebChannel(b,p);let x=!1,N=!1;const M=new D2({Fo:O=>{N?he(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(x||(he(nn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),x=!0),he(nn,`RPC '${e}' stream ${o} sending:`,O),T.send(O))},Mo:()=>T.close()}),F=(O,G,Y)=>{O.listen(G,X=>{try{Y(X)}catch(oe){setTimeout(()=>{throw oe},0)}})};return F(T,Hu.EventType.OPEN,()=>{N||(he(nn,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),F(T,Hu.EventType.CLOSE,()=>{N||(N=!0,he(nn,`RPC '${e}' stream ${o} transport closed`),M.Ko())}),F(T,Hu.EventType.ERROR,O=>{N||(N=!0,hl(nn,`RPC '${e}' stream ${o} transport errored:`,O),M.Ko(new de(ee.UNAVAILABLE,"The operation could not be completed")))}),F(T,Hu.EventType.MESSAGE,O=>{var G;if(!N){const Y=O.data[0];We(!!Y);const X=Y,oe=(X==null?void 0:X.error)||((G=X[0])===null||G===void 0?void 0:G.error);if(oe){he(nn,`RPC '${e}' stream ${o} received error:`,oe);const se=oe.status;let ye=function(A){const I=St[A];if(I!==void 0)return Ww(I)}(se),V=oe.message;ye===void 0&&(ye=ee.INTERNAL,V="Unknown error status: "+se+" with message "+oe.message),N=!0,M.Ko(new de(ye,V)),T.close()}else he(nn,`RPC '${e}' stream ${o} received:`,Y),M.Uo(Y)}}),F(f,yw.STAT_EVENT,O=>{O.stat===cg.PROXY?he(nn,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===cg.NOPROXY&&he(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(i){return new kO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="PersistentStream";class dS{constructor(e,t,s,o,u,d,f,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new hS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Ir(t.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new de(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(Tb,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(Tb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M2 extends dS{constructor(e,t,s,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,d),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=UO(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?Li(d.readTime):Ae.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Eg(this.serializer),t.addTarget=function(u,d){let f;const p=d.target;if(f=mg(p)?{documents:BO(u,p)}:{query:FO(u,p).ht},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=eS(u,d.resumeToken);const g=yg(u,d.expectedCount);g!==null&&(f.expectedCount=g)}else if(d.snapshotVersion.compareTo(Ae.min())>0){f.readTime=qd(u,d.snapshotVersion.toTimestamp());const g=yg(u,d.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const s=GO(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Eg(this.serializer),t.removeTarget=e,this.I_(t)}}class P2 extends dS{constructor(e,t,s,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,d),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=qO(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Eg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>zO(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{}class k2 extends V2{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.bo(e,vg(t,s),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ee.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,f])=>this.connection.Co(e,vg(t,s),o,d,f,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(ee.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class j2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ir(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="RemoteStore";class L2{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(d=>{s.enqueueAndForget(async()=>{$a(this)&&(he(Ga,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.W_.add(4),await Ic(g),g.j_.set("Unknown"),g.W_.delete(4),await uf(g)}(this))})}),this.j_=new j2(s,o)}}async function uf(i){if($a(i))for(const e of i.G_)await e(!0)}async function Ic(i){for(const e of i.G_)await e(!1)}function fS(i,e){const t=Re(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),_y(t)?vy(t):Il(t).c_()&&yy(t,e))}function gy(i,e){const t=Re(i),s=Il(t);t.U_.delete(e),s.c_()&&mS(t,e),t.U_.size===0&&(s.c_()?s.P_():$a(t)&&t.j_.set("Unknown"))}function yy(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Il(i).y_(e)}function mS(i,e){i.H_.Ne(e),Il(i).w_(e)}function vy(i){i.H_=new OO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Il(i).start(),i.j_.B_()}function _y(i){return $a(i)&&!Il(i).u_()&&i.U_.size>0}function $a(i){return Re(i).W_.size===0}function pS(i){i.H_=void 0}async function U2(i){i.j_.set("Online")}async function z2(i){i.U_.forEach((e,t)=>{yy(i,e)})}async function q2(i,e){pS(i),_y(i)?(i.j_.q_(e),vy(i)):i.j_.set("Unknown")}async function B2(i,e,t){if(i.j_.set("Online"),e instanceof Jw&&e.state===2&&e.cause)try{await async function(o,u){const d=u.cause;for(const f of u.targetIds)o.U_.has(f)&&(await o.remoteSyncer.rejectListen(f,d),o.U_.delete(f),o.H_.removeTarget(f))}(i,e)}catch(s){he(Ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Fd(i,s)}else if(e instanceof Td?i.H_.We(e):e instanceof Zw?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Ae.min()))try{const s=await cS(i.localStore);t.compareTo(s)>=0&&await function(u,d){const f=u.H_.ot(d);return f.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.U_.get(g);b&&u.U_.set(g,b.withResumeToken(p.resumeToken,d))}}),f.targetMismatches.forEach((p,g)=>{const b=u.U_.get(p);if(!b)return;u.U_.set(p,b.withResumeToken(Zt.EMPTY_BYTE_STRING,b.snapshotVersion)),mS(u,p);const T=new Ms(b.target,p,g,b.sequenceNumber);yy(u,T)}),u.remoteSyncer.applyRemoteEvent(f)}(i,t)}catch(s){he(Ga,"Failed to raise snapshot:",s),await Fd(i,s)}}async function Fd(i,e,t){if(!Rl(e))throw e;i.W_.add(1),await Ic(i),i.j_.set("Offline"),t||(t=()=>cS(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(Ga,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await uf(i)})}function gS(i,e){return e().catch(t=>Fd(i,t,e))}async function cf(i){const e=Re(i),t=Hs(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:ty;for(;F2(e);)try{const o=await S2(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,H2(e,o)}catch(o){await Fd(e,o)}yS(e)&&vS(e)}function F2(i){return $a(i)&&i.K_.length<10}function H2(i,e){i.K_.push(e);const t=Hs(i);t.c_()&&t.b_&&t.S_(e.mutations)}function yS(i){return $a(i)&&!Hs(i).u_()&&i.K_.length>0}function vS(i){Hs(i).start()}async function G2(i){Hs(i).C_()}async function Q2(i){const e=Hs(i);for(const t of i.K_)e.S_(t.mutations)}async function K2(i,e,t){const s=i.K_.shift(),o=uy.from(s,e,t);await gS(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await cf(i)}async function $2(i,e){e&&Hs(i).b_&&await async function(s,o){if(function(d){return IO(d)&&d!==ee.ABORTED}(o.code)){const u=s.K_.shift();Hs(s).h_(),await gS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await cf(s)}}(i,e),yS(i)&&vS(i)}async function wb(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),he(Ga,"RemoteStore received new credentials");const s=$a(t);t.W_.add(3),await Ic(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await uf(t)}async function Y2(i,e){const t=Re(i);e?(t.W_.delete(2),await uf(t)):e||(t.W_.add(2),await Ic(t),t.j_.set("Unknown"))}function Il(i){return i.J_||(i.J_=function(t,s,o){const u=Re(t);return u.M_(),new M2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:U2.bind(null,i),No:z2.bind(null,i),Lo:q2.bind(null,i),p_:B2.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),_y(i)?vy(i):i.j_.set("Unknown")):(await i.J_.stop(),pS(i))})),i.J_}function Hs(i){return i.Y_||(i.Y_=function(t,s,o){const u=Re(t);return u.M_(),new P2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:G2.bind(null,i),Lo:$2.bind(null,i),D_:Q2.bind(null,i),v_:K2.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await cf(i)):(await i.Y_.stop(),i.K_.length>0&&(he(Ga,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const d=Date.now()+s,f=new Ey(e,t,d,o,u);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function by(i,e){if(Ir("AsyncQueue",`${e}: ${i}`),Rl(i))return new de(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=Gu(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.Z_=new ut(_e.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class gl{constructor(e,t,s,o,u,d,f,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const d=[];return t.forEach(f=>{d.push({type:0,doc:f})}),new gl(e,t,Xo.emptySet(t),d,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class W2{constructor(){this.queries=Ab(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=Ab(),u.forEach((d,f)=>{for(const p of f.ta)p.onError(s)})})(this,new de(ee.ABORTED,"Firestore shutting down"))}}function Ab(){return new Ka(i=>Uw(i),nf)}async function _S(i,e){const t=Re(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new X2,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const f=by(d,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&Ty(t)}async function ES(i,e){const t=Re(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const d=u.ta.indexOf(e);d>=0&&(u.ta.splice(d,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Z2(i,e){const t=Re(i);let s=!1;for(const o of e){const u=o.query,d=t.queries.get(u);if(d){for(const f of d.ta)f.oa(o)&&(s=!0);d.ea=o}}s&&Ty(t)}function J2(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function Ty(i){i.ia.forEach(e=>{e.next()})}var wg,xb;(xb=wg||(wg={}))._a="default",xb.Cache="cache";class bS{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new gl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.key=e}}class wS{constructor(e){this.key=e}}class eM{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=zw(e),this.wa=new Xo(this.ya)}get ba(){return this.fa}Sa(e,t){const s=t?t.Da:new Sb,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,T)=>{const x=o.get(b),N=rf(this.query,T)?T:null,M=!!x&&this.mutatedKeys.has(x.key),F=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let O=!1;x&&N?x.data.isEqual(N.data)?M!==F&&(s.track({type:3,doc:N}),O=!0):this.va(x,N)||(s.track({type:2,doc:N}),O=!0,(p&&this.ya(N,p)>0||g&&this.ya(N,g)<0)&&(f=!0)):!x&&N?(s.track({type:0,doc:N}),O=!0):x&&!N&&(s.track({type:1,doc:x}),O=!0,(p||g)&&(f=!0)),O&&(N?(d=d.add(N),u=F?u.add(b):u.delete(b)):(d=d.delete(b),u=u.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{wa:d,Da:s,ls:f,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((b,T)=>function(N,M){const F=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return F(N)-F(M)}(b.type,T.type)||this.ya(b.doc,T.doc)),this.Ca(s),o=o!=null&&o;const f=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,d.length!==0||g?{snapshot:new gl(this.query,e.wa,u,d,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Sb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new wS(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new TS(s))}),t}Oa(e){this.fa=e.gs,this.pa=ke();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return gl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const wy="SyncEngine";class tM{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class nM{constructor(e){this.key=e,this.Ba=!1}}class iM{constructor(e,t,s,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ka(f=>Uw(f),nf),this.qa=new Map,this.Qa=new Set,this.$a=new ut(_e.comparator),this.Ka=new Map,this.Ua=new dy,this.Wa={},this.Ga=new Map,this.za=pl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function rM(i,e,t=!0){const s=IS(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await SS(s,e,t,!0),o}async function sM(i,e){const t=IS(i);await SS(t,e,!0,!1)}async function SS(i,e,t,s){const o=await A2(i.localStore,ji(e)),u=o.targetId,d=i.sharedClientState.addLocalQueryTarget(u,t);let f;return s&&(f=await aM(i,e,u,d==="current",o.resumeToken)),i.isPrimaryClient&&t&&fS(i.remoteStore,o),f}async function aM(i,e,t,s,o){i.Ha=(T,x,N)=>async function(F,O,G,Y){let X=O.view.Sa(G);X.ls&&(X=await vb(F.localStore,O.query,!1).then(({documents:V})=>O.view.Sa(V,X)));const oe=Y&&Y.targetChanges.get(O.targetId),se=Y&&Y.targetMismatches.get(O.targetId)!=null,ye=O.view.applyChanges(X,F.isPrimaryClient,oe,se);return Cb(F,O.targetId,ye.Ma),ye.snapshot}(i,T,x,N);const u=await vb(i.localStore,e,!0),d=new eM(e,u.gs),f=d.Sa(u.documents),p=Cc.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=d.applyChanges(f,i.isPrimaryClient,p);Cb(i,t,g.Ma);const b=new tM(e,t,d);return i.ka.set(e,b),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function oM(i,e,t){const s=Re(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(d=>!nf(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await bg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&gy(s.remoteStore,o.targetId),Sg(s,o.targetId)}).catch(xl)):(Sg(s,o.targetId),await bg(s.localStore,o.targetId,!0))}async function lM(i,e){const t=Re(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),gy(t.remoteStore,s.targetId))}async function uM(i,e,t){const s=gM(i);try{const o=await function(d,f){const p=Re(d),g=Pt.now(),b=f.reduce((N,M)=>N.add(M.key),ke());let T,x;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let M=Nr(),F=ke();return p.ds.getEntries(N,b).next(O=>{M=O,M.forEach((G,Y)=>{Y.isValidDocument()||(F=F.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,M)).next(O=>{T=O;const G=[];for(const Y of f){const X=SO(Y,T.get(Y.key).overlayedDocument);X!=null&&G.push(new Ys(Y.key,X,Dw(X.value.mapValue),oi.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,G,f)}).next(O=>{x=O;const G=O.applyToLocalDocumentSet(T,F);return p.documentOverlayCache.saveOverlays(N,O.batchId,G)})}).then(()=>({batchId:x.batchId,changes:Bw(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,f,p){let g=d.Wa[d.currentUser.toKey()];g||(g=new ut(Ue)),g=g.insert(f,p),d.Wa[d.currentUser.toKey()]=g}(s,o.batchId,t),await Nc(s,o.changes),await cf(s.remoteStore)}catch(o){const u=by(o,"Failed to persist write");t.reject(u)}}async function AS(i,e){const t=Re(i);try{const s=await T2(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.Ka.get(u);d&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?We(d.Ba):o.removedDocuments.size>0&&(We(d.Ba),d.Ba=!1))}),await Nc(t,s,e)}catch(s){await xl(s)}}function Rb(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,d)=>{const f=d.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(d,f){const p=Re(d);p.onlineState=f;let g=!1;p.queries.forEach((b,T)=>{for(const x of T.ta)x.sa(f)&&(g=!0)}),g&&Ty(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function cM(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let d=new ut(_e.comparator);d=d.insert(u,an.newNoDocument(u,Ae.min()));const f=ke().add(u),p=new of(Ae.min(),new Map,new ut(Ue),d,f);await AS(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Sy(s)}else await bg(s.localStore,e,!1).then(()=>Sg(s,e,t)).catch(xl)}async function hM(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await b2(t.localStore,e);RS(t,s,null),xS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Nc(t,o)}catch(o){await xl(o)}}async function dM(i,e,t){const s=Re(i);try{const o=await function(d,f){const p=Re(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return p.mutationQueue.lookupMutationBatch(g,f).next(T=>(We(T!==null),b=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b)).next(()=>p.localDocuments.getDocuments(g,b))})}(s.localStore,e);RS(s,e,t),xS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Nc(s,o)}catch(o){await xl(o)}}function xS(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function RS(i,e,t){const s=Re(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Sg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(s=>{i.Ua.containsKey(s)||CS(i,s)})}function CS(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(gy(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),Sy(i))}function Cb(i,e,t){for(const s of t)s instanceof TS?(i.Ua.addReference(s.key,e),fM(i,s)):s instanceof wS?(he(wy,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||CS(i,s.key)):Se()}function fM(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(he(wy,"New document in limbo: "+t),i.Qa.add(s),Sy(i))}function Sy(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new _e(rt.fromString(e)),s=i.za.next();i.Ka.set(s,new nM(t)),i.$a=i.$a.insert(t,s),fS(i.remoteStore,new Ms(ji(ay(t.path)),s,"TargetPurposeLimboResolution",Jd.ae))}}async function Nc(i,e,t){const s=Re(i),o=[],u=[],d=[];s.ka.isEmpty()||(s.ka.forEach((f,p)=>{d.push(s.Ha(p,e,t).then(g=>{var b;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(b=t==null?void 0:t.targetChanges.get(p.targetId))===null||b===void 0?void 0:b.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=my.Yi(p.targetId,g);u.push(T)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,g){const b=Re(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>te.forEach(g,x=>te.forEach(x.Hi,N=>b.persistence.referenceDelegate.addReference(T,x.targetId,N)).next(()=>te.forEach(x.Ji,N=>b.persistence.referenceDelegate.removeReference(T,x.targetId,N)))))}catch(T){if(!Rl(T))throw T;he(py,"Failed to update sequence numbers: "+T)}for(const T of g){const x=T.targetId;if(!T.fromCache){const N=b.Ts.get(x),M=N.snapshotVersion,F=N.withLastLimboFreeSnapshotVersion(M);b.Ts=b.Ts.insert(x,F)}}}(s.localStore,u))}async function mM(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){he(wy,"User change. New user:",e.toKey());const s=await uS(t.localStore,e);t.currentUser=e,function(u,d){u.Ga.forEach(f=>{f.forEach(p=>{p.reject(new de(ee.CANCELLED,d))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nc(t,s.Rs)}}function pM(i,e){const t=Re(i),s=t.Ka.get(e);if(s&&s.Ba)return ke().add(s.key);{let o=ke();const u=t.qa.get(e);if(!u)return o;for(const d of u){const f=t.ka.get(d);o=o.unionWith(f.view.ba)}return o}}function IS(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=AS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cM.bind(null,e),e.La.p_=Z2.bind(null,e.eventManager),e.La.Ja=J2.bind(null,e.eventManager),e}function gM(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dM.bind(null,e),e}class Hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return E2(this.persistence,new y2,e.initialUser,this.serializer)}Xa(e){return new lS(fy.ri,this.serializer)}Za(e){return new R2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hd.provider={build:()=>new Hd};class yM extends Hd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){We(this.persistence.referenceDelegate instanceof Bd);const s=this.persistence.referenceDelegate.garbageCollector;return new n2(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new lS(s=>Bd.ri(s,t),this.serializer)}}class Ag{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Rb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mM.bind(null,this.syncEngine),await Y2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new W2}()}createDatastore(e){const t=lf(e.databaseInfo.databaseId),s=function(u){return new O2(u)}(e.databaseInfo);return function(u,d,f,p){return new k2(u,d,f,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,d,f){return new L2(s,o,u,d,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Rb(this.syncEngine,t,0),function(){return bb.D()?new bb:new C2}())}createSyncEngine(e,t){return function(o,u,d,f,p,g,b){const T=new iM(o,u,d,f,p,g);return b&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Re(o);he(Ga,"RemoteStore shutting down."),u.W_.add(5),await Ic(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ag.provider={build:()=>new Ag};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class vM{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=bw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async d=>{he(Gs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(he(Gs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=by(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function jp(i,e){i.asyncQueue.verifyOperationInProgress(),he(Gs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await uS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Ib(i,e){i.asyncQueue.verifyOperationInProgress();const t=await _M(i);he(Gs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>wb(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>wb(e.remoteStore,o)),i._onlineComponents=e}async function _M(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(Gs,"Using user provided OfflineComponentProvider");try{await jp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;hl("Error using user provided cache. Falling back to memory cache: "+t),await jp(i,new Hd)}}else he(Gs,"Using default OfflineComponentProvider"),await jp(i,new yM(void 0));return i._offlineComponents}async function DS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(Gs,"Using user provided OnlineComponentProvider"),await Ib(i,i._uninitializedComponentsProvider._online)):(he(Gs,"Using default OnlineComponentProvider"),await Ib(i,new Ag))),i._onlineComponents}function EM(i){return DS(i).then(e=>e.syncEngine)}async function OS(i){const e=await DS(i),t=e.eventManager;return t.onListen=rM.bind(null,e.syncEngine),t.onUnlisten=oM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lM.bind(null,e.syncEngine),t}function bM(i,e,t={}){const s=new Sr;return i.asyncQueue.enqueueAndForget(async()=>function(u,d,f,p,g){const b=new NS({next:x=>{b.su(),d.enqueueAndForget(()=>ES(u,T));const N=x.docs.has(f);!N&&x.fromCache?g.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&x.fromCache&&p&&p.source==="server"?g.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),T=new bS(ay(f.path),b,{includeMetadataChanges:!0,Ta:!0});return _S(u,T)}(await OS(i),i.asyncQueue,e,t,s)),s.promise}function TM(i,e,t={}){const s=new Sr;return i.asyncQueue.enqueueAndForget(async()=>function(u,d,f,p,g){const b=new NS({next:x=>{b.su(),d.enqueueAndForget(()=>ES(u,T)),x.fromCache&&p.source==="server"?g.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),T=new bS(f,b,{includeMetadataChanges:!0,Ta:!0});return _S(u,T)}(await OS(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(i,e,t){if(!t)throw new de(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function wM(i,e,t,s){if(e===!0&&s===!0)throw new de(ee.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Db(i){if(!_e.isDocumentKey(i))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ob(i){if(_e.isDocumentKey(i))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function hf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se()}function Dr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hf(i);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="firestore.googleapis.com",Mb=!0;class Pb{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VS,this.ssl=Mb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Mb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e2)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ND;switch(s.type){case"firstParty":return new PD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Nb.get(t);s&&(he("ComponentProvider","Removing Datastore"),Nb.delete(t),s.terminate())}(this),Promise.resolve()}}function SM(i,e,t,s={}){var o;const u=(i=Dr(i,df))._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),f=`${e}:${t}`;u.host!==VS&&u.host!==f&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:f,ssl:!1,emulatorOptions:s});if(!qa(p,d)&&(i._setSettings(p),s.mockUserToken)){let g,b;if(typeof s.mockUserToken=="string")g=s.mockUserToken,b=sn.MOCK_USER;else{g=FC(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new sn(T)}i._authCredentials=new DD(new Ew(g,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ya(this.firestore,e,this._query)}}class wn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class Ls extends Ya{constructor(e,t,s){super(e,t,ay(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new _e(e))}withConverter(e){return new Ls(this.firestore,e,this._path)}}function br(i,e,...t){if(i=kt(i),PS("collection","path",e),i instanceof df){const s=rt.fromString(e,...t);return Ob(s),new Ls(i,null,s)}{if(!(i instanceof wn||i instanceof Ls))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...t));return Ob(s),new Ls(i.firestore,null,s)}}function Ui(i,e,...t){if(i=kt(i),arguments.length===1&&(e=bw.newId()),PS("doc","path",e),i instanceof df){const s=rt.fromString(e,...t);return Db(s),new wn(i,null,new _e(s))}{if(!(i instanceof wn||i instanceof Ls))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...t));return Db(s),new wn(i.firestore,i instanceof Ls?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="AsyncQueue";class kb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new hS(this,"async_queue_retry"),this.bu=()=>{const s=kp();s&&he(Vb,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const t=kp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=kp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Sr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Rl(e))throw e;he(Vb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let f=d.message||"";return d.stack&&(f=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),f}(s);throw Ir("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Ey.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Nl extends df{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new kb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kb(e),this._firestoreClient=void 0,await e}}}function AM(i,e){const t=typeof i=="object"?i:OT(),s=typeof i=="string"?i:jd,o=Fg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=qC("firestore");u&&SM(o,...u)}return o}function Ay(i){if(i._terminated)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||xM(i),i._firestoreClient}function xM(i){var e,t,s;const o=i._freezeSettings(),u=function(f,p,g,b){return new $D(f,p,g,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,MS(b.experimentalLongPollingOptions),b.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new vM(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(Zt.fromBase64String(e))}catch(t){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yl(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=/^__.*__$/;class CM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rc(e,this.data,t,this.fieldTransforms)}}class kS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Cy{constructor(e,t,s,o,u,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Cy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Gd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(jS(this.Lu)&&RM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class IM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||lf(e)}ju(e,t,s,o=!1){return new Cy({Lu:e,methodName:t,zu:s,path:Wt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iy(i){const e=i._freezeSettings(),t=lf(i._databaseId);return new IM(i._databaseId,!!e.ignoreUndefinedProperties,t)}function NM(i,e,t,s,o,u={}){const d=i.ju(u.merge||u.mergeFields?2:0,e,t,o);Dy("Data must be an object, but it was:",d,s);const f=LS(s,d);let p,g;if(u.merge)p=new Dn(d.fieldMask),g=d.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const x=xg(e,T,t);if(!d.contains(x))throw new de(ee.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);zS(b,x)||b.push(x)}p=new Dn(b),g=d.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=d.fieldTransforms;return new CM(new Tn(f),p,g)}class pf extends mf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pf}}class Ny extends mf{_toFieldTransform(e){return new EO(e.path,new cc)}isEqual(e){return e instanceof Ny}}function DM(i,e,t,s){const o=i.ju(1,e,t);Dy("Data must be an object, but it was:",o,s);const u=[],d=Tn.empty();$s(s,(p,g)=>{const b=Oy(e,p,t);g=kt(g);const T=o.Ku(b);if(g instanceof pf)u.push(b);else{const x=Dc(g,T);x!=null&&(u.push(b),d.set(b,x))}});const f=new Dn(u);return new kS(d,f,o.fieldTransforms)}function OM(i,e,t,s,o,u){const d=i.ju(1,e,t),f=[xg(e,s,t)],p=[o];if(u.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)f.push(xg(e,u[x])),p.push(u[x+1]);const g=[],b=Tn.empty();for(let x=f.length-1;x>=0;--x)if(!zS(g,f[x])){const N=f[x];let M=p[x];M=kt(M);const F=d.Ku(N);if(M instanceof pf)g.push(N);else{const O=Dc(M,F);O!=null&&(g.push(N),b.set(N,O))}}const T=new Dn(g);return new kS(b,T,d.fieldTransforms)}function MM(i,e,t,s=!1){return Dc(t,i.ju(s?4:3,e))}function Dc(i,e){if(US(i=kt(i)))return Dy("Unsupported field value:",e,i),LS(i,e);if(i instanceof mf)return function(s,o){if(!jS(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let d=0;for(const f of s){let p=Dc(f,o.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),d++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Pt.fromDate(s);return{timestampValue:qd(o.serializer,u)}}if(s instanceof Pt){const u=new Pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:qd(o.serializer,u)}}if(s instanceof xy)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yl)return{bytesValue:eS(o.serializer,s._byteString)};if(s instanceof wn){const u=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ry)return function(d,f){return{mapValue:{fields:{[Iw]:{stringValue:Nw},[Ld]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw f.Wu("VectorValues must only contain numeric values.");return oy(f.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${hf(s)}`)}(i,e)}function LS(i,e){const t={};return ww(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(i,(s,o)=>{const u=Dc(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function US(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Pt||i instanceof xy||i instanceof yl||i instanceof wn||i instanceof mf||i instanceof Ry)}function Dy(i,e,t){if(!US(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=hf(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function xg(i,e,t){if((e=kt(e))instanceof ff)return e._internalPath;if(typeof e=="string")return Oy(i,e);throw Gd("Field path arguments must be of type string or ",i,!1,void 0,t)}const PM=new RegExp("[~\\*/\\[\\]]");function Oy(i,e,t){if(e.search(PM)>=0)throw Gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new ff(...e.split("."))._internalPath}catch{throw Gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Gd(i,e,t,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(u||d)&&(p+=" (found",u&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new de(ee.INVALID_ARGUMENT,f+i+p)}function zS(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class VM extends qS{data(){return super.data()}}function gf(i,e){return typeof e=="string"?Oy(i,e):e instanceof ff?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class My{}class BS extends My{}function Rg(i,e,...t){let s=[];e instanceof My&&s.push(e),s=s.concat(t),function(u){const d=u.filter(p=>p instanceof Py).length,f=u.filter(p=>p instanceof yf).length;if(d>1||d>0&&f>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class yf extends BS{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new yf(e,t,s)}_apply(e){const t=this._parse(e);return FS(e._query,t),new Ya(e.firestore,e.converter,pg(e._query,t))}_parse(e){const t=Iy(e.firestore);return function(u,d,f,p,g,b,T){let x;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Lb(T,b);const M=[];for(const F of T)M.push(jb(p,u,F));x={arrayValue:{values:M}}}else x=jb(p,u,T)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Lb(T,b),x=MM(f,d,T,b==="in"||b==="not-in");return At.create(g,b,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function jM(i,e,t){const s=e,o=gf("where",i);return yf._create(o,s,t)}class Py extends My{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Py(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let d=o;const f=u.getFlattenedFilters();for(const p of f)FS(d,p),d=pg(d,p)}(e._query,t),new Ya(e.firestore,e.converter,pg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vy extends BS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Vy(e,t)}_apply(e){const t=function(o,u,d){if(o.startAt!==null)throw new de(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uc(u,d)}(e._query,this._field,this._direction);return new Ya(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new Cl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Cg(i,e="asc"){const t=e,s=gf("orderBy",i);return Vy._create(s,t)}function jb(i,e,t){if(typeof(t=kt(t))=="string"){if(t==="")throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lw(e)&&t.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(rt.fromString(t));if(!_e.isDocumentKey(s))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return JE(i,new _e(s))}if(t instanceof wn)return JE(i,t._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(t)}.`)}function Lb(i,e){if(!Array.isArray(i)||i.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FS(i,e){const t=function(o,u){for(const d of o)for(const f of d.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class LM{convertValue(e,t="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return $s(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ld].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>vt(d.doubleValue));return new Ry(u)}convertGeoPoint(e){return new xy(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=tf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const t=qs(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=rt.fromString(e);We(aS(s));const o=new oc(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(t)||Ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HS extends qS{constructor(e,t,s,o,u,d){super(e,t,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(gf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class wd extends HS{data(e={}){return super.data(e)}}class zM{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ku(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new wd(this._firestore,this._userDataWriter,s.key,s,new Ku(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(f=>{const p=new wd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ku(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||f.type!==3).map(f=>{const p=new wd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ku(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return f.type!==0&&(g=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),f.type!==1&&(d=d.add(f.doc),b=d.indexOf(f.doc.key)),{type:qM(f.type),doc:p,oldIndex:g,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function qM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(i){i=Dr(i,wn);const e=Dr(i.firestore,Nl);return bM(Ay(e),i._key).then(t=>FM(e,i,t))}class GS extends LM{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function fc(i){i=Dr(i,Ya);const e=Dr(i.firestore,Nl),t=Ay(e),s=new GS(e);return kM(i._query),TM(t,i._query).then(o=>new zM(e,s,i,o))}function ky(i,e,t,...s){i=Dr(i,wn);const o=Dr(i.firestore,Nl),u=Iy(o);let d;return d=typeof(e=kt(e))=="string"||e instanceof ff?OM(u,"updateDoc",i._key,e,t,s):DM(u,"updateDoc",i._key,e),jy(o,[d.toMutation(i._key,oi.exists(!0))])}function BM(i){return jy(Dr(i.firestore,Nl),[new ly(i._key,oi.none())])}function Qd(i,e){const t=Dr(i.firestore,Nl),s=Ui(i),o=UM(i.converter,e);return jy(t,[NM(Iy(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,oi.exists(!1))]).then(()=>s)}function jy(i,e){return function(s,o){const u=new Sr;return s.asyncQueue.enqueueAndForget(async()=>uM(await EM(s),o,u)),u.promise}(Ay(i),e)}function FM(i,e,t){const s=t.docs.get(e._key),o=new GS(i);return new HS(i,o,e._key,s,new Ku(t.hasPendingWrites,t.fromCache),e.converter)}function Lp(){return new Ny("serverTimestamp")}(function(e,t=!0){(function(o){Al=o})(wl),cl(new Ba("firestore",(s,{instanceIdentifier:o,options:u})=>{const d=s.getProvider("app").getImmediate(),f=new Nl(new OD(s.getProvider("auth-internal")),new VD(d,s.getProvider("app-check-internal")),function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(g.options.projectId,b)}(d,o),d);return u=Object.assign({useFetchStreams:t},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),ks(BE,FE,e),ks(BE,FE,"esm2017")})();var HM="firebase",GM="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(HM,GM,"app");const QM={apiKey:"AIzaSyBnSzwdUInkRp1w8osYBuEIhXw-rlvtLiQ",authDomain:"lalathebeadmaker-admin.firebaseapp.com",projectId:"lalathebeadmaker-admin",storageBucket:"lalathebeadmaker-admin.firebasestorage.app",messagingSenderId:"348774121390",appId:"1:348774121390:web:f04db5d41a2fe659c4123f",measurementId:"G-S12DCNVE6H"},QS=DT(QM),zu=CD(QS),Gt=AM(QS),KS=Q.createContext(void 0);function KM({children:i}){const[e,t]=Q.useState(null),[s,o]=Q.useState(!0);Q.useEffect(()=>gN(zu,async g=>{try{if(g){const b=await Ju(Ui(Gt,"users",g.uid));if(b.exists()){const T=b.data();t(T)}o(!1)}else{console.log("No user found, signing in anonymously");const b=await oN(zu),T=await Ju(Ui(Gt,"users",b.user.uid));T.exists()&&t(T.data()),o(!1)}}catch(b){console.error("Error in auth state change:",b),o(!1)}}),[]);const u=async(p,g)=>{try{await fN(zu,Wg);const b=await dN(zu,p,g),T=await Ju(Ui(Gt,"users",b.user.uid));T.exists()?t(T.data()):t(null),o(!1)}catch(b){throw console.error("Error during sign in:",b),b}},d=async()=>{await yN(zu),t(null)},f=(e==null?void 0:e.role)==="admin";return v.jsx(KS.Provider,{value:{user:e,loading:s,signIn:u,signOut:d,isAdmin:f},children:i})}function Oc(){const i=Q.useContext(KS);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}function ys({children:i}){const{user:e,loading:t}=Oc(),s=qi();return t?v.jsx("div",{className:"flex h-screen items-center justify-center",children:v.jsx("div",{className:"text-lg text-gray-600",children:"Loading..."})}):e?v.jsx(v.Fragment,{children:i}):v.jsx(bR,{to:"/signin",state:{from:s},replace:!0})}function vs({children:i}){var N;const{user:e,signOut:t}=Oc(),s=qi(),[o,u]=Q.useState(!1),[d,f]=Q.useState(!1),p=Q.useRef(null),g=()=>{u(!o)},b=()=>{f(!d)};Q.useEffect(()=>{u(!1)},[s]),Q.useEffect(()=>{function M(F){p.current&&!p.current.contains(F.target)&&f(!1)}return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]);const T=M=>s.pathname===M,x=[{path:"/",label:"Dashboard"},{path:"/products",label:"Products"},{path:"/purchases",label:"Purchases"},{path:"/raw-materials",label:"Raw Materials"},{path:"/orders",label:"Orders"},{path:"/shipping",label:"Shipping"}];return v.jsxs("div",{className:"min-h-screen",children:[v.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col",children:v.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-gray-200 bg-white px-6 pb-4",children:[v.jsx("div",{className:"flex h-16 shrink-0 items-center",children:v.jsx("span",{className:"text-lg font-bold text-primary",children:"Lala The Beadmaker"})}),v.jsx("nav",{className:"flex flex-1 flex-col",children:v.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:v.jsx("li",{children:v.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:x.map(M=>v.jsx("li",{children:v.jsx(Ad,{to:M.path,className:`group flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6 ${T(M.path)?"bg-primary-50 text-primary":"text-gray-700 hover:bg-gray-50 hover:text-primary"}`,children:M.label})},M.path))})})})})]})}),v.jsxs("div",{className:"sticky top-0 z-40 flex items-center gap-x-6 bg-white px-4 py-4 shadow-sm sm:px-6 lg:hidden",children:[v.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:g,children:[v.jsx("span",{className:"sr-only",children:"Open sidebar"}),v.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})]}),v.jsx("div",{className:"flex-1",children:v.jsx("span",{className:"text-lg font-bold text-primary",children:"Lala The Beadmaker"})}),v.jsxs("div",{ref:p,className:"relative",children:[v.jsx("button",{type:"button",className:"flex items-center gap-x-1 text-sm font-semibold leading-6 text-gray-900",onClick:b,children:v.jsx("span",{className:"h-8 w-8 rounded-full bg-primary-50 flex items-center justify-center",children:v.jsx("span",{className:"text-primary font-medium text-sm",children:((N=e==null?void 0:e.email)==null?void 0:N.charAt(0).toUpperCase())||"U"})})}),d&&v.jsx("div",{className:"absolute right-0 mt-2.5 w-32 origin-top-right rounded-md bg-white py-2 shadow-lg ring-1 ring-gray-900/5 focus:outline-none",children:v.jsx("button",{onClick:()=>{t(),f(!1)},className:"block w-full px-3 py-1 text-left text-sm leading-6 text-gray-900 hover:bg-gray-50",children:"Sign out"})})]})]}),v.jsxs("div",{className:`relative lg:hidden ${o?"":"pointer-events-none"}`,children:[v.jsx("div",{className:`fixed inset-0 bg-gray-900/80 backdrop-blur-sm transition-opacity duration-300 ${o?"opacity-100":"opacity-0"}`,onClick:g}),v.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-white transform transition duration-300 ease-in-out ${o?"translate-x-0":"-translate-x-full"}`,children:[v.jsxs("div",{className:"flex h-16 shrink-0 items-center gap-x-6 px-6 border-b border-gray-200",children:[v.jsx("span",{className:"text-lg font-bold text-primary",children:"Menu"}),v.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700",onClick:g,children:[v.jsx("span",{className:"sr-only",children:"Close sidebar"}),v.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]})]}),v.jsx("nav",{className:"flex flex-1 flex-col px-6 pt-4",children:v.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-4",children:x.map(M=>v.jsx("li",{children:v.jsx(Ad,{to:M.path,className:`group flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6 ${T(M.path)?"bg-primary-50 text-primary":"text-gray-700 hover:bg-gray-50 hover:text-primary"}`,children:M.label})},M.path))})})]})]}),v.jsx("div",{className:"lg:pl-72",children:v.jsx("main",{className:"py-10",children:v.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:i})})})]})}function $M(){const[i,e]=Q.useState(""),[t,s]=Q.useState(""),[o,u]=Q.useState(""),[d,f]=Q.useState(!1),p=bl(),{signIn:g}=Oc(),b=async T=>{T.preventDefault(),u(""),f(!0);try{await g(i,t),p("/")}catch{u("Failed to sign in. Please check your credentials.")}finally{f(!1)}};return v.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:v.jsxs("div",{className:"w-full max-w-md mx-auto px-6 py-12",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("img",{className:"w-20 h-auto mx-auto",src:"https://lalathebeadmaker.com/wp-content/uploads/2023/08/IMG_4222.jpg",alt:"Your Company"}),v.jsx("h2",{className:"mt-10 text-center text-2xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"})]}),v.jsx("div",{className:"mt-10 w-full",children:v.jsxs("form",{className:"space-y-6 w-full",onSubmit:b,children:[v.jsxs("div",{className:"w-full",children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900",children:"Email address"}),v.jsx("div",{className:"mt-2",children:v.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:T=>e(T.target.value),className:"block w-full rounded-md border-0 px-3 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-[#6A7861] sm:text-sm"})})]}),v.jsxs("div",{className:"w-full",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-900",children:"Password"}),v.jsx("div",{className:"text-sm",children:v.jsx("a",{href:"#",className:"font-semibold text-[#6A7861] hover:text-[#5a6852]",children:"Forgot password?"})})]}),v.jsx("div",{className:"mt-2",children:v.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:T=>s(T.target.value),className:"block w-full rounded-md border-0 px-3 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-[#6A7861] sm:text-sm"})})]}),o&&v.jsx("div",{className:"rounded-md bg-red-50 p-4",children:v.jsxs("div",{className:"flex",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),v.jsx("div",{className:"ml-3",children:v.jsx("h3",{className:"text-sm font-medium text-red-800",children:o})})]})}),v.jsx("div",{children:v.jsx("button",{type:"submit",disabled:d,className:"flex w-full justify-center rounded-md px-4 py-3.5 text-base font-bold shadow-lg lala-btn",children:d?"Signing in...":"Sign in"})})]})})]})})}function YM(){return v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"}),v.jsx("div",{className:"mt-6 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"})]})}const ud={async getProducts(){return(await fc(br(Gt,"products"))).docs.map(e=>({id:e.id,...e.data()}))},async getProduct(i){const e=Ui(Gt,"products",i),t=await Ju(e);return t.exists()?{id:t.id,...t.data()}:null},async addProduct(i){return(await Qd(br(Gt,"products"),i)).id},async updateProduct(i,e){const t=Ui(Gt,"products",i);await ky(t,e)},async deleteProduct(i){const e=Ui(Gt,"products",i);await BM(e)}};function $S(){const i=Ec(),{data:e=[],isLoading:t}=Cd({queryKey:["products"],queryFn:ud.getProducts}),s=La({mutationFn:d=>ud.addProduct(d),onSuccess:()=>{i.invalidateQueries({queryKey:["products"]})}}),o=La({mutationFn:({id:d,product:f})=>ud.updateProduct(d,f),onSuccess:()=>{i.invalidateQueries({queryKey:["products"]})}}),u=La({mutationFn:d=>ud.deleteProduct(d),onSuccess:()=>{i.invalidateQueries({queryKey:["products"]})}});return{products:e,isLoading:t,addProduct:s.mutate,updateProduct:o.mutate,deleteProduct:u.mutate,isAdding:s.isPending,isUpdating:o.isPending,isDeleting:u.isPending}}const cd={async getRawMaterials(){return(await fc(br(Gt,"rawMaterials"))).docs.map(e=>({id:e.id,...e.data()}))},async getRawMaterialPurchases(){return(await fc(Rg(br(Gt,"rawMaterialPurchases"),Cg("purchaseDate","desc")))).docs.map(e=>({id:e.id,...e.data()}))},async addRawMaterialPurchase(i){const e=await Qd(br(Gt,"rawMaterialPurchases"),{...i,purchaseDate:Lp()}),t=Ui(Gt,"rawMaterials",i.materialId);return await ky(t,{lastPurchasePrice:i.price,lastPurchaseDate:Lp()}),e.id},async addRawMaterial(i){return(await Qd(br(Gt,"rawMaterials"),{...i,lastPurchaseDate:Lp()})).id}};function vf(){const i=Ec(),{data:e=[],isLoading:t}=Cd({queryKey:["rawMaterials"],queryFn:cd.getRawMaterials}),{data:s=[],isLoading:o}=Cd({queryKey:["rawMaterialPurchases"],queryFn:cd.getRawMaterialPurchases}),u=La({mutationFn:f=>cd.addRawMaterialPurchase(f),onSuccess:()=>{i.invalidateQueries({queryKey:["rawMaterialPurchases"]}),i.invalidateQueries({queryKey:["rawMaterials"]})}}),d=La({mutationFn:f=>cd.addRawMaterial(f),onSuccess:()=>{i.invalidateQueries({queryKey:["rawMaterials"]})}});return{materials:e,purchases:s,isLoading:t||o,addPurchase:u.mutate,addMaterial:d.mutate,isAddingPurchase:u.isPending,isAddingMaterial:d.isPending}}function XM(){const{isAdmin:i}=Oc(),e=bl(),{products:t,isLoading:s,addProduct:o,isAdding:u}=$S(),{materials:d}=vf(),[f,p]=Q.useState(!1),[g,b]=Q.useState({name:"",description:"",baseCost:0,materials:[]}),[T,x]=Q.useState({materialId:"",quantity:0}),N=()=>{T.quantity>0&&T.materialId&&(b({...g,materials:[...g.materials,T]}),x({materialId:"",quantity:0}))},M=O=>{b({...g,materials:g.materials.filter((G,Y)=>Y!==O)})},F=async O=>{O.preventDefault(),await o(g),p(!1),b({name:"",description:"",baseCost:0,materials:[]})};return s?v.jsx("div",{children:"Loading..."}):v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Products"}),i&&v.jsx("button",{onClick:()=>p(!0),className:"rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600",children:"Add Product"})]}),f&&v.jsxs("div",{className:"bg-white shadow sm:rounded-lg p-6",children:[v.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Product"}),v.jsxs("form",{onSubmit:F,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Product Name"}),v.jsx("input",{type:"text",id:"name",value:g.name,onChange:O=>b({...g,name:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),v.jsx("textarea",{id:"description",value:g.description,onChange:O=>b({...g,description:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0,rows:3})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"baseCost",className:"block text-sm font-medium text-gray-700",children:"Base Cost"}),v.jsx("input",{type:"number",id:"baseCost",value:g.baseCost,onChange:O=>b({...g,baseCost:Number(O.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0,min:"0",step:"0.01"})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Materials"}),v.jsxs("div",{className:"flex space-x-4",children:[v.jsxs("select",{value:T.materialId,onChange:O=>x({...T,materialId:O.target.value}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[v.jsx("option",{value:"",children:"Select a material"}),d.map(O=>v.jsxs("option",{value:O.id,children:[O.name," (",O.unit,")"]},O.id))]}),v.jsx("input",{type:"number",value:T.quantity,onChange:O=>x({...T,quantity:Number(O.target.value)}),className:"block w-32 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Quantity",min:"0",step:"0.01"}),v.jsx("button",{type:"button",onClick:N,className:"rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500",children:"Add"})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected Materials"}),v.jsx("ul",{className:"space-y-2",children:g.materials.map((O,G)=>{const Y=d.find(X=>X.id===O.materialId);return v.jsxs("li",{className:"flex items-center justify-between text-sm",children:[v.jsxs("span",{children:[Y==null?void 0:Y.name," - ",O.quantity," ",Y==null?void 0:Y.unit]}),v.jsx("button",{type:"button",onClick:()=>M(G),className:"text-red-600 hover:text-red-800",children:"Remove"})]},G)})})]})]}),v.jsxs("div",{className:"flex justify-end space-x-3",children:[v.jsx("button",{type:"button",onClick:()=>p(!1),className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:"Cancel"}),v.jsx("button",{type:"submit",disabled:u,className:"rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600 disabled:opacity-50",children:u?"Adding...":"Add Product"})]})]})]}),v.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:v.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[v.jsx("h3",{className:"text-base font-semibold leading-6 text-gray-900",children:"Products List"}),v.jsx("div",{className:"mt-6 flow-root",children:v.jsx("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:v.jsx("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Name"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Description"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Base Cost"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Materials"}),v.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:v.jsx("span",{className:"sr-only",children:"Actions"})})]})}),v.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(O=>v.jsxs("tr",{children:[v.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:O.name}),v.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:O.description}),v.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:O.baseCost}),v.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:[O.materials.length," materials"]}),v.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:v.jsx("button",{onClick:()=>e(`/products/${O.id}`),className:"text-primary-600 hover:text-primary-900",children:"View"})})]},O.id))})]})})})})]})})]})}function WM(){const{id:i}=oR(),{isAdmin:e}=Oc(),{products:t,isLoading:s,updateProduct:o,isUpdating:u}=$S(),{materials:d}=vf(),[f,p]=Q.useState(!1),[g,b]=Q.useState({name:"",description:"",baseCost:0,materials:[]}),T=t.find(G=>G.id===i);if(s)return v.jsx("div",{children:"Loading..."});if(!T)return v.jsx("div",{children:"Product not found"});const N=()=>{b(T),p(!0)},M=async()=>{i&&(await o({id:i,product:g}),p(!1))},F=()=>{p(!1),b(T)},O=()=>T.materials.reduce((Y,X)=>{const oe=d.find(se=>se.id===X.materialId);return oe?Y+oe.lastPurchasePrice*X.quantity:Y},0)+T.baseCost;return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Product Details"}),e&&v.jsx("div",{className:"flex space-x-3",children:f?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:F,className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:"Cancel"}),v.jsx("button",{onClick:M,disabled:u,className:"rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600 disabled:opacity-50",children:u?"Saving...":"Save Changes"})]}):v.jsx("button",{onClick:N,className:"rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600",children:"Edit Product"})})]}),v.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:v.jsx("div",{className:"px-4 py-5 sm:p-6",children:v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Basic Information"}),v.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Product Name"}),f?v.jsx("input",{type:"text",id:"name",value:g.name,onChange:G=>b({...g,name:G.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"}):v.jsx("p",{className:"mt-1 text-sm text-gray-900",children:T.name})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"baseCost",className:"block text-sm font-medium text-gray-700",children:"Base Cost"}),f?v.jsx("input",{type:"number",id:"baseCost",value:g.baseCost,onChange:G=>b({...g,baseCost:Number(G.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",min:"0",step:"0.01"}):v.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["$",T.baseCost.toFixed(2)]})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),f?v.jsx("textarea",{id:"description",value:g.description,onChange:G=>b({...g,description:G.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"}):v.jsx("p",{className:"mt-1 text-sm text-gray-900",children:T.description})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Materials"}),v.jsx("div",{className:"mt-4",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Material"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Quantity"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Unit Price"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Total Cost"})]})}),v.jsx("tbody",{className:"divide-y divide-gray-200",children:T.materials.map(G=>{const Y=d.find(se=>se.id===G.materialId),X=(Y==null?void 0:Y.lastPurchasePrice)||0,oe=X*G.quantity;return v.jsxs("tr",{children:[v.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:(Y==null?void 0:Y.name)||"Unknown Material"}),v.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:[G.quantity," ",Y==null?void 0:Y.unit]}),v.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:["$",X.toFixed(2)]}),v.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:["$",oe.toFixed(2)]})]},G.materialId)})})]})})]}),v.jsx("div",{className:"border-t border-gray-200 pt-4",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Cost Summary"}),v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"text-sm text-gray-500",children:["Materials Cost: $",(O()-T.baseCost).toFixed(2)]}),v.jsxs("p",{className:"text-sm text-gray-500",children:["Base Cost: $",T.baseCost.toFixed(2)]}),v.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["Total Cost: $",O().toFixed(2)]})]})]})})]})})})]})}function ZM(){const{materials:i,purchases:e,isLoading:t,addPurchase:s,isAddingPurchase:o}=vf(),[u,d]=Q.useState(!1),[f,p]=Q.useState({materialId:"",quantity:0,price:0,purchaseDate:new Date,purchasedBy:""}),g=async T=>{if(T.preventDefault(),f.materialId&&f.quantity&&f.price&&f.purchasedBy){const x={materialId:f.materialId,quantity:f.quantity,price:f.price,purchaseDate:f.purchaseDate||new Date,purchasedBy:f.purchasedBy};await s(x),p({materialId:"",quantity:0,price:0,purchaseDate:new Date,purchasedBy:""}),d(!1)}},b=T=>{const x=i.find(N=>N.id===T);return x?x.name:"Unknown Material"};return t?v.jsx("div",{className:"py-6 flex justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-[#6A7861] border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),v.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading purchases..."})]})}):v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Purchases"}),v.jsx("button",{onClick:()=>d(!u),className:"btn",children:u?"Cancel":"Record Purchase"})]}),u&&v.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:v.jsx("div",{className:"px-4 py-5 sm:p-6",children:v.jsxs("form",{onSubmit:g,className:"space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"materialId",className:"block text-sm font-medium text-gray-700",children:"Material"}),v.jsxs("select",{id:"materialId",value:f.materialId,onChange:T=>p({...f,materialId:T.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0,children:[v.jsx("option",{value:"",children:"Select a material"}),i.map(T=>v.jsx("option",{value:T.id,children:T.name},T.id))]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantity"}),v.jsx("input",{type:"number",id:"quantity",value:f.quantity,onChange:T=>p({...f,quantity:Number(T.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",min:"1",step:"1",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Price per Unit (Naira)"}),v.jsx("input",{type:"number",id:"price",value:f.price,onChange:T=>p({...f,price:Number(T.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",min:"1",step:"1",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"purchaseDate",className:"block text-sm font-medium text-gray-700",children:"Purchase Date"}),v.jsx("input",{type:"date",id:"purchaseDate",value:f.purchaseDate?new Date(f.purchaseDate).toISOString().split("T")[0]:"",onChange:T=>p({...f,purchaseDate:new Date(T.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"purchasedBy",className:"block text-sm font-medium text-gray-700",children:"Purchased By"}),v.jsx("input",{type:"text",id:"purchasedBy",value:f.purchasedBy,onChange:T=>p({...f,purchasedBy:T.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"totalCost",className:"block text-sm font-medium text-gray-700",children:"Total Cost"}),v.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[v.jsx("span",{className:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-50 px-3 text-gray-500 sm:text-sm",children:""}),v.jsx("input",{type:"text",id:"totalCost",value:((f.price||0)*(f.quantity||0)).toLocaleString(),readOnly:!0,className:"block w-full rounded-none rounded-r-md border-gray-300 bg-gray-50 text-gray-500 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm"})]})]})]}),v.jsx("div",{className:"flex justify-end",children:v.jsx("button",{type:"submit",disabled:o,className:"btn",children:o?"Recording...":"Record Purchase"})})]})})}),v.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:v.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[v.jsx("h3",{className:"text-base font-semibold leading-6 text-gray-900 mb-4",children:"Purchase History"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Material"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Quantity"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Price per Unit"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Total Cost"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Purchase Date"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Purchased By"})]})}),v.jsxs("tbody",{className:"divide-y divide-gray-200",children:[e.map(T=>v.jsxs("tr",{children:[v.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:b(T.materialId)}),v.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:T.quantity}),v.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:T.price.toLocaleString("en-NG",{style:"currency",currency:"NGN"})}),v.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:(T.price*T.quantity).toLocaleString("en-NG",{style:"currency",currency:"NGN"})}),v.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:new Date(T.purchaseDate).toLocaleDateString()}),v.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:T.purchasedBy})]},T.id)),e.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:6,className:"px-3 py-4 text-sm text-center text-gray-500",children:'No purchase history found. Record your first purchase using the "Record Purchase" button.'})})]})]})})]})})]})}function JM(){const{materials:i,isLoading:e,addMaterial:t,isAddingMaterial:s}=vf(),[o,u]=Q.useState(!1),[d,f]=Q.useState({name:"",unit:"",currentQuantity:0,lastPurchasePrice:0,lastPurchaseDate:new Date}),p=async g=>{if(g.preventDefault(),d.name&&d.unit){const b={name:d.name,unit:d.unit,currentQuantity:d.currentQuantity||0,lastPurchasePrice:d.lastPurchasePrice||0,lastPurchaseDate:d.lastPurchaseDate||new Date,purchaseHistory:[]};await t(b),f({name:"",unit:"",currentQuantity:0,lastPurchasePrice:0,lastPurchaseDate:new Date,purchaseHistory:[]}),u(!1)}};return e?v.jsx("div",{className:"py-6 flex justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-[#6A7861] border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),v.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading materials..."})]})}):v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Raw Materials"}),v.jsx("button",{onClick:()=>u(!o),className:"btn lala-btn justify-center px-1 py-1",children:o?"Cancel":"Add Material"})]}),o&&v.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:v.jsx("div",{className:"px-4 py-5 sm:p-6",children:v.jsxs("form",{onSubmit:p,className:"space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Material Name"}),v.jsx("input",{type:"text",id:"name",value:d.name,onChange:g=>f({...d,name:g.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700",children:"Unit of Measurement"}),v.jsx("input",{type:"text",id:"unit",value:d.unit,onChange:g=>f({...d,unit:g.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0,placeholder:"e.g., pack, piece, meter"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantity Available"}),v.jsx("input",{type:"number",id:"quantity",value:d.currentQuantity,onChange:g=>f({...d,currentQuantity:Number(g.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",min:"0",step:"1"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Last Purchase Price (Naira)"}),v.jsx("input",{type:"number",id:"price",value:d.lastPurchasePrice,onChange:g=>f({...d,lastPurchasePrice:Number(g.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",min:"0",step:"1"})]})]}),v.jsx("div",{className:"flex justify-end",children:v.jsx("button",{type:"submit",disabled:s,className:"btn lala-btn",children:s?"Adding...":"Add Material"})})]})})}),v.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:v.jsx("div",{className:"px-4 py-5 sm:p-6",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Material Name"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Unit"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Quantity Available"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Last Purchase Price (Naira)"})]})}),v.jsxs("tbody",{className:"divide-y divide-gray-200",children:[i.map(g=>v.jsxs("tr",{children:[v.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:g.name}),v.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:g.unit}),v.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:g.currentQuantity}),v.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:g.lastPurchasePrice.toLocaleString("en-NG",{style:"currency",currency:"NGN"})})]},g.id)),i.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:4,className:"px-3 py-4 text-sm text-center text-gray-500",children:'No raw materials found. Add your first material using the "Add Material" button.'})})]})]})})})})]})}const Up={async getOrders(){return(await fc(Rg(br(Gt,"orders"),Cg("orderDate","desc")))).docs.map(e=>({id:e.id,...e.data()}))},async getOrder(i){const e=Ui(Gt,"orders",i),t=await Ju(e);return t.exists()?{id:t.id,...t.data()}:null},async addOrder(i){return(await Qd(br(Gt,"orders"),i)).id},async updateOrderStatus(i,e){const t=Ui(Gt,"orders",i);await ky(t,{status:e})},async getOrdersByStatus(i){return(await fc(Rg(br(Gt,"orders"),jM("status","==",i),Cg("orderDate","desc")))).docs.map(t=>({id:t.id,...t.data()}))}};function YS(){const i=Ec(),{data:e=[],isLoading:t}=Cd({queryKey:["orders"],queryFn:Up.getOrders}),s=La({mutationFn:u=>Up.addOrder(u),onSuccess:()=>{i.invalidateQueries({queryKey:["orders"]})}}),o=La({mutationFn:({id:u,status:d})=>Up.updateOrderStatus(u,d),onSuccess:()=>{i.invalidateQueries({queryKey:["orders"]})}});return{orders:e,isLoading:t,addOrder:s.mutate,updateOrderStatus:o.mutate,isAdding:s.isPending,isUpdating:o.isPending}}function eP(){const i=bl(),{orders:e,isLoading:t,updateOrderStatus:s,isUpdating:o}=YS(),[u,d]=Q.useState("all"),f=u==="all"?e:e.filter(g=>g.status===u),p=async(g,b)=>{try{await s({id:g,status:b})}catch(T){console.error("Failed to update order status:",T)}};return t?v.jsx("div",{children:"Loading..."}):v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Orders"}),v.jsx("div",{className:"flex items-center space-x-4",children:v.jsxs("select",{value:u,onChange:g=>d(g.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",children:[v.jsx("option",{value:"all",children:"All Orders"}),v.jsx("option",{value:"pending",children:"Pending"}),v.jsx("option",{value:"processing",children:"Processing"}),v.jsx("option",{value:"shipped",children:"Shipped"}),v.jsx("option",{value:"delivered",children:"Delivered"}),v.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]}),v.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:v.jsx("div",{className:"px-4 py-5 sm:p-6",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Order ID"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Customer"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Items"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Total"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Date"}),v.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:v.jsx("span",{className:"sr-only",children:"Actions"})})]})}),v.jsx("tbody",{className:"divide-y divide-gray-200",children:f.map(g=>v.jsxs("tr",{children:[v.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:g.id}),v.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:g.customerName}),v.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:[g.items.length," items"]}),v.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:["$",g.totalAmount.toFixed(2)]}),v.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:v.jsxs("select",{value:g.status,onChange:b=>p(g.id,b.target.value),disabled:o,className:"rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",children:[v.jsx("option",{value:"pending",children:"Pending"}),v.jsx("option",{value:"processing",children:"Processing"}),v.jsx("option",{value:"shipped",children:"Shipped"}),v.jsx("option",{value:"delivered",children:"Delivered"}),v.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),v.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:new Date(g.orderDate).toLocaleDateString()}),v.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:v.jsx("button",{onClick:()=>i(`/orders/${g.id}`),className:"text-[#6A7861] hover:text-[#5a6852]",children:"View"})})]},g.id))})]})})})})]})}function tP(){const i=bl(),{orders:e,isLoading:t,updateOrderStatus:s,isUpdating:o}=YS(),[u,d]=Q.useState("processing"),f=u==="all"?e:e.filter(g=>g.status===u),p=async(g,b)=>{await s({id:g,status:b})};return t?v.jsx("div",{children:"Loading..."}):v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Shipping"}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("label",{htmlFor:"status",className:"text-sm font-medium text-gray-700",children:"Filter by status:"}),v.jsxs("select",{id:"status",value:u,onChange:g=>d(g.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",children:[v.jsx("option",{value:"all",children:"All Orders"}),v.jsx("option",{value:"processing",children:"Processing"}),v.jsx("option",{value:"shipped",children:"Shipped"}),v.jsx("option",{value:"delivered",children:"Delivered"}),v.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),v.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:v.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[v.jsx("h3",{className:"text-base font-semibold leading-6 text-gray-900",children:"Shipping Queue"}),v.jsx("div",{className:"mt-6 flow-root",children:v.jsx("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:v.jsx("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Order ID"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Customer"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Shipping Address"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),v.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Order Date"}),v.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:v.jsx("span",{className:"sr-only",children:"Actions"})})]})}),v.jsx("tbody",{className:"divide-y divide-gray-200",children:f.map(g=>v.jsxs("tr",{children:[v.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:g.id}),v.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:g.customerName}),v.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:[g.shippingAddress.street,", ",g.shippingAddress.city,", ",g.shippingAddress.state," ",g.shippingAddress.zipCode]}),v.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:v.jsxs("select",{value:g.status,onChange:b=>p(g.id,b.target.value),disabled:o,className:"rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm disabled:opacity-50",children:[v.jsx("option",{value:"processing",children:"Processing"}),v.jsx("option",{value:"shipped",children:"Shipped"}),v.jsx("option",{value:"delivered",children:"Delivered"}),v.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),v.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:new Date(g.orderDate).toLocaleDateString()}),v.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:v.jsx("button",{onClick:()=>i(`/orders/${g.id}`),className:"text-[#6A7861] hover:text-[#5a6852]",children:"View"})})]},g.id))})]})})})})]})})]})}const nP=()=>v.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Button Examples"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Standard Buttons"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"These are the standard buttons with the sage green theme color."}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("button",{className:"btn",children:"Standard Button"}),v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:v.jsx("code",{children:'className="btn"'})})]}),v.jsxs("div",{children:[v.jsx("button",{className:"btn text-lg py-3 px-6",children:"Large Button"}),v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:v.jsx("code",{children:'className="btn text-lg py-3 px-6"'})})]}),v.jsxs("div",{children:[v.jsx("button",{className:"btn text-xs py-1 px-2",children:"Small Button"}),v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:v.jsx("code",{children:'className="btn text-xs py-1 px-2"'})})]}),v.jsxs("div",{children:[v.jsx("button",{className:"btn",disabled:!0,children:"Disabled Button"}),v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:v.jsx("code",{children:'className="btn" disabled'})})]}),v.jsxs("div",{children:[v.jsx("button",{type:"submit",className:"btn w-full",children:"Submit Button"}),v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:v.jsx("code",{children:'className="btn w-full"'})})]})]})]}),v.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Secondary Buttons"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Secondary buttons also use the sage green theme."}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("button",{className:"btn-secondary",children:"Secondary Button"}),v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:v.jsx("code",{children:'className="btn-secondary"'})})]}),v.jsxs("div",{children:[v.jsx("button",{className:"btn-secondary text-lg py-3 px-6",children:"Large Secondary"}),v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:v.jsx("code",{children:'className="btn-secondary text-lg py-3 px-6"'})})]}),v.jsxs("div",{children:[v.jsx("button",{className:"btn-secondary text-xs py-1 px-2",children:"Small Secondary"}),v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:v.jsx("code",{children:'className="btn-secondary text-xs py-1 px-2"'})})]}),v.jsxs("div",{children:[v.jsx("button",{className:"btn-secondary",disabled:!0,children:"Disabled Secondary"}),v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:v.jsx("code",{children:'className="btn-secondary" disabled'})})]})]})]})]}),v.jsxs("div",{className:"mt-12 bg-white p-6 rounded-lg shadow-md",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Button Usage Guide"}),v.jsxs("div",{className:"prose max-w-none",children:[v.jsx("p",{children:"To use these buttons in your components:"}),v.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Basic Usage"}),v.jsx("pre",{className:"bg-gray-100 p-3 rounded-md overflow-x-auto",children:v.jsx("code",{children:`// Primary button
<button className="btn">Click Me</button>

// Secondary button
<button className="btn-secondary">Click Me</button>`})}),v.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Using Theme Colors Directly"}),v.jsx("pre",{className:"bg-gray-100 p-3 rounded-md overflow-x-auto",children:v.jsx("code",{children:`// Using primary color
<div className="bg-primary text-white">Primary background</div>

// Using a shade of primary
<div className="bg-primary-100">Light primary background</div>
<div className="text-primary-800">Dark primary text</div>`})}),v.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Button Variations"}),v.jsx("pre",{className:"bg-gray-100 p-3 rounded-md overflow-x-auto",children:v.jsx("code",{children:`// Width variations
<button className="btn w-full">Full width button</button>
<button className="btn w-auto">Auto width button</button>

// Size variations
<button className="btn text-xs py-1 px-2">Small button</button>
<button className="btn text-lg py-3 px-6">Large button</button>`})})]})]}),v.jsxs("div",{className:"mt-12 bg-white p-6 rounded-lg shadow-md",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Color Palette Reference"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Here are the available shades of our primary color."}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[v.jsxs("div",{children:[v.jsx("div",{className:"h-16 bg-primary-50 rounded-t-md"}),v.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:v.jsx("code",{className:"text-xs",children:"primary-50"})})]}),v.jsxs("div",{children:[v.jsx("div",{className:"h-16 bg-primary-100 rounded-t-md"}),v.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:v.jsx("code",{className:"text-xs",children:"primary-100"})})]}),v.jsxs("div",{children:[v.jsx("div",{className:"h-16 bg-primary-200 rounded-t-md"}),v.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:v.jsx("code",{className:"text-xs",children:"primary-200"})})]}),v.jsxs("div",{children:[v.jsx("div",{className:"h-16 bg-primary-300 rounded-t-md"}),v.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:v.jsx("code",{className:"text-xs",children:"primary-300"})})]}),v.jsxs("div",{children:[v.jsx("div",{className:"h-16 bg-primary-400 rounded-t-md"}),v.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:v.jsx("code",{className:"text-xs",children:"primary-400"})})]}),v.jsxs("div",{children:[v.jsx("div",{className:"h-16 bg-primary rounded-t-md"}),v.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:v.jsx("code",{className:"text-xs",children:"primary"})})]}),v.jsxs("div",{children:[v.jsx("div",{className:"h-16 bg-primary-600 rounded-t-md"}),v.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:v.jsx("code",{className:"text-xs",children:"primary-600"})})]}),v.jsxs("div",{children:[v.jsx("div",{className:"h-16 bg-primary-700 rounded-t-md"}),v.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:v.jsx("code",{className:"text-xs",children:"primary-700"})})]}),v.jsxs("div",{children:[v.jsx("div",{className:"h-16 bg-primary-800 rounded-t-md"}),v.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:v.jsx("code",{className:"text-xs",children:"primary-800"})})]}),v.jsxs("div",{children:[v.jsx("div",{className:"h-16 bg-primary-900 rounded-t-md"}),v.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:v.jsx("code",{className:"text-xs",children:"primary-900"})})]})]})]})]}),iP=new gC;function rP(){return v.jsx(bC,{client:iP,children:v.jsx(KM,{children:v.jsx(QR,{children:v.jsx("div",{className:"h-full",children:v.jsxs(wR,{children:[v.jsx(Ii,{path:"/signin",element:v.jsx($M,{})}),v.jsx(Ii,{path:"/",element:v.jsx(ys,{children:v.jsx(vs,{children:v.jsx(YM,{})})})}),v.jsx(Ii,{path:"/products",element:v.jsx(ys,{children:v.jsx(vs,{children:v.jsx(XM,{})})})}),v.jsx(Ii,{path:"/products/:id",element:v.jsx(ys,{children:v.jsx(vs,{children:v.jsx(WM,{})})})}),v.jsx(Ii,{path:"/raw-materials",element:v.jsx(ys,{children:v.jsx(vs,{children:v.jsx(JM,{})})})}),v.jsx(Ii,{path:"/purchases",element:v.jsx(ys,{children:v.jsx(vs,{children:v.jsx(ZM,{})})})}),v.jsx(Ii,{path:"/orders",element:v.jsx(ys,{children:v.jsx(vs,{children:v.jsx(eP,{})})})}),v.jsx(Ii,{path:"/shipping",element:v.jsx(ys,{children:v.jsx(vs,{children:v.jsx(tP,{})})})}),v.jsx(Ii,{path:"/button-examples",element:v.jsx(ys,{children:v.jsx(vs,{children:v.jsx(nP,{})})})})]})})})})})}Dx.createRoot(document.getElementById("root")).render(v.jsx(wx.StrictMode,{children:v.jsx(rP,{})}));
