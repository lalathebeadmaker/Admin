var B0=i=>{throw TypeError(i)};var Tp=(i,e,t)=>e.has(i)||B0("Cannot "+t);var j=(i,e,t)=>(Tp(i,e,"read from private field"),t?t.call(i):e.get(i)),be=(i,e,t)=>e.has(i)?B0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),ue=(i,e,t,s)=>(Tp(i,e,"write to private field"),s?s.call(i,t):e.set(i,t),t),De=(i,e,t)=>(Tp(i,e,"access private method"),t);var nd=(i,e,t,s)=>({set _(o){ue(i,e,o,t)},get _(){return j(i,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Zb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var wp={exports:{}},Lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function AS(){if(F0)return Lu;F0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Lu.Fragment=e,Lu.jsx=t,Lu.jsxs=t,Lu}var H0;function SS(){return H0||(H0=1,wp.exports=AS()),wp.exports}var g=SS(),xp={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function RS(){if(G0)return Ne;G0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=T&&k[T]||k["@@iterator"],typeof k=="function"?k:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,L={};function V(k,se,ve){this.props=k,this.context=se,this.refs=L,this.updater=ve||C}V.prototype.isReactComponent={},V.prototype.setState=function(k,se){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,se,"setState")},V.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Q(){}Q.prototype=V.prototype;function Z(k,se,ve){this.props=k,this.context=se,this.refs=L,this.updater=ve||C}var Y=Z.prototype=new Q;Y.constructor=Z,I(Y,V.prototype),Y.isPureReactComponent=!0;var ne=Array.isArray,re={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function P(k,se,ve,ce,he,Ie){return ve=Ie.ref,{$$typeof:i,type:k,key:se,ref:ve!==void 0?ve:null,props:Ie}}function A(k,se){return P(k.type,se,void 0,void 0,void 0,k.props)}function w(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function N(k){var se={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ve){return se[ve]})}var M=/\/+/g;function U(k,se){return typeof k=="object"&&k!==null&&k.key!=null?N(""+k.key):se.toString(36)}function O(){}function it(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(O,O):(k.status="pending",k.then(function(se){k.status==="pending"&&(k.status="fulfilled",k.value=se)},function(se){k.status==="pending"&&(k.status="rejected",k.reason=se)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function tt(k,se,ve,ce,he){var Ie=typeof k;(Ie==="undefined"||Ie==="boolean")&&(k=null);var Ce=!1;if(k===null)Ce=!0;else switch(Ie){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(k.$$typeof){case i:case e:Ce=!0;break;case _:return Ce=k._init,tt(Ce(k._payload),se,ve,ce,he)}}if(Ce)return he=he(k),Ce=ce===""?"."+U(k,0):ce,ne(he)?(ve="",Ce!=null&&(ve=Ce.replace(M,"$&/")+"/"),tt(he,se,ve,"",function(ft){return ft})):he!=null&&(w(he)&&(he=A(he,ve+(he.key==null||k&&k.key===he.key?"":(""+he.key).replace(M,"$&/")+"/")+Ce)),se.push(he)),1;Ce=0;var Tt=ce===""?".":ce+":";if(ne(k))for(var Ge=0;Ge<k.length;Ge++)ce=k[Ge],Ie=Tt+U(ce,Ge),Ce+=tt(ce,se,ve,Ie,he);else if(Ge=x(k),typeof Ge=="function")for(k=Ge.call(k),Ge=0;!(ce=k.next()).done;)ce=ce.value,Ie=Tt+U(ce,Ge++),Ce+=tt(ce,se,ve,Ie,he);else if(Ie==="object"){if(typeof k.then=="function")return tt(it(k),se,ve,ce,he);throw se=String(k),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function le(k,se,ve){if(k==null)return k;var ce=[],he=0;return tt(k,ce,"","",function(Ie){return se.call(ve,Ie,he++)}),ce}function ge(k){if(k._status===-1){var se=k._result;se=se(),se.then(function(ve){(k._status===0||k._status===-1)&&(k._status=1,k._result=ve)},function(ve){(k._status===0||k._status===-1)&&(k._status=2,k._result=ve)}),k._status===-1&&(k._status=0,k._result=se)}if(k._status===1)return k._result.default;throw k._result}var pe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function je(){}return Ne.Children={map:le,forEach:function(k,se,ve){le(k,function(){se.apply(this,arguments)},ve)},count:function(k){var se=0;return le(k,function(){se++}),se},toArray:function(k){return le(k,function(se){return se})||[]},only:function(k){if(!w(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ne.Component=V,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=Z,Ne.StrictMode=s,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Ne.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ne.cache=function(k){return function(){return k.apply(null,arguments)}},Ne.cloneElement=function(k,se,ve){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ce=I({},k.props),he=k.key,Ie=void 0;if(se!=null)for(Ce in se.ref!==void 0&&(Ie=void 0),se.key!==void 0&&(he=""+se.key),se)!oe.call(se,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&se.ref===void 0||(ce[Ce]=se[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=ve;else if(1<Ce){for(var Tt=Array(Ce),Ge=0;Ge<Ce;Ge++)Tt[Ge]=arguments[Ge+2];ce.children=Tt}return P(k.type,he,void 0,void 0,Ie,ce)},Ne.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ne.createElement=function(k,se,ve){var ce,he={},Ie=null;if(se!=null)for(ce in se.key!==void 0&&(Ie=""+se.key),se)oe.call(se,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(he[ce]=se[ce]);var Ce=arguments.length-2;if(Ce===1)he.children=ve;else if(1<Ce){for(var Tt=Array(Ce),Ge=0;Ge<Ce;Ge++)Tt[Ge]=arguments[Ge+2];he.children=Tt}if(k&&k.defaultProps)for(ce in Ce=k.defaultProps,Ce)he[ce]===void 0&&(he[ce]=Ce[ce]);return P(k,Ie,void 0,void 0,null,he)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(k){return{$$typeof:f,render:k}},Ne.isValidElement=w,Ne.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:ge}},Ne.memo=function(k,se){return{$$typeof:y,type:k,compare:se===void 0?null:se}},Ne.startTransition=function(k){var se=re.T,ve={};re.T=ve;try{var ce=k(),he=re.S;he!==null&&he(ve,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(je,pe)}catch(Ie){pe(Ie)}finally{re.T=se}},Ne.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Ne.use=function(k){return re.H.use(k)},Ne.useActionState=function(k,se,ve){return re.H.useActionState(k,se,ve)},Ne.useCallback=function(k,se){return re.H.useCallback(k,se)},Ne.useContext=function(k){return re.H.useContext(k)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(k,se){return re.H.useDeferredValue(k,se)},Ne.useEffect=function(k,se){return re.H.useEffect(k,se)},Ne.useId=function(){return re.H.useId()},Ne.useImperativeHandle=function(k,se,ve){return re.H.useImperativeHandle(k,se,ve)},Ne.useInsertionEffect=function(k,se){return re.H.useInsertionEffect(k,se)},Ne.useLayoutEffect=function(k,se){return re.H.useLayoutEffect(k,se)},Ne.useMemo=function(k,se){return re.H.useMemo(k,se)},Ne.useOptimistic=function(k,se){return re.H.useOptimistic(k,se)},Ne.useReducer=function(k,se,ve){return re.H.useReducer(k,se,ve)},Ne.useRef=function(k){return re.H.useRef(k)},Ne.useState=function(k){return re.H.useState(k)},Ne.useSyncExternalStore=function(k,se,ve){return re.H.useSyncExternalStore(k,se,ve)},Ne.useTransition=function(){return re.H.useTransition()},Ne.version="19.0.0",Ne}var Q0;function Mg(){return Q0||(Q0=1,xp.exports=RS()),xp.exports}var F=Mg();const CS=Zb(F);var Ap={exports:{}},Uu={},Sp={exports:{}},Rp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function NS(){return K0||(K0=1,function(i){function e(le,ge){var pe=le.length;le.push(ge);e:for(;0<pe;){var je=pe-1>>>1,k=le[je];if(0<o(k,ge))le[je]=ge,le[pe]=k,pe=je;else break e}}function t(le){return le.length===0?null:le[0]}function s(le){if(le.length===0)return null;var ge=le[0],pe=le.pop();if(pe!==ge){le[0]=pe;e:for(var je=0,k=le.length,se=k>>>1;je<se;){var ve=2*(je+1)-1,ce=le[ve],he=ve+1,Ie=le[he];if(0>o(ce,pe))he<k&&0>o(Ie,ce)?(le[je]=Ie,le[he]=pe,je=he):(le[je]=ce,le[ve]=pe,je=ve);else if(he<k&&0>o(Ie,pe))le[je]=Ie,le[he]=pe,je=he;else break e}}return ge}function o(le,ge){var pe=le.sortIndex-ge.sortIndex;return pe!==0?pe:le.id-ge.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();i.unstable_now=function(){return h.now()-f}}var p=[],y=[],_=1,T=null,x=3,C=!1,I=!1,L=!1,V=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function Y(le){for(var ge=t(y);ge!==null;){if(ge.callback===null)s(y);else if(ge.startTime<=le)s(y),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(y)}}function ne(le){if(L=!1,Y(le),!I)if(t(p)!==null)I=!0,it();else{var ge=t(y);ge!==null&&tt(ne,ge.startTime-le)}}var re=!1,oe=-1,P=5,A=-1;function w(){return!(i.unstable_now()-A<P)}function N(){if(re){var le=i.unstable_now();A=le;var ge=!0;try{e:{I=!1,L&&(L=!1,Q(oe),oe=-1),C=!0;var pe=x;try{t:{for(Y(le),T=t(p);T!==null&&!(T.expirationTime>le&&w());){var je=T.callback;if(typeof je=="function"){T.callback=null,x=T.priorityLevel;var k=je(T.expirationTime<=le);if(le=i.unstable_now(),typeof k=="function"){T.callback=k,Y(le),ge=!0;break t}T===t(p)&&s(p),Y(le)}else s(p);T=t(p)}if(T!==null)ge=!0;else{var se=t(y);se!==null&&tt(ne,se.startTime-le),ge=!1}}break e}finally{T=null,x=pe,C=!1}ge=void 0}}finally{ge?M():re=!1}}}var M;if(typeof Z=="function")M=function(){Z(N)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,O=U.port2;U.port1.onmessage=N,M=function(){O.postMessage(null)}}else M=function(){V(N,0)};function it(){re||(re=!0,M())}function tt(le,ge){oe=V(function(){le(i.unstable_now())},ge)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(le){le.callback=null},i.unstable_continueExecution=function(){I||C||(I=!0,it())},i.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<le?Math.floor(1e3/le):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(le){switch(x){case 1:case 2:case 3:var ge=3;break;default:ge=x}var pe=x;x=ge;try{return le()}finally{x=pe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(le,ge){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var pe=x;x=le;try{return ge()}finally{x=pe}},i.unstable_scheduleCallback=function(le,ge,pe){var je=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,le){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=pe+k,le={id:_++,callback:ge,priorityLevel:le,startTime:pe,expirationTime:k,sortIndex:-1},pe>je?(le.sortIndex=pe,e(y,le),t(p)===null&&le===t(y)&&(L?(Q(oe),oe=-1):L=!0,tt(ne,pe-je))):(le.sortIndex=k,e(p,le),I||C||(I=!0,it())),le},i.unstable_shouldYield=w,i.unstable_wrapCallback=function(le){var ge=x;return function(){var pe=x;x=ge;try{return le.apply(this,arguments)}finally{x=pe}}}}(Rp)),Rp}var $0;function IS(){return $0||($0=1,Sp.exports=NS()),Sp.exports}var Cp={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function DS(){if(Y0)return tn;Y0=1;var i=Mg();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,_)},tn.flushSync=function(p){var y=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=y,s.p=_,s.d.f()}},tn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var _=y.as,T=f(_,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:C}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:x,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=f(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},tn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,T=f(_,y.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(p,y){if(typeof p=="string")if(y){var _=f(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,y){return p(y)},tn.useFormState=function(p,y,_){return h.H.useFormState(p,y,_)},tn.useFormStatus=function(){return h.H.useHostTransitionStatus()},tn.version="19.0.0",tn}var X0;function OS(){if(X0)return Cp.exports;X0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Cp.exports=DS(),Cp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function MS(){if(W0)return Uu;W0=1;var i=IS(),e=Mg(),t=OS();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),ne=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function oe(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var P=Symbol.for("react.client.reference");function A(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===P?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case f:return"Portal";case _:return"Profiler";case y:return"StrictMode";case L:return"Suspense";case V:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case C:return(n.displayName||"Context")+".Provider";case x:return(n._context.displayName||"Context")+".Consumer";case I:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Q:return r=n.displayName||null,r!==null?r:A(n.type)||"Memo";case Z:r=n._payload,n=n._init;try{return A(n(r))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,M,U;function O(n){if(M===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+n+U}var it=!1;function tt(n,r){if(!n||it)return"";it=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var K=X}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(X){K=X}n.call(ie.prototype)}}else{try{throw Error()}catch(X){K=X}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],S=m[1];if(b&&S){var D=b.split(`
`),z=S.split(`
`);for(d=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;if(l===D.length||d===z.length)for(l=D.length-1,d=z.length-1;1<=l&&0<=d&&D[l]!==z[d];)d--;for(;1<=l&&0<=d;l--,d--)if(D[l]!==z[d]){if(l!==1||d!==1)do if(l--,d--,0>d||D[l]!==z[d]){var W=`
`+D[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=d);break}}}finally{it=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?O(a):""}function le(n){switch(n.tag){case 26:case 27:case 5:return O(n.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return n=tt(n.type,!1),n;case 11:return n=tt(n.type.render,!1),n;case 1:return n=tt(n.type,!0),n;default:return""}}function ge(n){try{var r="";do r+=le(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pe(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function je(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function k(n){if(pe(n)!==n)throw Error(s(188))}function se(n){var r=n.alternate;if(!r){if(r=pe(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return k(d),n;if(m===l)return k(d),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=m;else{for(var b=!1,S=d.child;S;){if(S===a){b=!0,a=d,l=m;break}if(S===l){b=!0,l=d,a=m;break}S=S.sibling}if(!b){for(S=m.child;S;){if(S===a){b=!0,a=m,l=d;break}if(S===l){b=!0,l=m,a=d;break}S=S.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function ve(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=ve(n),r!==null)return r;n=n.sibling}return null}var ce=Array.isArray,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Ce=[],Tt=-1;function Ge(n){return{current:n}}function ft(n){0>Tt||(n.current=Ce[Tt],Ce[Tt]=null,Tt--)}function Ze(n,r){Tt++,Ce[Tt]=n.current,n.current=r}var ln=Ge(null),Fi=Ge(null),Mn=Ge(null),jr=Ge(null);function kr(n,r){switch(Ze(Mn,r),Ze(Fi,n),Ze(ln,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?y0(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=y0(n),r=v0(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ft(ln),Ze(ln,r)}function Hi(){ft(ln),ft(Fi),ft(Mn)}function Ml(n){n.memoizedState!==null&&Ze(jr,n);var r=ln.current,a=v0(r,n.type);r!==a&&(Ze(Fi,n),Ze(ln,a))}function Ya(n){Fi.current===n&&(ft(ln),ft(Fi)),jr.current===n&&(ft(jr),Mu._currentValue=Ie)}var Xa=Object.prototype.hasOwnProperty,Xs=i.unstable_scheduleCallback,Wa=i.unstable_cancelCallback,xf=i.unstable_shouldYield,Pl=i.unstable_requestPaint,gn=i.unstable_now,jc=i.unstable_getCurrentPriorityLevel,Ct=i.unstable_ImmediatePriority,Lt=i.unstable_UserBlockingPriority,Gi=i.unstable_NormalPriority,kc=i.unstable_LowPriority,jl=i.unstable_IdlePriority,Af=i.log,Ws=i.unstable_setDisableYieldValue,Vr=null,Jt=null;function kl(n){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Vr,n,void 0,(n.current.flags&128)===128)}catch{}}function gi(n){if(typeof Af=="function"&&Ws(n),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Vr,n)}catch{}}var un=Math.clz32?Math.clz32:Lc,Vl=Math.log,Vc=Math.LN2;function Lc(n){return n>>>=0,n===0?32:31-(Vl(n)/Vc|0)|0}var yi=128,Lr=4194304;function Jn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Pn(n,r){var a=n.pendingLanes;if(a===0)return 0;var l=0,d=n.suspendedLanes,m=n.pingedLanes,b=n.warmLanes;n=n.finishedLanes!==0;var S=a&134217727;return S!==0?(a=S&~d,a!==0?l=Jn(a):(m&=S,m!==0?l=Jn(m):n||(b=S&~b,b!==0&&(l=Jn(b))))):(S=a&~d,S!==0?l=Jn(S):m!==0?l=Jn(m):n||(b=a&~b,b!==0&&(l=Jn(b)))),l===0?0:r!==0&&r!==l&&(r&d)===0&&(d=l&-l,b=r&-r,d>=b||d===32&&(b&4194176)!==0)?r:l}function Ur(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Za(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ll(){var n=yi;return yi<<=1,(yi&4194176)===0&&(yi=128),n}function qr(){var n=Lr;return Lr<<=1,(Lr&62914560)===0&&(Lr=4194304),n}function Ja(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function _t(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Uc(n,r,a,l,d,m){var b=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,D=n.expirationTimes,z=n.hiddenUpdates;for(a=b&~a;0<a;){var W=31-un(a),ie=1<<W;S[W]=0,D[W]=-1;var K=z[W];if(K!==null)for(z[W]=null,W=0;W<K.length;W++){var X=K[W];X!==null&&(X.lane&=-536870913)}a&=~ie}l!==0&&zr(n,l,0),m!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=m&~(b&~r))}function zr(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-un(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function Br(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-un(a),d=1<<l;d&r|n[l]&r&&(n[l]|=r),a&=~d}}function qc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function zc(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:k0(n.type))}function Fr(n,r){var a=he.p;try{return he.p=n,r()}finally{he.p=a}}var vi=Math.random().toString(36).slice(2),Ut="__reactFiber$"+vi,Nt="__reactProps$"+vi,Qi="__reactContainer$"+vi,Zs="__reactEvents$"+vi,eo="__reactListeners$"+vi,_i="__reactHandles$"+vi,Ul="__reactResources$"+vi,Hr="__reactMarker$"+vi;function Js(n){delete n[Ut],delete n[Nt],delete n[Zs],delete n[eo],delete n[_i]}function ei(n){var r=n[Ut];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Qi]||a[Ut]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=b0(n);n!==null;){if(a=n[Ut])return a;n=b0(n)}return r}n=a,a=n.parentNode}return null}function Ki(n){if(n=n[Ut]||n[Qi]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Gr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Qr(n){var r=n[Ul];return r||(r=n[Ul]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ut(n){n[Hr]=!0}var ql=new Set,to={};function An(n,r){yn(n,r),yn(n+"Capture",r)}function yn(n,r){for(to[n]=r,n=0;n<r.length;n++)ql.add(r[n])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zl={},Bl={};function Bc(n){return Xa.call(Bl,n)?!0:Xa.call(zl,n)?!1:Sf.test(n)?Bl[n]=!0:(zl[n]=!0,!1)}function Kr(n,r,a){if(Bc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function $r(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function jn(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function cn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Fc(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Rf(n){var r=Fc(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ea(n){n._valueTracker||(n._valueTracker=Rf(n))}function Fl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Fc(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function no(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var $i=/[\n"\\]/g;function mt(n){return n.replace($i,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Yr(n,r,a,l,d,m,b,S){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),r!=null?b==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+cn(r)):n.value!==""+cn(r)&&(n.value=""+cn(r)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),r!=null?io(n,b,cn(r)):a!=null?io(n,b,cn(a)):l!=null&&n.removeAttribute("value"),d==null&&m!=null&&(n.defaultChecked=!!m),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+cn(S):n.removeAttribute("name")}function ta(n,r,a,l,d,m,b,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+cn(a):"",r=r!=null?""+cn(r):a,S||r===n.value||(n.value=r),n.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function io(n,r,a){r==="number"&&no(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Qe(n,r,a,l){if(n=n.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=r.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&l&&(n[a].defaultSelected=!0)}else{for(a=""+cn(a),r=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function na(n,r,a){if(r!=null&&(r=""+cn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+cn(a):""}function Xr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=cn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function kn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Cf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hl(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Cf.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Hc(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&Hl(n,d,l)}else for(var m in r)r.hasOwnProperty(m)&&Hl(n,m,r[m])}function Gl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),If=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ei(n){return If.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Vn=null;function ro(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yi=null,Xi=null;function Wi(n){var r=Ki(n);if(r&&(n=r.stateNode)){var a=n[Nt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Yr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var d=l[Nt]||null;if(!d)throw Error(s(90));Yr(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Fl(l)}break e;case"textarea":na(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Qe(n,!!a.multiple,r,!1)}}}var Ql=!1;function Gc(n,r,a){if(Ql)return n(r,a);Ql=!0;try{var l=n(r);return l}finally{if(Ql=!1,(Yi!==null||Xi!==null)&&(kh(),Yi&&(r=Yi,n=Xi,Xi=Yi=null,Wi(r),n)))for(r=0;r<n.length;r++)Wi(n[r])}}function ia(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Nt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ln=!1;if(Sn)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{Ln=!1}var bi=null,Wr=null,Zi=null;function Kl(){if(Zi)return Zi;var n,r=Wr,a=r.length,l,d="value"in bi?bi.value:bi.textContent,m=d.length;for(n=0;n<a&&r[n]===d[n];n++);var b=a-n;for(l=1;l<=b&&r[a-l]===d[m-l];l++);return Zi=d.slice(n,1<l?1-l:void 0)}function Ti(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function wi(){return!0}function $l(){return!1}function qt(n){function r(a,l,d,m,b){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?wi:$l,this.isPropagationStopped=$l,this}return N(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),r}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=qt(Ye),sa=N({},Ye,{view:0,detail:0}),Qc=qt(sa),ao,oo,xi,aa=N({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ua,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==xi&&(xi&&n.type==="mousemove"?(ao=n.screenX-xi.screenX,oo=n.screenY-xi.screenY):oo=ao=0,xi=n),ao)},movementY:function(n){return"movementY"in n?n.movementY:oo}}),Un=qt(aa),Kc=N({},aa,{dataTransfer:0}),Df=qt(Kc),oa=N({},sa,{relatedTarget:0}),lo=qt(oa),Yl=N({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),uo=qt(Yl),$c=N({},Ye,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),co=qt($c),Of=N({},Ye,{data:0}),Xl=qt(Of),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Xc[n])?!!r[n]:!1}function ua(){return Wl}var Wc=N({},sa,{key:function(n){if(n.key){var r=la[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ti(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Yc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ua,charCode:function(n){return n.type==="keypress"?Ti(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ti(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ho=qt(Wc),Zc=N({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zl=qt(Zc),Ji=N({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ua}),Jc=qt(Ji),eh=N({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),th=qt(eh),nh=N({},aa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),fo=qt(nh),hn=N({},Ye,{newState:0,oldState:0}),ih=qt(hn),rh=[9,13,27,32],Ai=Sn&&"CompositionEvent"in window,c=null;Sn&&"documentMode"in document&&(c=document.documentMode);var v=Sn&&"TextEvent"in window&&!c,E=Sn&&(!Ai||c&&8<c&&11>=c),R=" ",H=!1;function $(n,r){switch(n){case"keyup":return rh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ze=!1;function It(n,r){switch(n){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(H=!0,R);case"textInput":return n=r.data,n===R&&H?null:n;default:return null}}function Be(n,r){if(ze)return n==="compositionend"||!Ai&&$(n,r)?(n=Kl(),Zi=Wr=bi=null,ze=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!zt[n.type]:r==="textarea"}function er(n,r,a,l){Yi?Xi?Xi.push(l):Xi=[l]:Yi=l,r=zh(r,"onChange"),0<r.length&&(a=new so("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Qt=null,Si=null;function Jl(n){d0(n,0)}function sh(n){var r=Gr(n);if(Fl(r))return n}function zy(n,r){if(n==="change")return r}var By=!1;if(Sn){var Mf;if(Sn){var Pf="oninput"in document;if(!Pf){var Fy=document.createElement("div");Fy.setAttribute("oninput","return;"),Pf=typeof Fy.oninput=="function"}Mf=Pf}else Mf=!1;By=Mf&&(!document.documentMode||9<document.documentMode)}function Hy(){Qt&&(Qt.detachEvent("onpropertychange",Gy),Si=Qt=null)}function Gy(n){if(n.propertyName==="value"&&sh(Si)){var r=[];er(r,Si,n,ro(n)),Gc(Jl,r)}}function tA(n,r,a){n==="focusin"?(Hy(),Qt=r,Si=a,Qt.attachEvent("onpropertychange",Gy)):n==="focusout"&&Hy()}function nA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return sh(Si)}function iA(n,r){if(n==="click")return sh(r)}function rA(n,r){if(n==="input"||n==="change")return sh(r)}function sA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Rn=typeof Object.is=="function"?Object.is:sA;function eu(n,r){if(Rn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Xa.call(r,d)||!Rn(n[d],r[d]))return!1}return!0}function Qy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ky(n,r){var a=Qy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qy(a)}}function $y(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?$y(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Yy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=no(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=no(n.document)}return r}function jf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function aA(n,r){var a=Yy(r);r=n.focusedElem;var l=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&$y(r.ownerDocument.documentElement,r)){if(l!==null&&jf(r)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var d=r.textContent.length,m=Math.min(l.start,d);l=l.end===void 0?m:Math.min(l.end,d),!a.extend&&m>l&&(d=l,l=m,m=d),d=Ky(r,m);var b=Ky(r,l);d&&b&&(a.rangeCount!==1||a.anchorNode!==d.node||a.anchorOffset!==d.offset||a.focusNode!==b.node||a.focusOffset!==b.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),a.removeAllRanges(),m>l?(a.addRange(n),a.extend(b.node,b.offset)):(n.setEnd(b.node,b.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var oA=Sn&&"documentMode"in document&&11>=document.documentMode,mo=null,kf=null,tu=null,Vf=!1;function Xy(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vf||mo==null||mo!==no(l)||(l=mo,"selectionStart"in l&&jf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tu&&eu(tu,l)||(tu=l,l=zh(kf,"onSelect"),0<l.length&&(r=new so("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=mo)))}function ca(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var po={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},Lf={},Wy={};Sn&&(Wy=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function ha(n){if(Lf[n])return Lf[n];if(!po[n])return n;var r=po[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Wy)return Lf[n]=r[a];return n}var Zy=ha("animationend"),Jy=ha("animationiteration"),ev=ha("animationstart"),lA=ha("transitionrun"),uA=ha("transitionstart"),cA=ha("transitioncancel"),tv=ha("transitionend"),nv=new Map,iv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ti(n,r){nv.set(n,r),An(r,[n])}var qn=[],go=0,Uf=0;function ah(){for(var n=go,r=Uf=go=0;r<n;){var a=qn[r];qn[r++]=null;var l=qn[r];qn[r++]=null;var d=qn[r];qn[r++]=null;var m=qn[r];if(qn[r++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}m!==0&&rv(a,d,m)}}function oh(n,r,a,l){qn[go++]=n,qn[go++]=r,qn[go++]=a,qn[go++]=l,Uf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function qf(n,r,a,l){return oh(n,r,a,l),lh(n)}function Zr(n,r){return oh(n,null,null,r),lh(n)}function rv(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(d=!0)),n=m,m=m.return;d&&r!==null&&n.tag===3&&(m=n.stateNode,d=31-un(a),m=m.hiddenUpdates,n=m[d],n===null?m[d]=[r]:n.push(r),r.lane=a|536870912)}function lh(n){if(50<Su)throw Su=0,Qm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var yo={},sv=new WeakMap;function zn(n,r){if(typeof n=="object"&&n!==null){var a=sv.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ge(r)},sv.set(n,r),r)}return{value:n,source:r,stack:ge(r)}}var vo=[],_o=0,uh=null,ch=0,Bn=[],Fn=0,da=null,tr=1,nr="";function fa(n,r){vo[_o++]=ch,vo[_o++]=uh,uh=n,ch=r}function av(n,r,a){Bn[Fn++]=tr,Bn[Fn++]=nr,Bn[Fn++]=da,da=n;var l=tr;n=nr;var d=32-un(l)-1;l&=~(1<<d),a+=1;var m=32-un(r)+d;if(30<m){var b=d-d%5;m=(l&(1<<b)-1).toString(32),l>>=b,d-=b,tr=1<<32-un(r)+d|a<<d|l,nr=m+n}else tr=1<<m|a<<d|l,nr=n}function zf(n){n.return!==null&&(fa(n,1),av(n,1,0))}function Bf(n){for(;n===uh;)uh=vo[--_o],vo[_o]=null,ch=vo[--_o],vo[_o]=null;for(;n===da;)da=Bn[--Fn],Bn[Fn]=null,nr=Bn[--Fn],Bn[Fn]=null,tr=Bn[--Fn],Bn[Fn]=null}var dn=null,Kt=null,Ke=!1,ni=null,Ri=!1,Ff=Error(s(519));function ma(n){var r=Error(s(418,""));throw ru(zn(r,n)),Ff}function ov(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Ut]=n,r[Nt]=l,a){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(a=0;a<Cu.length;a++)Le(Cu[a],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),ta(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ea(r);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),Xr(r,l.value,l.defaultValue,l.children),ea(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||g0(r.textContent,a)?(l.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),l.onScroll!=null&&Le("scroll",r),l.onScrollEnd!=null&&Le("scrollend",r),l.onClick!=null&&(r.onclick=Bh),r=!0):r=!1,r||ma(n)}function lv(n){for(dn=n.return;dn;)switch(dn.tag){case 3:case 27:Ri=!0;return;case 5:case 13:Ri=!1;return;default:dn=dn.return}}function nu(n){if(n!==dn)return!1;if(!Ke)return lv(n),Ke=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||up(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&Kt&&ma(n),lv(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Kt=ri(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Kt=null}}else Kt=dn?ri(n.stateNode.nextSibling):null;return!0}function iu(){Kt=dn=null,Ke=!1}function ru(n){ni===null?ni=[n]:ni.push(n)}var su=Error(s(460)),uv=Error(s(474)),Hf={then:function(){}};function cv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function hh(){}function hv(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(hh,hh),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===su?Error(s(483)):n;default:if(typeof r.status=="string")r.then(hh,hh);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===su?Error(s(483)):n}throw au=r,su}}var au=null;function dv(){if(au===null)throw Error(s(459));var n=au;return au=null,n}var Eo=null,ou=0;function dh(n){var r=ou;return ou+=1,Eo===null&&(Eo=[]),hv(Eo,n,r)}function lu(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function fh(n,r){throw r.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function fv(n){var r=n._init;return r(n._payload)}function mv(n){function r(B,q){if(n){var G=B.deletions;G===null?(B.deletions=[q],B.flags|=16):G.push(q)}}function a(B,q){if(!n)return null;for(;q!==null;)r(B,q),q=q.sibling;return null}function l(B){for(var q=new Map;B!==null;)B.key!==null?q.set(B.key,B):q.set(B.index,B),B=B.sibling;return q}function d(B,q){return B=cs(B,q),B.index=0,B.sibling=null,B}function m(B,q,G){return B.index=G,n?(G=B.alternate,G!==null?(G=G.index,G<q?(B.flags|=33554434,q):G):(B.flags|=33554434,q)):(B.flags|=1048576,q)}function b(B){return n&&B.alternate===null&&(B.flags|=33554434),B}function S(B,q,G,J){return q===null||q.tag!==6?(q=Lm(G,B.mode,J),q.return=B,q):(q=d(q,G),q.return=B,q)}function D(B,q,G,J){var me=G.type;return me===p?W(B,q,G.props.children,J,G.key):q!==null&&(q.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Z&&fv(me)===q.type)?(q=d(q,G.props),lu(q,G),q.return=B,q):(q=Dh(G.type,G.key,G.props,null,B.mode,J),lu(q,G),q.return=B,q)}function z(B,q,G,J){return q===null||q.tag!==4||q.stateNode.containerInfo!==G.containerInfo||q.stateNode.implementation!==G.implementation?(q=Um(G,B.mode,J),q.return=B,q):(q=d(q,G.children||[]),q.return=B,q)}function W(B,q,G,J,me){return q===null||q.tag!==7?(q=xa(G,B.mode,J,me),q.return=B,q):(q=d(q,G),q.return=B,q)}function ie(B,q,G){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Lm(""+q,B.mode,G),q.return=B,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return G=Dh(q.type,q.key,q.props,null,B.mode,G),lu(G,q),G.return=B,G;case f:return q=Um(q,B.mode,G),q.return=B,q;case Z:var J=q._init;return q=J(q._payload),ie(B,q,G)}if(ce(q)||oe(q))return q=xa(q,B.mode,G,null),q.return=B,q;if(typeof q.then=="function")return ie(B,dh(q),G);if(q.$$typeof===C)return ie(B,Ch(B,q),G);fh(B,q)}return null}function K(B,q,G,J){var me=q!==null?q.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return me!==null?null:S(B,q,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case h:return G.key===me?D(B,q,G,J):null;case f:return G.key===me?z(B,q,G,J):null;case Z:return me=G._init,G=me(G._payload),K(B,q,G,J)}if(ce(G)||oe(G))return me!==null?null:W(B,q,G,J,null);if(typeof G.then=="function")return K(B,q,dh(G),J);if(G.$$typeof===C)return K(B,q,Ch(B,G),J);fh(B,G)}return null}function X(B,q,G,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(G)||null,S(q,B,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case h:return B=B.get(J.key===null?G:J.key)||null,D(q,B,J,me);case f:return B=B.get(J.key===null?G:J.key)||null,z(q,B,J,me);case Z:var Me=J._init;return J=Me(J._payload),X(B,q,G,J,me)}if(ce(J)||oe(J))return B=B.get(G)||null,W(q,B,J,me,null);if(typeof J.then=="function")return X(B,q,G,dh(J),me);if(J.$$typeof===C)return X(B,q,G,Ch(q,J),me);fh(q,J)}return null}function ye(B,q,G,J){for(var me=null,Me=null,_e=q,Te=q=0,Ht=null;_e!==null&&Te<G.length;Te++){_e.index>Te?(Ht=_e,_e=null):Ht=_e.sibling;var $e=K(B,_e,G[Te],J);if($e===null){_e===null&&(_e=Ht);break}n&&_e&&$e.alternate===null&&r(B,_e),q=m($e,q,Te),Me===null?me=$e:Me.sibling=$e,Me=$e,_e=Ht}if(Te===G.length)return a(B,_e),Ke&&fa(B,Te),me;if(_e===null){for(;Te<G.length;Te++)_e=ie(B,G[Te],J),_e!==null&&(q=m(_e,q,Te),Me===null?me=_e:Me.sibling=_e,Me=_e);return Ke&&fa(B,Te),me}for(_e=l(_e);Te<G.length;Te++)Ht=X(_e,B,Te,G[Te],J),Ht!==null&&(n&&Ht.alternate!==null&&_e.delete(Ht.key===null?Te:Ht.key),q=m(Ht,q,Te),Me===null?me=Ht:Me.sibling=Ht,Me=Ht);return n&&_e.forEach(function(ys){return r(B,ys)}),Ke&&fa(B,Te),me}function Se(B,q,G,J){if(G==null)throw Error(s(151));for(var me=null,Me=null,_e=q,Te=q=0,Ht=null,$e=G.next();_e!==null&&!$e.done;Te++,$e=G.next()){_e.index>Te?(Ht=_e,_e=null):Ht=_e.sibling;var ys=K(B,_e,$e.value,J);if(ys===null){_e===null&&(_e=Ht);break}n&&_e&&ys.alternate===null&&r(B,_e),q=m(ys,q,Te),Me===null?me=ys:Me.sibling=ys,Me=ys,_e=Ht}if($e.done)return a(B,_e),Ke&&fa(B,Te),me;if(_e===null){for(;!$e.done;Te++,$e=G.next())$e=ie(B,$e.value,J),$e!==null&&(q=m($e,q,Te),Me===null?me=$e:Me.sibling=$e,Me=$e);return Ke&&fa(B,Te),me}for(_e=l(_e);!$e.done;Te++,$e=G.next())$e=X(_e,B,Te,$e.value,J),$e!==null&&(n&&$e.alternate!==null&&_e.delete($e.key===null?Te:$e.key),q=m($e,q,Te),Me===null?me=$e:Me.sibling=$e,Me=$e);return n&&_e.forEach(function(xS){return r(B,xS)}),Ke&&fa(B,Te),me}function yt(B,q,G,J){if(typeof G=="object"&&G!==null&&G.type===p&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case h:e:{for(var me=G.key;q!==null;){if(q.key===me){if(me=G.type,me===p){if(q.tag===7){a(B,q.sibling),J=d(q,G.props.children),J.return=B,B=J;break e}}else if(q.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Z&&fv(me)===q.type){a(B,q.sibling),J=d(q,G.props),lu(J,G),J.return=B,B=J;break e}a(B,q);break}else r(B,q);q=q.sibling}G.type===p?(J=xa(G.props.children,B.mode,J,G.key),J.return=B,B=J):(J=Dh(G.type,G.key,G.props,null,B.mode,J),lu(J,G),J.return=B,B=J)}return b(B);case f:e:{for(me=G.key;q!==null;){if(q.key===me)if(q.tag===4&&q.stateNode.containerInfo===G.containerInfo&&q.stateNode.implementation===G.implementation){a(B,q.sibling),J=d(q,G.children||[]),J.return=B,B=J;break e}else{a(B,q);break}else r(B,q);q=q.sibling}J=Um(G,B.mode,J),J.return=B,B=J}return b(B);case Z:return me=G._init,G=me(G._payload),yt(B,q,G,J)}if(ce(G))return ye(B,q,G,J);if(oe(G)){if(me=oe(G),typeof me!="function")throw Error(s(150));return G=me.call(G),Se(B,q,G,J)}if(typeof G.then=="function")return yt(B,q,dh(G),J);if(G.$$typeof===C)return yt(B,q,Ch(B,G),J);fh(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,q!==null&&q.tag===6?(a(B,q.sibling),J=d(q,G),J.return=B,B=J):(a(B,q),J=Lm(G,B.mode,J),J.return=B,B=J),b(B)):a(B,q)}return function(B,q,G,J){try{ou=0;var me=yt(B,q,G,J);return Eo=null,me}catch(_e){if(_e===su)throw _e;var Me=Kn(29,_e,null,B.mode);return Me.lanes=J,Me.return=B,Me}finally{}}}var pa=mv(!0),pv=mv(!1),bo=Ge(null),mh=Ge(0);function gv(n,r){n=fr,Ze(mh,n),Ze(bo,r),fr=n|r.baseLanes}function Gf(){Ze(mh,fr),Ze(bo,bo.current)}function Qf(){fr=mh.current,ft(bo),ft(mh)}var Hn=Ge(null),Ci=null;function Jr(n){var r=n.alternate;Ze(Ot,Ot.current&1),Ze(Hn,n),Ci===null&&(r===null||bo.current!==null||r.memoizedState!==null)&&(Ci=n)}function yv(n){if(n.tag===22){if(Ze(Ot,Ot.current),Ze(Hn,n),Ci===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ci=n)}}else es()}function es(){Ze(Ot,Ot.current),Ze(Hn,Hn.current)}function ir(n){ft(Hn),Ci===n&&(Ci=null),ft(Ot)}var Ot=Ge(0);function ph(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var hA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},dA=i.unstable_scheduleCallback,fA=i.unstable_NormalPriority,Mt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new hA,data:new Map,refCount:0}}function uu(n){n.refCount--,n.refCount===0&&dA(fA,function(){n.controller.abort()})}var cu=null,$f=0,To=0,wo=null;function mA(n,r){if(cu===null){var a=cu=[];$f=0,To=ep(),wo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $f++,r.then(vv,vv),r}function vv(){if(--$f===0&&cu!==null){wo!==null&&(wo.status="fulfilled");var n=cu;cu=null,To=0,wo=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function pA(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var _v=w.S;w.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&mA(n,r),_v!==null&&_v(n,r)};var ga=Ge(null);function Yf(){var n=ga.current;return n!==null?n:rt.pooledCache}function gh(n,r){r===null?Ze(ga,ga.current):Ze(ga,r.pool)}function Ev(){var n=Yf();return n===null?null:{parent:Mt._currentValue,pool:n}}var ts=0,Oe=null,Je=null,wt=null,yh=!1,xo=!1,ya=!1,vh=0,hu=0,Ao=null,gA=0;function Et(){throw Error(s(321))}function Xf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Rn(n[a],r[a]))return!1;return!0}function Wf(n,r,a,l,d,m){return ts=m,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,w.H=n===null||n.memoizedState===null?va:ns,ya=!1,m=a(l,d),ya=!1,xo&&(m=Tv(r,a,l,d)),bv(n),m}function bv(n){w.H=Ni;var r=Je!==null&&Je.next!==null;if(ts=0,wt=Je=Oe=null,yh=!1,hu=0,Ao=null,r)throw Error(s(300));n===null||Bt||(n=n.dependencies,n!==null&&Rh(n)&&(Bt=!0))}function Tv(n,r,a,l){Oe=n;var d=0;do{if(xo&&(Ao=null),hu=0,xo=!1,25<=d)throw Error(s(301));if(d+=1,wt=Je=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}w.H=_a,m=r(a,l)}while(xo);return m}function yA(){var n=w.H,r=n.useState()[0];return r=typeof r.then=="function"?du(r):r,n=n.useState()[0],(Je!==null?Je.memoizedState:null)!==n&&(Oe.flags|=1024),r}function Zf(){var n=vh!==0;return vh=0,n}function Jf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function em(n){if(yh){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}yh=!1}ts=0,wt=Je=Oe=null,xo=!1,hu=vh=0,Ao=null}function vn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Oe.memoizedState=wt=n:wt=wt.next=n,wt}function xt(){if(Je===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=Je.next;var r=wt===null?Oe.memoizedState:wt.next;if(r!==null)wt=r,Je=n;else{if(n===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));Je=n,n={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},wt===null?Oe.memoizedState=wt=n:wt=wt.next=n}return wt}var _h;_h=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function du(n){var r=hu;return hu+=1,Ao===null&&(Ao=[]),n=hv(Ao,n,r),r=Oe,(wt===null?r.memoizedState:wt.next)===null&&(r=r.alternate,w.H=r===null||r.memoizedState===null?va:ns),n}function Eh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return du(n);if(n.$$typeof===C)return en(n)}throw Error(s(438,String(n)))}function tm(n){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=_h(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=ne;return r.index++,a}function rr(n,r){return typeof r=="function"?r(n):r}function bh(n){var r=xt();return nm(r,Je,n)}function nm(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=n.baseQueue,m=l.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}r.baseQueue=d=m,l.pending=null}if(m=n.baseState,d===null)n.memoizedState=m;else{r=d.next;var S=b=null,D=null,z=r,W=!1;do{var ie=z.lane&-536870913;if(ie!==z.lane?(Fe&ie)===ie:(ts&ie)===ie){var K=z.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ie===To&&(W=!0);else if((ts&K)===K){z=z.next,K===To&&(W=!0);continue}else ie={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(S=D=ie,b=m):D=D.next=ie,Oe.lanes|=K,hs|=K;ie=z.action,ya&&a(m,ie),m=z.hasEagerState?z.eagerState:a(m,ie)}else K={lane:ie,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(S=D=K,b=m):D=D.next=K,Oe.lanes|=ie,hs|=ie;z=z.next}while(z!==null&&z!==r);if(D===null?b=m:D.next=S,!Rn(m,n.memoizedState)&&(Bt=!0,W&&(a=wo,a!==null)))throw a;n.memoizedState=m,n.baseState=b,n.baseQueue=D,l.lastRenderedState=m}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function im(n){var r=xt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,d=a.pending,m=r.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do m=n(m,b.action),b=b.next;while(b!==d);Rn(m,r.memoizedState)||(Bt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function wv(n,r,a){var l=Oe,d=xt(),m=Ke;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var b=!Rn((Je||d).memoizedState,a);if(b&&(d.memoizedState=a,Bt=!0),d=d.queue,am(Sv.bind(null,l,d,n),[n]),d.getSnapshot!==r||b||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,So(9,Av.bind(null,l,d,a,r),{destroy:void 0},null),rt===null)throw Error(s(349));m||(ts&60)!==0||xv(l,r,a)}return a}function xv(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=_h(),Oe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Av(n,r,a,l){r.value=a,r.getSnapshot=l,Rv(r)&&Cv(n)}function Sv(n,r,a){return a(function(){Rv(r)&&Cv(n)})}function Rv(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Rn(n,a)}catch{return!0}}function Cv(n){var r=Zr(n,2);r!==null&&fn(r,n,2)}function rm(n){var r=vn();if(typeof n=="function"){var a=n;if(n=a(),ya){gi(!0);try{a()}finally{gi(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:n},r}function Nv(n,r,a,l){return n.baseState=a,nm(n,Je,typeof l=="function"?l:rr)}function vA(n,r,a,l,d){if(xh(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};w.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Iv(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Iv(n,r){var a=r.action,l=r.payload,d=n.state;if(r.isTransition){var m=w.T,b={};w.T=b;try{var S=a(d,l),D=w.S;D!==null&&D(b,S),Dv(n,r,S)}catch(z){sm(n,r,z)}finally{w.T=m}}else try{m=a(d,l),Dv(n,r,m)}catch(z){sm(n,r,z)}}function Dv(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ov(n,r,l)},function(l){return sm(n,r,l)}):Ov(n,r,a)}function Ov(n,r,a){r.status="fulfilled",r.value=a,Mv(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Iv(n,a)))}function sm(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Mv(r),r=r.next;while(r!==l)}n.action=null}function Mv(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Pv(n,r){return r}function jv(n,r){if(Ke){var a=rt.formState;if(a!==null){e:{var l=Oe;if(Ke){if(Kt){t:{for(var d=Kt,m=Ri;d.nodeType!==8;){if(!m){d=null;break t}if(d=ri(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Kt=ri(d.nextSibling),l=d.data==="F!";break e}}ma(l)}l=!1}l&&(r=a[0])}}return a=vn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pv,lastRenderedState:r},a.queue=l,a=Jv.bind(null,Oe,l),l.dispatch=a,l=rm(!1),m=hm.bind(null,Oe,!1,l.queue),l=vn(),d={state:r,dispatch:null,action:n,pending:null},l.queue=d,a=vA.bind(null,Oe,d,m,a),d.dispatch=a,l.memoizedState=n,[r,a,!1]}function kv(n){var r=xt();return Vv(r,Je,n)}function Vv(n,r,a){r=nm(n,r,Pv)[0],n=bh(rr)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?du(r):r;var l=xt(),d=l.queue,m=d.dispatch;return a!==l.memoizedState&&(Oe.flags|=2048,So(9,_A.bind(null,d,a),{destroy:void 0},null)),[r,m,n]}function _A(n,r){n.action=r}function Lv(n){var r=xt(),a=Je;if(a!==null)return Vv(r,a,n);xt(),r=r.memoizedState,a=xt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function So(n,r,a,l){return n={tag:n,create:r,inst:a,deps:l,next:null},r=Oe.updateQueue,r===null&&(r=_h(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Uv(){return xt().memoizedState}function Th(n,r,a,l){var d=vn();Oe.flags|=n,d.memoizedState=So(1|r,a,{destroy:void 0},l===void 0?null:l)}function wh(n,r,a,l){var d=xt();l=l===void 0?null:l;var m=d.memoizedState.inst;Je!==null&&l!==null&&Xf(l,Je.memoizedState.deps)?d.memoizedState=So(r,a,m,l):(Oe.flags|=n,d.memoizedState=So(1|r,a,m,l))}function qv(n,r){Th(8390656,8,n,r)}function am(n,r){wh(2048,8,n,r)}function zv(n,r){return wh(4,2,n,r)}function Bv(n,r){return wh(4,4,n,r)}function Fv(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Hv(n,r,a){a=a!=null?a.concat([n]):null,wh(4,4,Fv.bind(null,r,n),a)}function om(){}function Gv(n,r){var a=xt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Xf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Qv(n,r){var a=xt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Xf(r,l[1]))return l[0];if(l=n(),ya){gi(!0);try{n()}finally{gi(!1)}}return a.memoizedState=[l,r],l}function lm(n,r,a){return a===void 0||(ts&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=$_(),Oe.lanes|=n,hs|=n,a)}function Kv(n,r,a,l){return Rn(a,r)?a:bo.current!==null?(n=lm(n,a,l),Rn(n,r)||(Bt=!0),n):(ts&42)===0?(Bt=!0,n.memoizedState=a):(n=$_(),Oe.lanes|=n,hs|=n,r)}function $v(n,r,a,l,d){var m=he.p;he.p=m!==0&&8>m?m:8;var b=w.T,S={};w.T=S,hm(n,!1,r,a);try{var D=d(),z=w.S;if(z!==null&&z(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=pA(D,l);fu(n,r,W,Dn(n))}else fu(n,r,l,Dn(n))}catch(ie){fu(n,r,{then:function(){},status:"rejected",reason:ie},Dn())}finally{he.p=m,w.T=b}}function EA(){}function um(n,r,a,l){if(n.tag!==5)throw Error(s(476));var d=Yv(n).queue;$v(n,d,r,Ie,a===null?EA:function(){return Xv(n),a(l)})}function Yv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:Ie},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Xv(n){var r=Yv(n).next.queue;fu(n,r,{},Dn())}function cm(){return en(Mu)}function Wv(){return xt().memoizedState}function Zv(){return xt().memoizedState}function bA(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Dn();n=ss(a);var l=as(r,n,a);l!==null&&(fn(l,r,a),gu(l,r,a)),r={cache:Kf()},n.payload=r;return}r=r.return}}function TA(n,r,a){var l=Dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},xh(n)?e_(r,a):(a=qf(n,r,a,l),a!==null&&(fn(a,n,l),t_(a,r,l)))}function Jv(n,r,a){var l=Dn();fu(n,r,a,l)}function fu(n,r,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(xh(n))e_(r,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var b=r.lastRenderedState,S=m(b,a);if(d.hasEagerState=!0,d.eagerState=S,Rn(S,b))return oh(n,r,d,0),rt===null&&ah(),!1}catch{}finally{}if(a=qf(n,r,d,l),a!==null)return fn(a,n,l),t_(a,r,l),!0}return!1}function hm(n,r,a,l){if(l={lane:2,revertLane:ep(),action:l,hasEagerState:!1,eagerState:null,next:null},xh(n)){if(r)throw Error(s(479))}else r=qf(n,a,l,2),r!==null&&fn(r,n,2)}function xh(n){var r=n.alternate;return n===Oe||r!==null&&r===Oe}function e_(n,r){xo=yh=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function t_(n,r,a){if((a&4194176)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Br(n,a)}}var Ni={readContext:en,use:Eh,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et};Ni.useCacheRefresh=Et,Ni.useMemoCache=Et,Ni.useHostTransitionStatus=Et,Ni.useFormState=Et,Ni.useActionState=Et,Ni.useOptimistic=Et;var va={readContext:en,use:Eh,useCallback:function(n,r){return vn().memoizedState=[n,r===void 0?null:r],n},useContext:en,useEffect:qv,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Th(4194308,4,Fv.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Th(4194308,4,n,r)},useInsertionEffect:function(n,r){Th(4,2,n,r)},useMemo:function(n,r){var a=vn();r=r===void 0?null:r;var l=n();if(ya){gi(!0);try{n()}finally{gi(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=vn();if(a!==void 0){var d=a(r);if(ya){gi(!0);try{a(r)}finally{gi(!1)}}}else d=r;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=TA.bind(null,Oe,n),[l.memoizedState,n]},useRef:function(n){var r=vn();return n={current:n},r.memoizedState=n},useState:function(n){n=rm(n);var r=n.queue,a=Jv.bind(null,Oe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:om,useDeferredValue:function(n,r){var a=vn();return lm(a,n,r)},useTransition:function(){var n=rm(!1);return n=$v.bind(null,Oe,n.queue,!0,!1),vn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Oe,d=vn();if(Ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),rt===null)throw Error(s(349));(Fe&60)!==0||xv(l,r,a)}d.memoizedState=a;var m={value:a,getSnapshot:r};return d.queue=m,qv(Sv.bind(null,l,m,n),[n]),l.flags|=2048,So(9,Av.bind(null,l,m,a,r),{destroy:void 0},null),a},useId:function(){var n=vn(),r=rt.identifierPrefix;if(Ke){var a=nr,l=tr;a=(l&~(1<<32-un(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=vh++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=gA++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return vn().memoizedState=bA.bind(null,Oe)}};va.useMemoCache=tm,va.useHostTransitionStatus=cm,va.useFormState=jv,va.useActionState=jv,va.useOptimistic=function(n){var r=vn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=hm.bind(null,Oe,!0,a),a.dispatch=r,[n,r]};var ns={readContext:en,use:Eh,useCallback:Gv,useContext:en,useEffect:am,useImperativeHandle:Hv,useInsertionEffect:zv,useLayoutEffect:Bv,useMemo:Qv,useReducer:bh,useRef:Uv,useState:function(){return bh(rr)},useDebugValue:om,useDeferredValue:function(n,r){var a=xt();return Kv(a,Je.memoizedState,n,r)},useTransition:function(){var n=bh(rr)[0],r=xt().memoizedState;return[typeof n=="boolean"?n:du(n),r]},useSyncExternalStore:wv,useId:Wv};ns.useCacheRefresh=Zv,ns.useMemoCache=tm,ns.useHostTransitionStatus=cm,ns.useFormState=kv,ns.useActionState=kv,ns.useOptimistic=function(n,r){var a=xt();return Nv(a,Je,n,r)};var _a={readContext:en,use:Eh,useCallback:Gv,useContext:en,useEffect:am,useImperativeHandle:Hv,useInsertionEffect:zv,useLayoutEffect:Bv,useMemo:Qv,useReducer:im,useRef:Uv,useState:function(){return im(rr)},useDebugValue:om,useDeferredValue:function(n,r){var a=xt();return Je===null?lm(a,n,r):Kv(a,Je.memoizedState,n,r)},useTransition:function(){var n=im(rr)[0],r=xt().memoizedState;return[typeof n=="boolean"?n:du(n),r]},useSyncExternalStore:wv,useId:Wv};_a.useCacheRefresh=Zv,_a.useMemoCache=tm,_a.useHostTransitionStatus=cm,_a.useFormState=Lv,_a.useActionState=Lv,_a.useOptimistic=function(n,r){var a=xt();return Je!==null?Nv(a,Je,n,r):(a.baseState=n,[n,a.queue.dispatch])};function dm(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:N({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var fm={isMounted:function(n){return(n=n._reactInternals)?pe(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Dn(),d=ss(l);d.payload=r,a!=null&&(d.callback=a),r=as(n,d,l),r!==null&&(fn(r,n,l),gu(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Dn(),d=ss(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=as(n,d,l),r!==null&&(fn(r,n,l),gu(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Dn(),l=ss(a);l.tag=2,r!=null&&(l.callback=r),r=as(n,l,a),r!==null&&(fn(r,n,a),gu(r,n,a))}};function n_(n,r,a,l,d,m,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,b):r.prototype&&r.prototype.isPureReactComponent?!eu(a,l)||!eu(d,m):!0}function i_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&fm.enqueueReplaceState(r,r.state,null)}function Ea(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=N({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}var Ah=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function r_(n){Ah(n)}function s_(n){console.error(n)}function a_(n){Ah(n)}function Sh(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function o_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function mm(n,r,a){return a=ss(a),a.tag=3,a.payload={element:null},a.callback=function(){Sh(n,r)},a}function l_(n){return n=ss(n),n.tag=3,n}function u_(n,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;n.payload=function(){return d(m)},n.callback=function(){o_(r,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){o_(r,a,l),typeof d!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function wA(n,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&pu(r,a,d,!0),a=Hn.current,a!==null){switch(a.tag){case 13:return Ci===null?Ym():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Hf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Wm(n,l,d)),!1;case 22:return a.flags|=65536,l===Hf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Wm(n,l,d)),!1}throw Error(s(435,a.tag))}return Wm(n,l,d),Ym(),!1}if(Ke)return r=Hn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==Ff&&(n=Error(s(422),{cause:l}),ru(zn(n,a)))):(l!==Ff&&(r=Error(s(423),{cause:l}),ru(zn(r,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=zn(l,a),d=mm(n.stateNode,l,d),Nm(n,d),gt!==4&&(gt=2)),!1;var m=Error(s(520),{cause:l});if(m=zn(m,a),xu===null?xu=[m]:xu.push(m),gt!==4&&(gt=2),r===null)return!0;l=zn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=mm(a.stateNode,l,n),Nm(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ds===null||!ds.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=l_(d),u_(d,n,a,l),Nm(a,d),!1}a=a.return}while(a!==null);return!1}var c_=Error(s(461)),Bt=!1;function $t(n,r,a,l){r.child=n===null?pv(r,null,a,l):pa(r,n.child,a,l)}function h_(n,r,a,l,d){a=a.render;var m=r.ref;if("ref"in l){var b={};for(var S in l)S!=="ref"&&(b[S]=l[S])}else b=l;return Ta(r),l=Wf(n,r,a,b,m,d),S=Zf(),n!==null&&!Bt?(Jf(n,r,d),sr(n,r,d)):(Ke&&S&&zf(r),r.flags|=1,$t(n,r,l,d),r.child)}function d_(n,r,a,l,d){if(n===null){var m=a.type;return typeof m=="function"&&!Vm(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,f_(n,r,m,l,d)):(n=Dh(a.type,null,l,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!wm(n,d)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:eu,a(b,l)&&n.ref===r.ref)return sr(n,r,d)}return r.flags|=1,n=cs(m,l),n.ref=r.ref,n.return=r,r.child=n}function f_(n,r,a,l,d){if(n!==null){var m=n.memoizedProps;if(eu(m,l)&&n.ref===r.ref)if(Bt=!1,r.pendingProps=l=m,wm(n,d))(n.flags&131072)!==0&&(Bt=!0);else return r.lanes=n.lanes,sr(n,r,d)}return pm(n,r,a,l,d)}function m_(n,r,a){var l=r.pendingProps,d=l.children,m=(r.stateNode._pendingVisibility&2)!==0,b=n!==null?n.memoizedState:null;if(mu(n,r),l.mode==="hidden"||m){if((r.flags&128)!==0){if(l=b!==null?b.baseLanes|a:a,n!==null){for(d=r.child=n.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return p_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&gh(r,b!==null?b.cachePool:null),b!==null?gv(r,b):Gf(),yv(r);else return r.lanes=r.childLanes=536870912,p_(n,r,b!==null?b.baseLanes|a:a,a)}else b!==null?(gh(r,b.cachePool),gv(r,b),es(),r.memoizedState=null):(n!==null&&gh(r,null),Gf(),es());return $t(n,r,d,a),r.child}function p_(n,r,a,l){var d=Yf();return d=d===null?null:{parent:Mt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},n!==null&&gh(r,null),Gf(),yv(r),n!==null&&pu(n,r,l,!0),null}function mu(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function pm(n,r,a,l,d){return Ta(r),a=Wf(n,r,a,l,void 0,d),l=Zf(),n!==null&&!Bt?(Jf(n,r,d),sr(n,r,d)):(Ke&&l&&zf(r),r.flags|=1,$t(n,r,a,d),r.child)}function g_(n,r,a,l,d,m){return Ta(r),r.updateQueue=null,a=Tv(r,l,a,d),bv(n),l=Zf(),n!==null&&!Bt?(Jf(n,r,m),sr(n,r,m)):(Ke&&l&&zf(r),r.flags|=1,$t(n,r,a,m),r.child)}function y_(n,r,a,l,d){if(Ta(r),r.stateNode===null){var m=yo,b=a.contextType;typeof b=="object"&&b!==null&&(m=en(b)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=fm,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Rm(r),b=a.contextType,m.context=typeof b=="object"&&b!==null?en(b):yo,m.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(dm(r,a,b,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&fm.enqueueReplaceState(m,m.state,null),vu(r,l,m,d),yu(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){m=r.stateNode;var S=r.memoizedProps,D=Ea(a,S);m.props=D;var z=m.context,W=a.contextType;b=yo,typeof W=="object"&&W!==null&&(b=en(W));var ie=a.getDerivedStateFromProps;W=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||z!==b)&&i_(r,m,l,b),rs=!1;var K=r.memoizedState;m.state=K,vu(r,l,m,d),yu(),z=r.memoizedState,S||K!==z||rs?(typeof ie=="function"&&(dm(r,a,ie,l),z=r.memoizedState),(D=rs||n_(r,a,D,l,K,z,b))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=z),m.props=l,m.state=z,m.context=b,l=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Cm(n,r),b=r.memoizedProps,W=Ea(a,b),m.props=W,ie=r.pendingProps,K=m.context,z=a.contextType,D=yo,typeof z=="object"&&z!==null&&(D=en(z)),S=a.getDerivedStateFromProps,(z=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ie||K!==D)&&i_(r,m,l,D),rs=!1,K=r.memoizedState,m.state=K,vu(r,l,m,d),yu();var X=r.memoizedState;b!==ie||K!==X||rs||n!==null&&n.dependencies!==null&&Rh(n.dependencies)?(typeof S=="function"&&(dm(r,a,S,l),X=r.memoizedState),(W=rs||n_(r,a,W,l,K,X,D)||n!==null&&n.dependencies!==null&&Rh(n.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,X,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,X,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=X),m.props=l,m.state=X,m.context=D,l=W):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),l=!1)}return m=l,mu(n,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&l?(r.child=pa(r,n.child,null,d),r.child=pa(r,null,a,d)):$t(n,r,a,d),r.memoizedState=m.state,n=r.child):n=sr(n,r,d),n}function v_(n,r,a,l){return iu(),r.flags|=256,$t(n,r,a,l),r.child}var gm={dehydrated:null,treeContext:null,retryLane:0};function ym(n){return{baseLanes:n,cachePool:Ev()}}function vm(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=$n),n}function __(n,r,a){var l=r.pendingProps,d=!1,m=(r.flags&128)!==0,b;if((b=m)||(b=n!==null&&n.memoizedState===null?!1:(Ot.current&2)!==0),b&&(d=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ke){if(d?Jr(r):es(),Ke){var S=Kt,D;if(D=S){e:{for(D=S,S=Ri;D.nodeType!==8;){if(!S){S=null;break e}if(D=ri(D.nextSibling),D===null){S=null;break e}}S=D}S!==null?(r.memoizedState={dehydrated:S,treeContext:da!==null?{id:tr,overflow:nr}:null,retryLane:536870912},D=Kn(18,null,null,0),D.stateNode=S,D.return=r,r.child=D,dn=r,Kt=null,D=!0):D=!1}D||ma(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?r.lanes=16:r.lanes=536870912,null;ir(r)}return S=l.children,l=l.fallback,d?(es(),d=r.mode,S=Em({mode:"hidden",children:S},d),l=xa(l,d,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,d=r.child,d.memoizedState=ym(a),d.childLanes=vm(n,b,a),r.memoizedState=gm,l):(Jr(r),_m(r,S))}if(D=n.memoizedState,D!==null&&(S=D.dehydrated,S!==null)){if(m)r.flags&256?(Jr(r),r.flags&=-257,r=bm(n,r,a)):r.memoizedState!==null?(es(),r.child=n.child,r.flags|=128,r=null):(es(),d=l.fallback,S=r.mode,l=Em({mode:"visible",children:l.children},S),d=xa(d,S,a,null),d.flags|=2,l.return=r,d.return=r,l.sibling=d,r.child=l,pa(r,n.child,null,a),l=r.child,l.memoizedState=ym(a),l.childLanes=vm(n,b,a),r.memoizedState=gm,r=d);else if(Jr(r),S.data==="$!"){if(b=S.nextSibling&&S.nextSibling.dataset,b)var z=b.dgst;b=z,l=Error(s(419)),l.stack="",l.digest=b,ru({value:l,source:null,stack:null}),r=bm(n,r,a)}else if(Bt||pu(n,r,a,!1),b=(a&n.childLanes)!==0,Bt||b){if(b=rt,b!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,Zr(n,l),fn(b,n,l),c_}S.data==="$?"||Ym(),r=bm(n,r,a)}else S.data==="$?"?(r.flags|=128,r.child=n.child,r=LA.bind(null,n),S._reactRetry=r,r=null):(n=D.treeContext,Kt=ri(S.nextSibling),dn=r,Ke=!0,ni=null,Ri=!1,n!==null&&(Bn[Fn++]=tr,Bn[Fn++]=nr,Bn[Fn++]=da,tr=n.id,nr=n.overflow,da=r),r=_m(r,l.children),r.flags|=4096);return r}return d?(es(),d=l.fallback,S=r.mode,D=n.child,z=D.sibling,l=cs(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,z!==null?d=cs(z,d):(d=xa(d,S,a,null),d.flags|=2),d.return=r,l.return=r,l.sibling=d,r.child=l,l=d,d=r.child,S=n.child.memoizedState,S===null?S=ym(a):(D=S.cachePool,D!==null?(z=Mt._currentValue,D=D.parent!==z?{parent:z,pool:z}:D):D=Ev(),S={baseLanes:S.baseLanes|a,cachePool:D}),d.memoizedState=S,d.childLanes=vm(n,b,a),r.memoizedState=gm,l):(Jr(r),a=n.child,n=a.sibling,a=cs(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(b=r.deletions,b===null?(r.deletions=[n],r.flags|=16):b.push(n)),r.child=a,r.memoizedState=null,a)}function _m(n,r){return r=Em({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Em(n,r){return G_(n,r,0,null)}function bm(n,r,a){return pa(r,n.child,null,a),n=_m(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function E_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Am(n.return,r,a)}function Tm(n,r,a,l,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function b_(n,r,a){var l=r.pendingProps,d=l.revealOrder,m=l.tail;if($t(n,r,l.children,a),l=Ot.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&E_(n,a,r);else if(n.tag===19)E_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Ze(Ot,l),d){case"forwards":for(a=r.child,d=null;a!==null;)n=a.alternate,n!==null&&ph(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),Tm(r,!1,d,a,m);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&ph(n)===null){r.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Tm(r,!0,a,null,m);break;case"together":Tm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function sr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),hs|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(pu(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=cs(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=cs(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function wm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Rh(n)))}function xA(n,r,a){switch(r.tag){case 3:kr(r,r.stateNode.containerInfo),is(r,Mt,n.memoizedState.cache),iu();break;case 27:case 5:Ml(r);break;case 4:kr(r,r.stateNode.containerInfo);break;case 10:is(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Jr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?__(n,r,a):(Jr(r),n=sr(n,r,a),n!==null?n.sibling:null);Jr(r);break;case 19:var d=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(pu(n,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return b_(n,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ze(Ot,Ot.current),l)break;return null;case 22:case 23:return r.lanes=0,m_(n,r,a);case 24:is(r,Mt,n.memoizedState.cache)}return sr(n,r,a)}function T_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Bt=!0;else{if(!wm(n,a)&&(r.flags&128)===0)return Bt=!1,xA(n,r,a);Bt=(n.flags&131072)!==0}else Bt=!1,Ke&&(r.flags&1048576)!==0&&av(r,ch,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,d=l._init;if(l=d(l._payload),r.type=l,typeof l=="function")Vm(l)?(n=Ea(l,n),r.tag=1,r=y_(null,r,l,n,a)):(r.tag=0,r=pm(null,r,l,n,a));else{if(l!=null){if(d=l.$$typeof,d===I){r.tag=11,r=h_(null,r,l,n,a);break e}else if(d===Q){r.tag=14,r=d_(null,r,l,n,a);break e}}throw r=A(l)||l,Error(s(306,r,""))}}return r;case 0:return pm(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=Ea(l,r.pendingProps),y_(n,r,l,d,a);case 3:e:{if(kr(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var m=r.pendingProps;d=r.memoizedState,l=d.element,Cm(n,r),vu(r,m,null,a);var b=r.memoizedState;if(m=b.cache,is(r,Mt,m),m!==d.cache&&Sm(r,[Mt],a,!0),yu(),m=b.element,d.isDehydrated)if(d={element:m,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=v_(n,r,m,a);break e}else if(m!==l){l=zn(Error(s(424)),r),ru(l),r=v_(n,r,m,a);break e}else for(Kt=ri(r.stateNode.containerInfo.firstChild),dn=r,Ke=!0,ni=null,Ri=!0,a=pv(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(iu(),m===l){r=sr(n,r,a);break e}$t(n,r,m,a)}r=r.child}return r;case 26:return mu(n,r),n===null?(a=A0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ke||(a=r.type,n=r.pendingProps,l=Fh(Mn.current).createElement(a),l[Ut]=r,l[Nt]=n,Yt(l,a,n),ut(l),r.stateNode=l):r.memoizedState=A0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Ml(r),n===null&&Ke&&(l=r.stateNode=T0(r.type,r.pendingProps,Mn.current),dn=r,Ri=!0,Kt=ri(l.firstChild)),l=r.pendingProps.children,n!==null||Ke?$t(n,r,l,a):r.child=pa(r,null,l,a),mu(n,r),r.child;case 5:return n===null&&Ke&&((d=l=Kt)&&(l=eS(l,r.type,r.pendingProps,Ri),l!==null?(r.stateNode=l,dn=r,Kt=ri(l.firstChild),Ri=!1,d=!0):d=!1),d||ma(r)),Ml(r),d=r.type,m=r.pendingProps,b=n!==null?n.memoizedProps:null,l=m.children,up(d,m)?l=null:b!==null&&up(d,b)&&(r.flags|=32),r.memoizedState!==null&&(d=Wf(n,r,yA,null,null,a),Mu._currentValue=d),mu(n,r),$t(n,r,l,a),r.child;case 6:return n===null&&Ke&&((n=a=Kt)&&(a=tS(a,r.pendingProps,Ri),a!==null?(r.stateNode=a,dn=r,Kt=null,n=!0):n=!1),n||ma(r)),null;case 13:return __(n,r,a);case 4:return kr(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=pa(r,null,l,a):$t(n,r,l,a),r.child;case 11:return h_(n,r,r.type,r.pendingProps,a);case 7:return $t(n,r,r.pendingProps,a),r.child;case 8:return $t(n,r,r.pendingProps.children,a),r.child;case 12:return $t(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,is(r,r.type,l.value),$t(n,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,Ta(r),d=en(d),l=l(d),r.flags|=1,$t(n,r,l,a),r.child;case 14:return d_(n,r,r.type,r.pendingProps,a);case 15:return f_(n,r,r.type,r.pendingProps,a);case 19:return b_(n,r,a);case 22:return m_(n,r,a);case 24:return Ta(r),l=en(Mt),n===null?(d=Yf(),d===null&&(d=rt,m=Kf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),r.memoizedState={parent:l,cache:d},Rm(r),is(r,Mt,d)):((n.lanes&a)!==0&&(Cm(n,r),vu(r,null,null,a),yu()),d=n.memoizedState,m=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),is(r,Mt,l)):(l=m.cache,is(r,Mt,l),l!==d.cache&&Sm(r,[Mt],a,!0))),$t(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var xm=Ge(null),ba=null,ar=null;function is(n,r,a){Ze(xm,r._currentValue),r._currentValue=a}function or(n){n._currentValue=xm.current,ft(xm)}function Am(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Sm(n,r,a,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var m=d.dependencies;if(m!==null){var b=d.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=d;for(var D=0;D<r.length;D++)if(S.context===r[D]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Am(m.return,a,n),l||(b=null);break e}m=S.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(s(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Am(b,a,n),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===n){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function pu(n,r,a,l){n=null;for(var d=r,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var S=d.type;Rn(d.pendingProps.value,b.value)||(n!==null?n.push(S):n=[S])}}else if(d===jr.current){if(b=d.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Mu):n=[Mu])}d=d.return}n!==null&&Sm(r,n,a,l),r.flags|=262144}function Rh(n){for(n=n.firstContext;n!==null;){if(!Rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ta(n){ba=n,ar=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return w_(ba,n)}function Ch(n,r){return ba===null&&Ta(n),w_(n,r)}function w_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ar===null){if(n===null)throw Error(s(308));ar=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ar=ar.next=r;return a}var rs=!1;function Rm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cm(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ss(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function as(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(ht&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=lh(n),rv(n,null,a),r}return oh(n,l,r,a),lh(n)}function gu(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Br(n,a)}}function Nm(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?d=m=r:m=m.next=r}else d=m=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Im=!1;function yu(){if(Im){var n=wo;if(n!==null)throw n}}function vu(n,r,a,l){Im=!1;var d=n.updateQueue;rs=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var D=S,z=D.next;D.next=null,b===null?m=z:b.next=z,b=D;var W=n.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==b&&(S===null?W.firstBaseUpdate=z:S.next=z,W.lastBaseUpdate=D))}if(m!==null){var ie=d.baseState;b=0,W=z=D=null,S=m;do{var K=S.lane&-536870913,X=K!==S.lane;if(X?(Fe&K)===K:(l&K)===K){K!==0&&K===To&&(Im=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ye=n,Se=S;K=r;var yt=a;switch(Se.tag){case 1:if(ye=Se.payload,typeof ye=="function"){ie=ye.call(yt,ie,K);break e}ie=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Se.payload,K=typeof ye=="function"?ye.call(yt,ie,K):ye,K==null)break e;ie=N({},ie,K);break e;case 2:rs=!0}}K=S.callback,K!==null&&(n.flags|=64,X&&(n.flags|=8192),X=d.callbacks,X===null?d.callbacks=[K]:X.push(K))}else X={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(z=W=X,D=ie):W=W.next=X,b|=K;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;X=S,S=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);W===null&&(D=ie),d.baseState=D,d.firstBaseUpdate=z,d.lastBaseUpdate=W,m===null&&(d.shared.lanes=0),hs|=b,n.lanes=b,n.memoizedState=ie}}function x_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function A_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)x_(a[n],r)}function _u(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&n)===n){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==d)}}catch(S){nt(r,r.return,S)}}function os(n,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&n)===n){var b=l.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,d=r;var D=a;try{S()}catch(z){nt(d,D,z)}}}l=l.next}while(l!==m)}}catch(z){nt(r,r.return,z)}}function S_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{A_(r,a)}catch(l){nt(n,n.return,l)}}}function R_(n,r,a){a.props=Ea(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){nt(n,r,l)}}function wa(n,r){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var d=l;break;default:d=l}typeof a=="function"?n.refCleanup=a(d):a.current=d}}catch(m){nt(n,r,m)}}function Cn(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){nt(n,r,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){nt(n,r,d)}else a.current=null}function C_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){nt(n,n.return,d)}}function N_(n,r,a){try{var l=n.stateNode;YA(l,n.type,a,r),l[Nt]=r}catch(d){nt(n,n.return,d)}}function I_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Dm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||I_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Om(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Bh));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Om(n,r,a),n=n.sibling;n!==null;)Om(n,r,a),n=n.sibling}function Nh(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Nh(n,r,a),n=n.sibling;n!==null;)Nh(n,r,a),n=n.sibling}var lr=!1,pt=!1,Mm=!1,D_=typeof WeakSet=="function"?WeakSet:Set,Ft=null,O_=!1;function AA(n,r){if(n=n.containerInfo,op=Yh,n=Yy(n),jf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,S=-1,D=-1,z=0,W=0,ie=n,K=null;t:for(;;){for(var X;ie!==a||d!==0&&ie.nodeType!==3||(S=b+d),ie!==m||l!==0&&ie.nodeType!==3||(D=b+l),ie.nodeType===3&&(b+=ie.nodeValue.length),(X=ie.firstChild)!==null;)K=ie,ie=X;for(;;){if(ie===n)break t;if(K===a&&++z===d&&(S=b),K===m&&++W===l&&(D=b),(X=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=X}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(lp={focusedElem:n,selectionRange:a},Yh=!1,Ft=r;Ft!==null;)if(r=Ft,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Ft=n;else for(;Ft!==null;){switch(r=Ft,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var ye=Ea(a.type,d,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(ye,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(Se){nt(a,a.return,Se)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)dp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":dp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Ft=n;break}Ft=r.return}return ye=O_,O_=!1,ye}function M_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:cr(n,a),l&4&&_u(5,a);break;case 1:if(cr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(S){nt(a,a.return,S)}else{var d=Ea(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(d,r,n.__reactInternalSnapshotBeforeUpdate)}catch(S){nt(a,a.return,S)}}l&64&&S_(a),l&512&&wa(a,a.return);break;case 3:if(cr(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{A_(l,n)}catch(S){nt(a,a.return,S)}}break;case 26:cr(n,a),l&512&&wa(a,a.return);break;case 27:case 5:cr(n,a),r===null&&l&4&&C_(a),l&512&&wa(a,a.return);break;case 12:cr(n,a);break;case 13:cr(n,a),l&4&&k_(n,a);break;case 22:if(d=a.memoizedState!==null||lr,!d){r=r!==null&&r.memoizedState!==null||pt;var m=lr,b=pt;lr=d,(pt=r)&&!b?ls(n,a,(a.subtreeFlags&8772)!==0):cr(n,a),lr=m,pt=b}l&512&&(a.memoizedProps.mode==="manual"?wa(a,a.return):Cn(a,a.return));break;default:cr(n,a)}}function P_(n){var r=n.alternate;r!==null&&(n.alternate=null,P_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Js(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var At=null,Nn=!1;function ur(n,r,a){for(a=a.child;a!==null;)j_(n,r,a),a=a.sibling}function j_(n,r,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Vr,a)}catch{}switch(a.tag){case 26:pt||Cn(a,r),ur(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||Cn(a,r);var l=At,d=Nn;for(At=a.stateNode,ur(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Js(a),At=l,Nn=d;break;case 5:pt||Cn(a,r);case 6:d=At;var m=Nn;if(At=null,ur(n,r,a),At=d,Nn=m,At!==null)if(Nn)try{n=At,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(b){nt(a,r,b)}else try{At.removeChild(a.stateNode)}catch(b){nt(a,r,b)}break;case 18:At!==null&&(Nn?(r=At,a=a.stateNode,r.nodeType===8?hp(r.parentNode,a):r.nodeType===1&&hp(r,a),Vu(r)):hp(At,a.stateNode));break;case 4:l=At,d=Nn,At=a.stateNode.containerInfo,Nn=!0,ur(n,r,a),At=l,Nn=d;break;case 0:case 11:case 14:case 15:pt||os(2,a,r),pt||os(4,a,r),ur(n,r,a);break;case 1:pt||(Cn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&R_(a,r,l)),ur(n,r,a);break;case 21:ur(n,r,a);break;case 22:pt||Cn(a,r),pt=(l=pt)||a.memoizedState!==null,ur(n,r,a),pt=l;break;default:ur(n,r,a)}}function k_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Vu(n)}catch(a){nt(r,r.return,a)}}function SA(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new D_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new D_),r;default:throw Error(s(435,n.tag))}}function Pm(n,r){var a=SA(n);r.forEach(function(l){var d=UA.bind(null,n,l);a.has(l)||(a.add(l),l.then(d,d))})}function Gn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=n,b=r,S=b;e:for(;S!==null;){switch(S.tag){case 27:case 5:At=S.stateNode,Nn=!1;break e;case 3:At=S.stateNode.containerInfo,Nn=!0;break e;case 4:At=S.stateNode.containerInfo,Nn=!0;break e}S=S.return}if(At===null)throw Error(s(160));j_(m,b,d),At=null,Nn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)V_(r,n),r=r.sibling}var ii=null;function V_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Gn(r,n),Qn(n),l&4&&(os(3,n,n.return),_u(3,n),os(5,n,n.return));break;case 1:Gn(r,n),Qn(n),l&512&&(pt||a===null||Cn(a,a.return)),l&64&&lr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ii;if(Gn(r,n),Qn(n),l&512&&(pt||a===null||Cn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Hr]||m[Ut]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Yt(m,l,a),m[Ut]=n,ut(m),l=m;break e;case"link":var b=C0("link","href",d).get(l+(a.href||""));if(b){for(var S=0;S<b.length;S++)if(m=b[S],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(S,1);break t}}m=d.createElement(l),Yt(m,l,a),d.head.appendChild(m);break;case"meta":if(b=C0("meta","content",d).get(l+(a.content||""))){for(S=0;S<b.length;S++)if(m=b[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(S,1);break t}}m=d.createElement(l),Yt(m,l,a),d.head.appendChild(m);break;default:throw Error(s(468,l))}m[Ut]=n,ut(m),l=m}n.stateNode=l}else N0(d,n.type,n.stateNode);else n.stateNode=R0(d,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?N0(d,n.type,n.stateNode):R0(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&N_(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){d=n.stateNode,m=n.memoizedProps;try{for(var D=d.firstChild;D;){var z=D.nextSibling,W=D.nodeName;D[Hr]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=z}for(var ie=n.type,K=d.attributes;K.length;)d.removeAttributeNode(K[0]);Yt(d,ie,m),d[Ut]=n,d[Nt]=m}catch(ye){nt(n,n.return,ye)}}case 5:if(Gn(r,n),Qn(n),l&512&&(pt||a===null||Cn(a,a.return)),n.flags&32){d=n.stateNode;try{kn(d,"")}catch(ye){nt(n,n.return,ye)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,N_(n,d,a!==null?a.memoizedProps:d)),l&1024&&(Mm=!0);break;case 6:if(Gn(r,n),Qn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(ye){nt(n,n.return,ye)}}break;case 3:if(Qh=null,d=ii,ii=Hh(r.containerInfo),Gn(r,n),ii=d,Qn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Vu(r.containerInfo)}catch(ye){nt(n,n.return,ye)}Mm&&(Mm=!1,L_(n));break;case 4:l=ii,ii=Hh(n.stateNode.containerInfo),Gn(r,n),Qn(n),ii=l;break;case 12:Gn(r,n),Qn(n);break;case 13:Gn(r,n),Qn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fm=gn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Pm(n,l)));break;case 22:if(l&512&&(pt||a===null||Cn(a,a.return)),D=n.memoizedState!==null,z=a!==null&&a.memoizedState!==null,W=lr,ie=pt,lr=W||D,pt=ie||z,Gn(r,n),pt=ie,lr=W,Qn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=D?r._visibility&-2:r._visibility|1,D&&(r=lr||pt,a===null||z||r||Ro(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){z=a=r;try{if(d=z.stateNode,D)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=z.stateNode,S=z.memoizedProps.style;var X=S!=null&&S.hasOwnProperty("display")?S.display:null;b.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ye){nt(z,z.return,ye)}}}else if(r.tag===6){if(a===null){z=r;try{z.stateNode.nodeValue=D?"":z.memoizedProps}catch(ye){nt(z,z.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Pm(n,a))));break;case 19:Gn(r,n),Qn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Pm(n,l)));break;case 21:break;default:Gn(r,n),Qn(n)}}function Qn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(I_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var d=l.stateNode,m=Dm(n);Nh(n,m,d);break;case 5:var b=l.stateNode;l.flags&32&&(kn(b,""),l.flags&=-33);var S=Dm(n);Nh(n,S,b);break;case 3:case 4:var D=l.stateNode.containerInfo,z=Dm(n);Om(n,z,D);break;default:throw Error(s(161))}}}catch(W){nt(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function L_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;L_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function cr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)M_(n,r.alternate,r),r=r.sibling}function Ro(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:os(4,r,r.return),Ro(r);break;case 1:Cn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&R_(r,r.return,a),Ro(r);break;case 26:case 27:case 5:Cn(r,r.return),Ro(r);break;case 22:Cn(r,r.return),r.memoizedState===null&&Ro(r);break;default:Ro(r)}n=n.sibling}}function ls(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=n,m=r,b=m.flags;switch(m.tag){case 0:case 11:case 15:ls(d,m,a),_u(4,m);break;case 1:if(ls(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(z){nt(l,l.return,z)}if(l=m,d=l.updateQueue,d!==null){var S=l.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)x_(D[d],S)}catch(z){nt(l,l.return,z)}}a&&b&64&&S_(m),wa(m,m.return);break;case 26:case 27:case 5:ls(d,m,a),a&&l===null&&b&4&&C_(m),wa(m,m.return);break;case 12:ls(d,m,a);break;case 13:ls(d,m,a),a&&b&4&&k_(d,m);break;case 22:m.memoizedState===null&&ls(d,m,a),wa(m,m.return);break;default:ls(d,m,a)}r=r.sibling}}function jm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&uu(a))}function km(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&uu(n))}function us(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)U_(n,r,a,l),r=r.sibling}function U_(n,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:us(n,r,a,l),d&2048&&_u(9,r);break;case 3:us(n,r,a,l),d&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&uu(n)));break;case 12:if(d&2048){us(n,r,a,l),n=r.stateNode;try{var m=r.memoizedProps,b=m.id,S=m.onPostCommit;typeof S=="function"&&S(b,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){nt(r,r.return,D)}}else us(n,r,a,l);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?us(n,r,a,l):Eu(n,r):m._visibility&4?us(n,r,a,l):(m._visibility|=4,Co(n,r,a,l,(r.subtreeFlags&10256)!==0)),d&2048&&jm(r.alternate,r);break;case 24:us(n,r,a,l),d&2048&&km(r.alternate,r);break;default:us(n,r,a,l)}}function Co(n,r,a,l,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,b=r,S=a,D=l,z=b.flags;switch(b.tag){case 0:case 11:case 15:Co(m,b,S,D,d),_u(8,b);break;case 23:break;case 22:var W=b.stateNode;b.memoizedState!==null?W._visibility&4?Co(m,b,S,D,d):Eu(m,b):(W._visibility|=4,Co(m,b,S,D,d)),d&&z&2048&&jm(b.alternate,b);break;case 24:Co(m,b,S,D,d),d&&z&2048&&km(b.alternate,b);break;default:Co(m,b,S,D,d)}r=r.sibling}}function Eu(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,d=l.flags;switch(l.tag){case 22:Eu(a,l),d&2048&&jm(l.alternate,l);break;case 24:Eu(a,l),d&2048&&km(l.alternate,l);break;default:Eu(a,l)}r=r.sibling}}var bu=8192;function No(n){if(n.subtreeFlags&bu)for(n=n.child;n!==null;)q_(n),n=n.sibling}function q_(n){switch(n.tag){case 26:No(n),n.flags&bu&&n.memoizedState!==null&&mS(ii,n.memoizedState,n.memoizedProps);break;case 5:No(n);break;case 3:case 4:var r=ii;ii=Hh(n.stateNode.containerInfo),No(n),ii=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=bu,bu=16777216,No(n),bu=r):No(n));break;default:No(n)}}function z_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Tu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ft=l,F_(l,n)}z_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)B_(n),n=n.sibling}function B_(n){switch(n.tag){case 0:case 11:case 15:Tu(n),n.flags&2048&&os(9,n,n.return);break;case 3:Tu(n);break;case 12:Tu(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Ih(n)):Tu(n);break;default:Tu(n)}}function Ih(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ft=l,F_(l,n)}z_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:os(8,r,r.return),Ih(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Ih(r));break;default:Ih(r)}n=n.sibling}}function F_(n,r){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:os(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:uu(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ft=l;else e:for(a=n;Ft!==null;){l=Ft;var d=l.sibling,m=l.return;if(P_(l),l===a){Ft=null;break e}if(d!==null){d.return=m,Ft=d;break e}Ft=m}}}function RA(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(n,r,a,l){return new RA(n,r,a,l)}function Vm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function cs(n,r){var a=n.alternate;return a===null?(a=Kn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function H_(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Dh(n,r,a,l,d,m){var b=0;if(l=n,typeof n=="function")Vm(n)&&(b=1);else if(typeof n=="string")b=dS(n,a,ln.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return xa(a.children,d,m,r);case y:b=8,d|=24;break;case _:return n=Kn(12,a,r,d|2),n.elementType=_,n.lanes=m,n;case L:return n=Kn(13,a,r,d),n.elementType=L,n.lanes=m,n;case V:return n=Kn(19,a,r,d),n.elementType=V,n.lanes=m,n;case Y:return G_(a,d,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case C:b=10;break e;case x:b=9;break e;case I:b=11;break e;case Q:b=14;break e;case Z:b=16,l=null;break e}b=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Kn(b,a,r,d),r.elementType=n,r.type=l,r.lanes=m,r}function xa(n,r,a,l){return n=Kn(7,n,l,r),n.lanes=a,n}function G_(n,r,a,l){n=Kn(22,n,l,r),n.elementType=Y,n.lanes=a;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=d._current;if(m===null)throw Error(s(456));if((d._pendingVisibility&2)===0){var b=Zr(m,2);b!==null&&(d._pendingVisibility|=2,fn(b,m,2))}},attach:function(){var m=d._current;if(m===null)throw Error(s(456));if((d._pendingVisibility&2)!==0){var b=Zr(m,2);b!==null&&(d._pendingVisibility&=-3,fn(b,m,2))}}};return n.stateNode=d,n}function Lm(n,r,a){return n=Kn(6,n,null,r),n.lanes=a,n}function Um(n,r,a){return r=Kn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function hr(n){n.flags|=4}function Q_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!I0(r)){if(r=Hn.current,r!==null&&((Fe&4194176)===Fe?Ci!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||r!==Ci))throw au=Hf,uv;n.flags|=8192}}function Oh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?qr():536870912,n.lanes|=r,Do|=r)}function wu(n,r){if(!Ke)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ct(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&31457280,l|=d.flags&31457280,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function CA(n,r,a){var l=r.pendingProps;switch(Bf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),or(Mt),Hi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(nu(r)?hr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ni!==null&&(Km(ni),ni=null))),ct(r),null;case 26:return a=r.memoizedState,n===null?(hr(r),a!==null?(ct(r),Q_(r,a)):(ct(r),r.flags&=-16777217)):a?a!==n.memoizedState?(hr(r),ct(r),Q_(r,a)):(ct(r),r.flags&=-16777217):(n.memoizedProps!==l&&hr(r),ct(r),r.flags&=-16777217),null;case 27:Ya(r),a=Mn.current;var d=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&hr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}n=ln.current,nu(r)?ov(r):(n=T0(d,l,a),r.stateNode=n,hr(r))}return ct(r),null;case 5:if(Ya(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&hr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(n=ln.current,nu(r))ov(r);else{switch(d=Fh(Mn.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}n[Ut]=r,n[Nt]=l;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=n;e:switch(Yt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&hr(r)}}return ct(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&hr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Mn.current,nu(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,d=dn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[Ut]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||g0(n.nodeValue,a)),n||ma(r)}else n=Fh(n).createTextNode(l),n[Ut]=r,r.stateNode=n}return ct(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=nu(r),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ut]=r}else iu(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),d=!1}else ni!==null&&(Km(ni),ni=null),d=!0;if(!d)return r.flags&256?(ir(r),r):(ir(r),null)}if(ir(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Oh(r,r.updateQueue),ct(r),null;case 4:return Hi(),n===null&&rp(r.stateNode.containerInfo),ct(r),null;case 10:return or(r.type),ct(r),null;case 19:if(ft(Ot),d=r.memoizedState,d===null)return ct(r),null;if(l=(r.flags&128)!==0,m=d.rendering,m===null)if(l)wu(d,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=ph(n),m!==null){for(r.flags|=128,wu(d,!1),n=m.updateQueue,r.updateQueue=n,Oh(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)H_(a,n),a=a.sibling;return Ze(Ot,Ot.current&1|2),r.child}n=n.sibling}d.tail!==null&&gn()>Mh&&(r.flags|=128,l=!0,wu(d,!1),r.lanes=4194304)}else{if(!l)if(n=ph(m),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Oh(r,n),wu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Ke)return ct(r),null}else 2*gn()-d.renderingStartTime>Mh&&a!==536870912&&(r.flags|=128,l=!0,wu(d,!1),r.lanes=4194304);d.isBackwards?(m.sibling=r.child,r.child=m):(n=d.last,n!==null?n.sibling=m:r.child=m,d.last=m)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=gn(),r.sibling=null,n=Ot.current,Ze(Ot,l?n&1|2:n&1),r):(ct(r),null);case 22:case 23:return ir(r),Qf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),a=r.updateQueue,a!==null&&Oh(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ft(ga),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),or(Mt),ct(r),null;case 25:return null}throw Error(s(156,r.tag))}function NA(n,r){switch(Bf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return or(Mt),Hi(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ya(r),null;case 13:if(ir(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));iu()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ft(Ot),null;case 4:return Hi(),null;case 10:return or(r.type),null;case 22:case 23:return ir(r),Qf(),n!==null&&ft(ga),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return or(Mt),null;case 25:return null;default:return null}}function K_(n,r){switch(Bf(r),r.tag){case 3:or(Mt),Hi();break;case 26:case 27:case 5:Ya(r);break;case 4:Hi();break;case 13:ir(r);break;case 19:ft(Ot);break;case 10:or(r.type);break;case 22:case 23:ir(r),Qf(),n!==null&&ft(ga);break;case 24:or(Mt)}}var IA={getCacheForType:function(n){var r=en(Mt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},DA=typeof WeakMap=="function"?WeakMap:Map,ht=0,rt=null,Pe=null,Fe=0,st=0,In=null,dr=!1,Io=!1,qm=!1,fr=0,gt=0,hs=0,Aa=0,zm=0,$n=0,Do=0,xu=null,Ii=null,Bm=!1,Fm=0,Mh=1/0,Ph=null,ds=null,jh=!1,Sa=null,Au=0,Hm=0,Gm=null,Su=0,Qm=null;function Dn(){if((ht&2)!==0&&Fe!==0)return Fe&-Fe;if(w.T!==null){var n=To;return n!==0?n:ep()}return zc()}function $_(){$n===0&&($n=(Fe&536870912)===0||Ke?Ll():536870912);var n=Hn.current;return n!==null&&(n.flags|=32),$n}function fn(n,r,a){(n===rt&&st===2||n.cancelPendingCommit!==null)&&(Oo(n,0),mr(n,Fe,$n,!1)),_t(n,a),((ht&2)===0||n!==rt)&&(n===rt&&((ht&2)===0&&(Aa|=a),gt===4&&mr(n,Fe,$n,!1)),Di(n))}function Y_(n,r,a){if((ht&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&n.expiredLanes)===0||Ur(n,r),d=l?PA(n,r):Xm(n,r,!0),m=l;do{if(d===0){Io&&!l&&mr(n,r,0,!1);break}else if(d===6)mr(n,r,0,!dr);else{if(a=n.current.alternate,m&&!OA(a)){d=Xm(n,r,!1),m=!1;continue}if(d===2){if(m=r,n.errorRecoveryDisabledLanes&m)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var S=n;d=xu;var D=S.current.memoizedState.isDehydrated;if(D&&(Oo(S,b).flags|=256),b=Xm(S,b,!1),b!==2){if(qm&&!D){S.errorRecoveryDisabledLanes|=m,Aa|=m,d=4;break e}m=Ii,Ii=d,m!==null&&Km(m)}d=b}if(m=!1,d!==2)continue}}if(d===1){Oo(n,0),mr(n,r,0,!0);break}e:{switch(l=n,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){mr(l,r,$n,!dr);break e}break;case 2:Ii=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(m=Fm+300-gn(),10<m)){if(mr(l,r,$n,!dr),Pn(l,0)!==0)break e;l.timeoutHandle=_0(X_.bind(null,l,a,Ii,Ph,Bm,r,$n,Aa,Do,dr,2,-0,0),m);break e}X_(l,a,Ii,Ph,Bm,r,$n,Aa,Do,dr,0,-0,0)}}break}while(!0);Di(n)}function Km(n){Ii===null?Ii=n:Ii.push.apply(Ii,n)}function X_(n,r,a,l,d,m,b,S,D,z,W,ie,K){var X=r.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Ou={stylesheets:null,count:0,unsuspend:fS},q_(r),r=pS(),r!==null)){n.cancelPendingCommit=r(i0.bind(null,n,a,l,d,b,S,D,1,ie,K)),mr(n,m,b,!z);return}i0(n,a,l,d,b,S,D,W,ie,K)}function OA(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!Rn(m(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function mr(n,r,a,l){r&=~zm,r&=~Aa,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var d=r;0<d;){var m=31-un(d),b=1<<m;l[m]=-1,d&=~b}a!==0&&zr(n,a,r)}function kh(){return(ht&6)===0?(Ru(0),!1):!0}function $m(){if(Pe!==null){if(st===0)var n=Pe.return;else n=Pe,ar=ba=null,em(n),Eo=null,ou=0,n=Pe;for(;n!==null;)K_(n.alternate,n),n=n.return;Pe=null}}function Oo(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,WA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),$m(),rt=n,Pe=a=cs(n.current,null),Fe=r,st=0,In=null,dr=!1,Io=Ur(n,r),qm=!1,Do=$n=zm=Aa=hs=gt=0,Ii=xu=null,Bm=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var d=31-un(l),m=1<<d;r|=n[d],l&=~m}return fr=r,ah(),a}function W_(n,r){Oe=null,w.H=Ni,r===su?(r=dv(),st=3):r===uv?(r=dv(),st=4):st=r===c_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,Pe===null&&(gt=1,Sh(n,zn(r,n.current)))}function Z_(){var n=w.H;return w.H=Ni,n===null?Ni:n}function J_(){var n=w.A;return w.A=IA,n}function Ym(){gt=4,dr||(Fe&4194176)!==Fe&&Hn.current!==null||(Io=!0),(hs&134217727)===0&&(Aa&134217727)===0||rt===null||mr(rt,Fe,$n,!1)}function Xm(n,r,a){var l=ht;ht|=2;var d=Z_(),m=J_();(rt!==n||Fe!==r)&&(Ph=null,Oo(n,r)),r=!1;var b=gt;e:do try{if(st!==0&&Pe!==null){var S=Pe,D=In;switch(st){case 8:$m(),b=6;break e;case 3:case 2:case 6:Hn.current===null&&(r=!0);var z=st;if(st=0,In=null,Mo(n,S,D,z),a&&Io){b=0;break e}break;default:z=st,st=0,In=null,Mo(n,S,D,z)}}MA(),b=gt;break}catch(W){W_(n,W)}while(!0);return r&&n.shellSuspendCounter++,ar=ba=null,ht=l,w.H=d,w.A=m,Pe===null&&(rt=null,Fe=0,ah()),b}function MA(){for(;Pe!==null;)e0(Pe)}function PA(n,r){var a=ht;ht|=2;var l=Z_(),d=J_();rt!==n||Fe!==r?(Ph=null,Mh=gn()+500,Oo(n,r)):Io=Ur(n,r);e:do try{if(st!==0&&Pe!==null){r=Pe;var m=In;t:switch(st){case 1:st=0,In=null,Mo(n,r,m,1);break;case 2:if(cv(m)){st=0,In=null,t0(r);break}r=function(){st===2&&rt===n&&(st=7),Di(n)},m.then(r,r);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:cv(m)?(st=0,In=null,t0(r)):(st=0,In=null,Mo(n,r,m,7));break;case 5:var b=null;switch(Pe.tag){case 26:b=Pe.memoizedState;case 5:case 27:var S=Pe;if(!b||I0(b)){st=0,In=null;var D=S.sibling;if(D!==null)Pe=D;else{var z=S.return;z!==null?(Pe=z,Vh(z)):Pe=null}break t}}st=0,In=null,Mo(n,r,m,5);break;case 6:st=0,In=null,Mo(n,r,m,6);break;case 8:$m(),gt=6;break e;default:throw Error(s(462))}}jA();break}catch(W){W_(n,W)}while(!0);return ar=ba=null,w.H=l,w.A=d,ht=a,Pe!==null?0:(rt=null,Fe=0,ah(),gt)}function jA(){for(;Pe!==null&&!xf();)e0(Pe)}function e0(n){var r=T_(n.alternate,n,fr);n.memoizedProps=n.pendingProps,r===null?Vh(n):Pe=r}function t0(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=g_(a,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=g_(a,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:em(r);default:K_(a,r),r=Pe=H_(r,fr),r=T_(a,r,fr)}n.memoizedProps=n.pendingProps,r===null?Vh(n):Pe=r}function Mo(n,r,a,l){ar=ba=null,em(r),Eo=null,ou=0;var d=r.return;try{if(wA(n,d,r,a,Fe)){gt=1,Sh(n,zn(a,n.current)),Pe=null;return}}catch(m){if(d!==null)throw Pe=d,m;gt=1,Sh(n,zn(a,n.current)),Pe=null;return}r.flags&32768?(Ke||l===1?n=!0:Io||(Fe&536870912)!==0?n=!1:(dr=n=!0,(l===2||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),n0(r,n)):Vh(r)}function Vh(n){var r=n;do{if((r.flags&32768)!==0){n0(r,dr);return}n=r.return;var a=CA(r.alternate,r,fr);if(a!==null){Pe=a;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=n}while(r!==null);gt===0&&(gt=5)}function n0(n,r){do{var a=NA(n.alternate,n);if(a!==null){a.flags&=32767,Pe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Pe=n;return}Pe=n=a}while(n!==null);gt=6,Pe=null}function i0(n,r,a,l,d,m,b,S,D,z){var W=w.T,ie=he.p;try{he.p=2,w.T=null,kA(n,r,a,l,ie,d,m,b,S,D,z)}finally{w.T=W,he.p=ie}}function kA(n,r,a,l,d,m,b,S){do Po();while(Sa!==null);if((ht&6)!==0)throw Error(s(327));var D=n.finishedWork;if(l=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var z=D.lanes|D.childLanes;if(z|=Uf,Uc(n,l,z,m,b,S),n===rt&&(Pe=rt=null,Fe=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||jh||(jh=!0,Hm=z,Gm=a,qA(Gi,function(){return Po(),null})),a=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||a?(a=w.T,w.T=null,m=he.p,he.p=2,b=ht,ht|=4,AA(n,D),V_(D,n),aA(lp,n.containerInfo),Yh=!!op,lp=op=null,n.current=D,M_(n,D.alternate,D),Pl(),ht=b,he.p=m,w.T=a):n.current=D,jh?(jh=!1,Sa=n,Au=l):r0(n,z),z=n.pendingLanes,z===0&&(ds=null),kl(D.stateNode),Di(n),r!==null)for(d=n.onRecoverableError,D=0;D<r.length;D++)z=r[D],d(z.value,{componentStack:z.stack});return(Au&3)!==0&&Po(),z=n.pendingLanes,(l&4194218)!==0&&(z&42)!==0?n===Qm?Su++:(Su=0,Qm=n):Su=0,Ru(0),null}function r0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,uu(r)))}function Po(){if(Sa!==null){var n=Sa,r=Hm;Hm=0;var a=qc(Au),l=w.T,d=he.p;try{if(he.p=32>a?32:a,w.T=null,Sa===null)var m=!1;else{a=Gm,Gm=null;var b=Sa,S=Au;if(Sa=null,Au=0,(ht&6)!==0)throw Error(s(331));var D=ht;if(ht|=4,B_(b.current),U_(b,b.current,S,a),ht=D,Ru(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Vr,b)}catch{}m=!0}return m}finally{he.p=d,w.T=l,r0(n,r)}}return!1}function s0(n,r,a){r=zn(a,r),r=mm(n.stateNode,r,2),n=as(n,r,2),n!==null&&(_t(n,2),Di(n))}function nt(n,r,a){if(n.tag===3)s0(n,n,a);else for(;r!==null;){if(r.tag===3){s0(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ds===null||!ds.has(l))){n=zn(a,n),a=l_(2),l=as(r,a,2),l!==null&&(u_(a,l,r,n),_t(l,2),Di(l));break}}r=r.return}}function Wm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new DA;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(qm=!0,d.add(a),n=VA.bind(null,n,r,a),r.then(n,n))}function VA(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,rt===n&&(Fe&a)===a&&(gt===4||gt===3&&(Fe&62914560)===Fe&&300>gn()-Fm?(ht&2)===0&&Oo(n,0):zm|=a,Do===Fe&&(Do=0)),Di(n)}function a0(n,r){r===0&&(r=qr()),n=Zr(n,r),n!==null&&(_t(n,r),Di(n))}function LA(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),a0(n,a)}function UA(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),a0(n,a)}function qA(n,r){return Xs(n,r)}var Lh=null,jo=null,Zm=!1,Uh=!1,Jm=!1,Ra=0;function Di(n){n!==jo&&n.next===null&&(jo===null?Lh=jo=n:jo=jo.next=n),Uh=!0,Zm||(Zm=!0,BA(zA))}function Ru(n,r){if(!Jm&&Uh){Jm=!0;do for(var a=!1,l=Lh;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var b=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-un(42|n)+1)-1,m&=d&~(b&~S),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,u0(l,m))}else m=Fe,m=Pn(l,l===rt?m:0),(m&3)===0||Ur(l,m)||(a=!0,u0(l,m));l=l.next}while(a);Jm=!1}}function zA(){Uh=Zm=!1;var n=0;Ra!==0&&(XA()&&(n=Ra),Ra=0);for(var r=gn(),a=null,l=Lh;l!==null;){var d=l.next,m=o0(l,r);m===0?(l.next=null,a===null?Lh=d:a.next=d,d===null&&(jo=a)):(a=l,(n!==0||(m&3)!==0)&&(Uh=!0)),l=d}Ru(n)}function o0(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var b=31-un(m),S=1<<b,D=d[b];D===-1?((S&a)===0||(S&l)!==0)&&(d[b]=Za(S,r)):D<=r&&(n.expiredLanes|=S),m&=~S}if(r=rt,a=Fe,a=Pn(n,n===r?a:0),l=n.callbackNode,a===0||n===r&&st===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Wa(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ur(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Wa(l),qc(a)){case 2:case 8:a=Lt;break;case 32:a=Gi;break;case 268435456:a=jl;break;default:a=Gi}return l=l0.bind(null,n),a=Xs(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Wa(l),n.callbackPriority=2,n.callbackNode=null,2}function l0(n,r){var a=n.callbackNode;if(Po()&&n.callbackNode!==a)return null;var l=Fe;return l=Pn(n,n===rt?l:0),l===0?null:(Y_(n,l,r),o0(n,gn()),n.callbackNode!=null&&n.callbackNode===a?l0.bind(null,n):null)}function u0(n,r){if(Po())return null;Y_(n,r,!0)}function BA(n){ZA(function(){(ht&6)!==0?Xs(Ct,n):n()})}function ep(){return Ra===0&&(Ra=Ll()),Ra}function c0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ei(""+n)}function h0(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function FA(n,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var m=c0((d[Nt]||null).action),b=l.submitter;b&&(r=(r=b[Nt]||null)?c0(r.formAction):b.getAttribute("formAction"),r!==null&&(m=r,b=null));var S=new so("action","action",null,l,d);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ra!==0){var D=b?h0(d,b):new FormData(d);um(a,{pending:!0,data:D,method:d.method,action:m},null,D)}}else typeof m=="function"&&(S.preventDefault(),D=b?h0(d,b):new FormData(d),um(a,{pending:!0,data:D,method:d.method,action:m},m,D))},currentTarget:d}]})}}for(var tp=0;tp<iv.length;tp++){var np=iv[tp],HA=np.toLowerCase(),GA=np[0].toUpperCase()+np.slice(1);ti(HA,"on"+GA)}ti(Zy,"onAnimationEnd"),ti(Jy,"onAnimationIteration"),ti(ev,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(lA,"onTransitionRun"),ti(uA,"onTransitionStart"),ti(cA,"onTransitionCancel"),ti(tv,"onTransitionEnd"),yn("onMouseEnter",["mouseout","mouseover"]),yn("onMouseLeave",["mouseout","mouseover"]),yn("onPointerEnter",["pointerout","pointerover"]),yn("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function d0(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],d=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var b=l.length-1;0<=b;b--){var S=l[b],D=S.instance,z=S.currentTarget;if(S=S.listener,D!==m&&d.isPropagationStopped())break e;m=S,d.currentTarget=z;try{m(d)}catch(W){Ah(W)}d.currentTarget=null,m=D}else for(b=0;b<l.length;b++){if(S=l[b],D=S.instance,z=S.currentTarget,S=S.listener,D!==m&&d.isPropagationStopped())break e;m=S,d.currentTarget=z;try{m(d)}catch(W){Ah(W)}d.currentTarget=null,m=D}}}}function Le(n,r){var a=r[Zs];a===void 0&&(a=r[Zs]=new Set);var l=n+"__bubble";a.has(l)||(f0(r,n,2,!1),a.add(l))}function ip(n,r,a){var l=0;r&&(l|=4),f0(a,n,l,r)}var qh="_reactListening"+Math.random().toString(36).slice(2);function rp(n){if(!n[qh]){n[qh]=!0,ql.forEach(function(a){a!=="selectionchange"&&(QA.has(a)||ip(a,!1,n),ip(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[qh]||(r[qh]=!0,ip("selectionchange",!1,r))}}function f0(n,r,a,l){switch(k0(r)){case 2:var d=vS;break;case 8:d=_S;break;default:d=yp}a=d.bind(null,r,a,n),d=void 0,!Ln||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(r,a,{capture:!0,passive:d}):n.addEventListener(r,a,!0):d!==void 0?n.addEventListener(r,a,{passive:d}):n.addEventListener(r,a,!1)}function sp(n,r,a,l,d){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var S=l.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(b===4)for(b=l.return;b!==null;){var D=b.tag;if((D===3||D===4)&&(D=b.stateNode.containerInfo,D===d||D.nodeType===8&&D.parentNode===d))return;b=b.return}for(;S!==null;){if(b=ei(S),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){l=m=b;continue e}S=S.parentNode}}l=l.return}Gc(function(){var z=m,W=ro(a),ie=[];e:{var K=nv.get(n);if(K!==void 0){var X=so,ye=n;switch(n){case"keypress":if(Ti(a)===0)break e;case"keydown":case"keyup":X=ho;break;case"focusin":ye="focus",X=lo;break;case"focusout":ye="blur",X=lo;break;case"beforeblur":case"afterblur":X=lo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Jc;break;case Zy:case Jy:case ev:X=uo;break;case tv:X=th;break;case"scroll":case"scrollend":X=Qc;break;case"wheel":X=fo;break;case"copy":case"cut":case"paste":X=co;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Zl;break;case"toggle":case"beforetoggle":X=ih}var Se=(r&4)!==0,yt=!Se&&(n==="scroll"||n==="scrollend"),B=Se?K!==null?K+"Capture":null:K;Se=[];for(var q=z,G;q!==null;){var J=q;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||B===null||(J=ia(q,B),J!=null&&Se.push(Nu(q,J,G))),yt)break;q=q.return}0<Se.length&&(K=new X(K,ye,null,a,W),ie.push({event:K,listeners:Se}))}}if((r&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",K&&a!==Vn&&(ye=a.relatedTarget||a.fromElement)&&(ei(ye)||ye[Qi]))break e;if((X||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,X?(ye=a.relatedTarget||a.toElement,X=z,ye=ye?ei(ye):null,ye!==null&&(yt=pe(ye),Se=ye.tag,ye!==yt||Se!==5&&Se!==27&&Se!==6)&&(ye=null)):(X=null,ye=z),X!==ye)){if(Se=Un,J="onMouseLeave",B="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(Se=Zl,J="onPointerLeave",B="onPointerEnter",q="pointer"),yt=X==null?K:Gr(X),G=ye==null?K:Gr(ye),K=new Se(J,q+"leave",X,a,W),K.target=yt,K.relatedTarget=G,J=null,ei(W)===z&&(Se=new Se(B,q+"enter",ye,a,W),Se.target=G,Se.relatedTarget=yt,J=Se),yt=J,X&&ye)t:{for(Se=X,B=ye,q=0,G=Se;G;G=ko(G))q++;for(G=0,J=B;J;J=ko(J))G++;for(;0<q-G;)Se=ko(Se),q--;for(;0<G-q;)B=ko(B),G--;for(;q--;){if(Se===B||B!==null&&Se===B.alternate)break t;Se=ko(Se),B=ko(B)}Se=null}else Se=null;X!==null&&m0(ie,K,X,Se,!1),ye!==null&&yt!==null&&m0(ie,yt,ye,Se,!0)}}e:{if(K=z?Gr(z):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var me=zy;else if(Dt(K))if(By)me=rA;else{me=nA;var Me=tA}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?z&&Gl(z.elementType)&&(me=zy):me=iA;if(me&&(me=me(n,z))){er(ie,me,a,W);break e}Me&&Me(n,K,z),n==="focusout"&&z&&K.type==="number"&&z.memoizedProps.value!=null&&io(K,"number",K.value)}switch(Me=z?Gr(z):window,n){case"focusin":(Dt(Me)||Me.contentEditable==="true")&&(mo=Me,kf=z,tu=null);break;case"focusout":tu=kf=mo=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,Xy(ie,a,W);break;case"selectionchange":if(oA)break;case"keydown":case"keyup":Xy(ie,a,W)}var _e;if(Ai)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ze?$(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(E&&a.locale!=="ko"&&(ze||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ze&&(_e=Kl()):(bi=W,Wr="value"in bi?bi.value:bi.textContent,ze=!0)),Me=zh(z,Te),0<Me.length&&(Te=new Xl(Te,n,null,a,W),ie.push({event:Te,listeners:Me}),_e?Te.data=_e:(_e=ae(a),_e!==null&&(Te.data=_e)))),(_e=v?It(n,a):Be(n,a))&&(Te=zh(z,"onBeforeInput"),0<Te.length&&(Me=new Xl("onBeforeInput","beforeinput",null,a,W),ie.push({event:Me,listeners:Te}),Me.data=_e)),FA(ie,n,z,a,W)}d0(ie,r)})}function Nu(n,r,a){return{instance:n,listener:r,currentTarget:a}}function zh(n,r){for(var a=r+"Capture",l=[];n!==null;){var d=n,m=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ia(n,a),d!=null&&l.unshift(Nu(n,d,m)),d=ia(n,r),d!=null&&l.push(Nu(n,d,m))),n=n.return}return l}function ko(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function m0(n,r,a,l,d){for(var m=r._reactName,b=[];a!==null&&a!==l;){var S=a,D=S.alternate,z=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||z===null||(D=z,d?(z=ia(a,m),z!=null&&b.unshift(Nu(a,z,D))):d||(z=ia(a,m),z!=null&&b.push(Nu(a,z,D)))),a=a.return}b.length!==0&&n.push({event:r,listeners:b})}var KA=/\r\n?/g,$A=/\u0000|\uFFFD/g;function p0(n){return(typeof n=="string"?n:""+n).replace(KA,`
`).replace($A,"")}function g0(n,r){return r=p0(r),p0(n)===r}function Bh(){}function et(n,r,a,l,d,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||kn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&kn(n,""+l);break;case"className":$r(n,"class",l);break;case"tabIndex":$r(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$r(n,a,l);break;case"style":Hc(n,l,m);break;case"data":if(r!=="object"){$r(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ei(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&et(n,r,"name",d.name,d,null),et(n,r,"formEncType",d.formEncType,d,null),et(n,r,"formMethod",d.formMethod,d,null),et(n,r,"formTarget",d.formTarget,d,null)):(et(n,r,"encType",d.encType,d,null),et(n,r,"method",d.method,d,null),et(n,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ei(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Bh);break;case"onScroll":l!=null&&Le("scroll",n);break;case"onScrollEnd":l!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ei(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Le("beforetoggle",n),Le("toggle",n),Kr(n,"popover",l);break;case"xlinkActuate":jn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Kr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nf.get(a)||a,Kr(n,a,l))}}function ap(n,r,a,l,d,m){switch(a){case"style":Hc(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?kn(n,l):(typeof l=="number"||typeof l=="bigint")&&kn(n,""+l);break;case"onScroll":l!=null&&Le("scroll",n);break;case"onScrollEnd":l!=null&&Le("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Bh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!to.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),m=n[Nt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,d);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Kr(n,a,l)}}}function Yt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(n,r,m,b,a,null)}}d&&et(n,r,"srcSet",a.srcSet,a,null),l&&et(n,r,"src",a.src,a,null);return;case"input":Le("invalid",n);var S=m=b=d=null,D=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":d=W;break;case"type":b=W;break;case"checked":D=W;break;case"defaultChecked":z=W;break;case"value":m=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:et(n,r,l,W,a,null)}}ta(n,m,S,D,z,b,d,!1),ea(n);return;case"select":Le("invalid",n),l=b=m=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":m=S;break;case"defaultValue":b=S;break;case"multiple":l=S;default:et(n,r,d,S,a,null)}r=m,a=b,n.multiple=!!l,r!=null?Qe(n,!!l,r,!1):a!=null&&Qe(n,!!l,a,!0);return;case"textarea":Le("invalid",n),m=d=l=null;for(b in a)if(a.hasOwnProperty(b)&&(S=a[b],S!=null))switch(b){case"value":l=S;break;case"defaultValue":d=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(n,r,b,S,a,null)}Xr(n,l,d,m),ea(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(n,r,D,l,a,null)}return;case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(l=0;l<Cu.length;l++)Le(Cu[l],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(n,r,z,l,a,null)}return;default:if(Gl(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&ap(n,r,W,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&et(n,r,S,l,a,null))}function YA(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,b=null,S=null,D=null,z=null,W=null;for(X in a){var ie=a[X];if(a.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=ie;default:l.hasOwnProperty(X)||et(n,r,X,null,l,ie)}}for(var K in l){var X=l[K];if(ie=a[K],l.hasOwnProperty(K)&&(X!=null||ie!=null))switch(K){case"type":m=X;break;case"name":d=X;break;case"checked":z=X;break;case"defaultChecked":W=X;break;case"value":b=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ie&&et(n,r,K,X,l,ie)}}Yr(n,b,S,D,z,W,m,d);return;case"select":X=b=S=K=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(m)||et(n,r,m,null,l,D)}for(d in l)if(m=l[d],D=a[d],l.hasOwnProperty(d)&&(m!=null||D!=null))switch(d){case"value":K=m;break;case"defaultValue":S=m;break;case"multiple":b=m;default:m!==D&&et(n,r,d,m,l,D)}r=S,a=b,l=X,K!=null?Qe(n,!!a,K,!1):!!l!=!!a&&(r!=null?Qe(n,!!a,r,!0):Qe(n,!!a,a?[]:"",!1));return;case"textarea":X=K=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(n,r,S,null,l,d)}for(b in l)if(d=l[b],m=a[b],l.hasOwnProperty(b)&&(d!=null||m!=null))switch(b){case"value":K=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&et(n,r,b,d,l,m)}na(n,K,X);return;case"option":for(var ye in a)if(K=a[ye],a.hasOwnProperty(ye)&&K!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":n.selected=!1;break;default:et(n,r,ye,null,l,K)}for(D in l)if(K=l[D],X=a[D],l.hasOwnProperty(D)&&K!==X&&(K!=null||X!=null))switch(D){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:et(n,r,D,K,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)K=a[Se],a.hasOwnProperty(Se)&&K!=null&&!l.hasOwnProperty(Se)&&et(n,r,Se,null,l,K);for(z in l)if(K=l[z],X=a[z],l.hasOwnProperty(z)&&K!==X&&(K!=null||X!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:et(n,r,z,K,l,X)}return;default:if(Gl(r)){for(var yt in a)K=a[yt],a.hasOwnProperty(yt)&&K!==void 0&&!l.hasOwnProperty(yt)&&ap(n,r,yt,void 0,l,K);for(W in l)K=l[W],X=a[W],!l.hasOwnProperty(W)||K===X||K===void 0&&X===void 0||ap(n,r,W,K,l,X);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&et(n,r,B,null,l,K);for(ie in l)K=l[ie],X=a[ie],!l.hasOwnProperty(ie)||K===X||K==null&&X==null||et(n,r,ie,K,l,X)}var op=null,lp=null;function Fh(n){return n.nodeType===9?n:n.ownerDocument}function y0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function up(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cp=null;function XA(){var n=window.event;return n&&n.type==="popstate"?n===cp?!1:(cp=n,!0):(cp=null,!1)}var _0=typeof setTimeout=="function"?setTimeout:void 0,WA=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,ZA=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(n){return E0.resolve(null).then(n).catch(JA)}:_0;function JA(n){setTimeout(function(){throw n})}function hp(n,r){var a=r,l=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(l===0){n.removeChild(d),Vu(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=d}while(a);Vu(r)}function dp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dp(a),Js(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function eS(n,r,a,l){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Hr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==d.rel||n.getAttribute("href")!==(d.href==null?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=ri(n.nextSibling),n===null)break}return null}function tS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ri(n.nextSibling),n===null))return null;return n}function ri(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function b0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function T0(n,r,a){switch(r=Fh(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Yn=new Map,w0=new Set;function Hh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var pr=he.d;he.d={f:nS,r:iS,D:rS,C:sS,L:aS,m:oS,X:uS,S:lS,M:cS};function nS(){var n=pr.f(),r=kh();return n||r}function iS(n){var r=Ki(n);r!==null&&r.tag===5&&r.type==="form"?Xv(r):pr.r(n)}var Vo=typeof document>"u"?null:document;function x0(n,r,a){var l=Vo;if(l&&typeof r=="string"&&r){var d=mt(r);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),w0.has(d)||(w0.add(d),n={rel:n,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),Yt(r,"link",n),ut(r),l.head.appendChild(r)))}}function rS(n){pr.D(n),x0("dns-prefetch",n,null)}function sS(n,r){pr.C(n,r),x0("preconnect",n,r)}function aS(n,r,a){pr.L(n,r,a);var l=Vo;if(l&&n&&r){var d='link[rel="preload"][as="'+mt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+mt(a.imageSizes)+'"]')):d+='[href="'+mt(n)+'"]';var m=d;switch(r){case"style":m=Lo(n);break;case"script":m=Uo(n)}Yn.has(m)||(n=N({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Yn.set(m,n),l.querySelector(d)!==null||r==="style"&&l.querySelector(Iu(m))||r==="script"&&l.querySelector(Du(m))||(r=l.createElement("link"),Yt(r,"link",n),ut(r),l.head.appendChild(r)))}}function oS(n,r){pr.m(n,r);var a=Vo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+mt(l)+'"][href="'+mt(n)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Uo(n)}if(!Yn.has(m)&&(n=N({rel:"modulepreload",href:n},r),Yn.set(m,n),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Du(m)))return}l=a.createElement("link"),Yt(l,"link",n),ut(l),a.head.appendChild(l)}}}function lS(n,r,a){pr.S(n,r,a);var l=Vo;if(l&&n){var d=Qr(l).hoistableStyles,m=Lo(n);r=r||"default";var b=d.get(m);if(!b){var S={loading:0,preload:null};if(b=l.querySelector(Iu(m)))S.loading=5;else{n=N({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Yn.get(m))&&fp(n,a);var D=b=l.createElement("link");ut(D),Yt(D,"link",n),D._p=new Promise(function(z,W){D.onload=z,D.onerror=W}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Gh(b,r,l)}b={type:"stylesheet",instance:b,count:1,state:S},d.set(m,b)}}}function uS(n,r){pr.X(n,r);var a=Vo;if(a&&n){var l=Qr(a).hoistableScripts,d=Uo(n),m=l.get(d);m||(m=a.querySelector(Du(d)),m||(n=N({src:n,async:!0},r),(r=Yn.get(d))&&mp(n,r),m=a.createElement("script"),ut(m),Yt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function cS(n,r){pr.M(n,r);var a=Vo;if(a&&n){var l=Qr(a).hoistableScripts,d=Uo(n),m=l.get(d);m||(m=a.querySelector(Du(d)),m||(n=N({src:n,async:!0,type:"module"},r),(r=Yn.get(d))&&mp(n,r),m=a.createElement("script"),ut(m),Yt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function A0(n,r,a,l){var d=(d=Mn.current)?Hh(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Lo(a.href),a=Qr(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Lo(a.href);var m=Qr(d).hoistableStyles,b=m.get(n);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,b),(m=d.querySelector(Iu(n)))&&!m._p&&(b.instance=m,b.state.loading=5),Yn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(n,a),m||hS(d,n,a,b.state))),r&&l===null)throw Error(s(528,""));return b}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Uo(a),a=Qr(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Lo(n){return'href="'+mt(n)+'"'}function Iu(n){return'link[rel="stylesheet"]['+n+"]"}function S0(n){return N({},n,{"data-precedence":n.precedence,precedence:null})}function hS(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Yt(r,"link",a),ut(r),n.head.appendChild(r))}function Uo(n){return'[src="'+mt(n)+'"]'}function Du(n){return"script[async]"+n}function R0(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+mt(a.href)+'"]');if(l)return r.instance=l,ut(l),l;var d=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ut(l),Yt(l,"style",d),Gh(l,a.precedence,n),r.instance=l;case"stylesheet":d=Lo(a.href);var m=n.querySelector(Iu(d));if(m)return r.state.loading|=4,r.instance=m,ut(m),m;l=S0(a),(d=Yn.get(d))&&fp(l,d),m=(n.ownerDocument||n).createElement("link"),ut(m);var b=m;return b._p=new Promise(function(S,D){b.onload=S,b.onerror=D}),Yt(m,"link",l),r.state.loading|=4,Gh(m,a.precedence,n),r.instance=m;case"script":return m=Uo(a.src),(d=n.querySelector(Du(m)))?(r.instance=d,ut(d),d):(l=a,(d=Yn.get(m))&&(l=N({},a),mp(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),ut(d),Yt(d,"link",l),n.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Gh(l,a.precedence,n));return r.instance}function Gh(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,b=0;b<l.length;b++){var S=l[b];if(S.dataset.precedence===r)m=S;else if(m!==d)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function fp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function mp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Qh=null;function C0(n,r,a){if(Qh===null){var l=new Map,d=Qh=new Map;d.set(a,l)}else d=Qh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var m=a[d];if(!(m[Hr]||m[Ut]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(r)||"";b=n+b;var S=l.get(b);S?S.push(m):l.set(b,[m])}}return l}function N0(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function dS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function I0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ou=null;function fS(){}function mS(n,r,a){if(Ou===null)throw Error(s(475));var l=Ou;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Lo(a.href),m=n.querySelector(Iu(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Kh.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=m,ut(m);return}m=n.ownerDocument||n,a=S0(a),(d=Yn.get(d))&&fp(a,d),m=m.createElement("link"),ut(m);var b=m;b._p=new Promise(function(S,D){b.onload=S,b.onerror=D}),Yt(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Kh.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function pS(){if(Ou===null)throw Error(s(475));var n=Ou;return n.stylesheets&&n.count===0&&pp(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&pp(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Kh(){if(this.count--,this.count===0){if(this.stylesheets)pp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var $h=null;function pp(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,$h=new Map,r.forEach(gS,n),$h=null,Kh.call(n))}function gS(n,r){if(!(r.state.loading&4)){var a=$h.get(n);if(a)var l=a.get(null);else{a=new Map,$h.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var b=d[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}d=r.instance,b=d.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,d),a.set(b,d),this.count++,l=Kh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),r.state.loading|=4}}var Mu={$$typeof:C,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function yS(n,r,a,l,d,m,b,S){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ja(0),this.hiddenUpdates=Ja(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function D0(n,r,a,l,d,m,b,S,D,z,W,ie){return n=new yS(n,r,a,b,S,D,z,ie),r=1,m===!0&&(r|=24),m=Kn(3,null,null,r),n.current=m,m.stateNode=n,r=Kf(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},Rm(m),n}function O0(n){return n?(n=yo,n):yo}function M0(n,r,a,l,d,m){d=O0(d),l.context===null?l.context=d:l.pendingContext=d,l=ss(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=as(n,l,r),a!==null&&(fn(a,n,r),gu(a,n,r))}function P0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function gp(n,r){P0(n,r),(n=n.alternate)&&P0(n,r)}function j0(n){if(n.tag===13){var r=Zr(n,67108864);r!==null&&fn(r,n,67108864),gp(n,67108864)}}var Yh=!0;function vS(n,r,a,l){var d=w.T;w.T=null;var m=he.p;try{he.p=2,yp(n,r,a,l)}finally{he.p=m,w.T=d}}function _S(n,r,a,l){var d=w.T;w.T=null;var m=he.p;try{he.p=8,yp(n,r,a,l)}finally{he.p=m,w.T=d}}function yp(n,r,a,l){if(Yh){var d=vp(l);if(d===null)sp(n,r,l,Xh,a),V0(n,l);else if(bS(d,n,r,a,l))l.stopPropagation();else if(V0(n,l),r&4&&-1<ES.indexOf(n)){for(;d!==null;){var m=Ki(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Jn(m.pendingLanes);if(b!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var D=1<<31-un(b);S.entanglements[1]|=D,b&=~D}Di(m),(ht&6)===0&&(Mh=gn()+500,Ru(0))}}break;case 13:S=Zr(m,2),S!==null&&fn(S,m,2),kh(),gp(m,2)}if(m=vp(l),m===null&&sp(n,r,l,Xh,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else sp(n,r,l,null,a)}}function vp(n){return n=ro(n),_p(n)}var Xh=null;function _p(n){if(Xh=null,n=ei(n),n!==null){var r=pe(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=je(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Xh=n,null}function k0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jc()){case Ct:return 2;case Lt:return 8;case Gi:case kc:return 32;case jl:return 268435456;default:return 32}default:return 32}}var Ep=!1,fs=null,ms=null,ps=null,Pu=new Map,ju=new Map,gs=[],ES="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V0(n,r){switch(n){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Pu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(r.pointerId)}}function ku(n,r,a,l,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},r!==null&&(r=Ki(r),r!==null&&j0(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function bS(n,r,a,l,d){switch(r){case"focusin":return fs=ku(fs,n,r,a,l,d),!0;case"dragenter":return ms=ku(ms,n,r,a,l,d),!0;case"mouseover":return ps=ku(ps,n,r,a,l,d),!0;case"pointerover":var m=d.pointerId;return Pu.set(m,ku(Pu.get(m)||null,n,r,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,ju.set(m,ku(ju.get(m)||null,n,r,a,l,d)),!0}return!1}function L0(n){var r=ei(n.target);if(r!==null){var a=pe(r);if(a!==null){if(r=a.tag,r===13){if(r=je(a),r!==null){n.blockedOn=r,Fr(n.priority,function(){if(a.tag===13){var l=Dn(),d=Zr(a,l);d!==null&&fn(d,a,l),gp(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Wh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=vp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Vn=l,a.target.dispatchEvent(l),Vn=null}else return r=Ki(a),r!==null&&j0(r),n.blockedOn=a,!1;r.shift()}return!0}function U0(n,r,a){Wh(n)&&a.delete(r)}function TS(){Ep=!1,fs!==null&&Wh(fs)&&(fs=null),ms!==null&&Wh(ms)&&(ms=null),ps!==null&&Wh(ps)&&(ps=null),Pu.forEach(U0),ju.forEach(U0)}function Zh(n,r){n.blockedOn===r&&(n.blockedOn=null,Ep||(Ep=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,TS)))}var Jh=null;function q0(n){Jh!==n&&(Jh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Jh===n&&(Jh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],d=n[r+2];if(typeof l!="function"){if(_p(l||a)===null)continue;break}var m=Ki(a);m!==null&&(n.splice(r,3),r-=3,um(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Vu(n){function r(D){return Zh(D,n)}fs!==null&&Zh(fs,n),ms!==null&&Zh(ms,n),ps!==null&&Zh(ps,n),Pu.forEach(r),ju.forEach(r);for(var a=0;a<gs.length;a++){var l=gs[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<gs.length&&(a=gs[0],a.blockedOn===null);)L0(a),a.blockedOn===null&&gs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],b=d[Nt]||null;if(typeof m=="function")b||q0(a);else if(b){var S=null;if(m&&m.hasAttribute("formAction")){if(d=m,b=m[Nt]||null)S=b.formAction;else if(_p(d)!==null)continue}else S=b.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),q0(a)}}}function bp(n){this._internalRoot=n}ed.prototype.render=bp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Dn();M0(a,l,n,r,null,null)},ed.prototype.unmount=bp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&Po(),M0(n.current,2,null,n,null,null),kh(),r[Qi]=null}};function ed(n){this._internalRoot=n}ed.prototype.unstable_scheduleHydration=function(n){if(n){var r=zc();n={blockedOn:null,target:n,priority:r};for(var a=0;a<gs.length&&r!==0&&r<gs[a].priority;a++);gs.splice(a,0,n),a===0&&L0(n)}};var z0=e.version;if(z0!=="19.0.0")throw Error(s(527,z0,"19.0.0"));he.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=se(r),n=n!==null?ve(n):null,n=n===null?null:n.stateNode,n};var wS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:ei,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{Vr=td.inject(wS),Jt=td}catch{}}return Uu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",d=r_,m=s_,b=a_,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=D0(n,1,!1,null,null,a,l,d,m,b,S,null),n[Qi]=r.current,rp(n.nodeType===8?n.parentNode:n),new bp(r)},Uu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,d="",m=r_,b=s_,S=a_,D=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),r=D0(n,1,!0,r,a??null,l,d,m,b,S,D,z),r.context=O0(null),a=r.current,l=Dn(),d=ss(l),d.callback=null,as(a,d,l),r.current.lanes=l,_t(r,l),Di(r),n[Qi]=r.current,rp(n),new ed(r)},Uu.version="19.0.0",Uu}var Z0;function PS(){if(Z0)return Ap.exports;Z0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ap.exports=MS(),Ap.exports}var jS=PS();const kS=Zb(jS);var qu={},J0;function VS(){if(J0)return qu;J0=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.parse=h,qu.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function h(x,C){const I=new u,L=x.length;if(L<2)return I;const V=(C==null?void 0:C.decode)||_;let Q=0;do{const Z=x.indexOf("=",Q);if(Z===-1)break;const Y=x.indexOf(";",Q),ne=Y===-1?L:Y;if(Z>ne){Q=x.lastIndexOf(";",Z-1)+1;continue}const re=f(x,Q,Z),oe=p(x,Z,re),P=x.slice(re,oe);if(I[P]===void 0){let A=f(x,Z+1,ne),w=p(x,ne,A);const N=V(x.slice(A,w));I[P]=N}Q=ne+1}while(Q<L);return I}function f(x,C,I){do{const L=x.charCodeAt(C);if(L!==32&&L!==9)return C}while(++C<I);return I}function p(x,C,I){for(;C>I;){const L=x.charCodeAt(--C);if(L!==32&&L!==9)return C+1}return I}function y(x,C,I){const L=(I==null?void 0:I.encode)||encodeURIComponent;if(!i.test(x))throw new TypeError(`argument name is invalid: ${x}`);const V=L(C);if(!e.test(V))throw new TypeError(`argument val is invalid: ${C}`);let Q=x+"="+V;if(!I)return Q;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);Q+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);Q+="; Domain="+I.domain}if(I.path){if(!s.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);Q+="; Path="+I.path}if(I.expires){if(!T(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);Q+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(Q+="; HttpOnly"),I.secure&&(Q+="; Secure"),I.partitioned&&(Q+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return Q}function _(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function T(x){return o.call(x)==="[object Date]"}return qu}VS();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eE="popstate";function LS(i={}){function e(s,o){let{pathname:u,search:h,hash:f}=s.location;return Gp("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:nc(o)}return qS(e,t,null,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function hi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function US(){return Math.random().toString(36).substring(2,10)}function tE(i,e){return{usr:i.state,key:i.key,idx:e}}function Gp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?_l(e):e,state:t,key:e&&e.key||s||US()}}function nc({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function _l(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function qS(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,f="POP",p=null,y=_();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function _(){return(h.state||{idx:null}).idx}function T(){f="POP";let V=_(),Q=V==null?null:V-y;y=V,p&&p({action:f,location:L.location,delta:Q})}function x(V,Q){f="PUSH";let Z=Gp(L.location,V,Q);y=_()+1;let Y=tE(Z,y),ne=L.createHref(Z);try{h.pushState(Y,"",ne)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(ne)}u&&p&&p({action:f,location:L.location,delta:1})}function C(V,Q){f="REPLACE";let Z=Gp(L.location,V,Q);y=_();let Y=tE(Z,y),ne=L.createHref(Z);h.replaceState(Y,"",ne),u&&p&&p({action:f,location:L.location,delta:0})}function I(V){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,Z=typeof V=="string"?V:nc(V);return Z=Z.replace(/ $/,"%20"),lt(Q,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,Q)}let L={get action(){return f},get location(){return i(o,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(eE,T),p=V,()=>{o.removeEventListener(eE,T),p=null}},createHref(V){return e(o,V)},createURL:I,encodeLocation(V){let Q=I(V);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:x,replace:C,go(V){return h.go(V)}};return L}function Jb(i,e,t="/"){return zS(i,e,t,!1)}function zS(i,e,t,s){let o=typeof e=="string"?_l(e):e,u=Cr(o.pathname||"/",t);if(u==null)return null;let h=eT(i);BS(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let y=JS(u);f=WS(h[p],y,s)}return f}function eT(i,e=[],t=[],s=""){let o=(u,h,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=xr([s,p.relativePath]),_=t.concat(p);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),eT(u.children,e,_,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:YS(y,u.index),routesMeta:_})};return i.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,h);else for(let p of tT(u.path))o(u,h,p)}),e}function tT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=tT(s.join("/")),f=[];return f.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&f.push(...h),f.map(p=>i.startsWith("/")&&p===""?"/":p)}function BS(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:XS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var FS=/^:[\w-]+$/,HS=3,GS=2,QS=1,KS=10,$S=-2,nE=i=>i==="*";function YS(i,e){let t=i.split("/"),s=t.length;return t.some(nE)&&(s+=$S),e&&(s+=GS),t.filter(o=>!nE(o)).reduce((o,u)=>o+(FS.test(u)?HS:u===""?QS:KS),s)}function XS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function WS(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let f=0;f<s.length;++f){let p=s[f],y=f===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=Rd({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),x=p.route;if(!T&&y&&t&&!s[s.length-1].route.index&&(T=Rd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:xr([u,T.pathname]),pathnameBase:iR(xr([u,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(u=xr([u,T.pathnameBase]))}return h}function Rd(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=ZS(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((y,{paramName:_,isOptional:T},x)=>{if(_==="*"){let I=f[x]||"";h=u.slice(0,u.length-I.length).replace(/(.)\/+$/,"$1")}const C=f[x];return T&&!C?y[_]=void 0:y[_]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function ZS(i,e=!1,t=!0){hi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function JS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Cr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function eR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?_l(i):i;return{pathname:t?t.startsWith("/")?t:tR(t,e):e,search:rR(s),hash:sR(o)}}function tR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Np(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Pg(i){let e=nR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function jg(i,e,t,s=!1){let o;typeof i=="string"?o=_l(i):(o={...i},lt(!o.pathname||!o.pathname.includes("?"),Np("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Np("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Np("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,f;if(h==null)f=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),T-=1;o.pathname=x.join("/")}f=T>=0?e[T]:"/"}let p=eR(o,f),y=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var xr=i=>i.join("/").replace(/\/\/+/g,"/"),iR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),rR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,sR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function aR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var nT=["POST","PUT","PATCH","DELETE"];new Set(nT);var oR=["GET",...nT];new Set(oR);var El=F.createContext(null);El.displayName="DataRouter";var Xd=F.createContext(null);Xd.displayName="DataRouterState";var iT=F.createContext({isTransitioning:!1});iT.displayName="ViewTransition";var lR=F.createContext(new Map);lR.displayName="Fetchers";var uR=F.createContext(null);uR.displayName="Await";var mi=F.createContext(null);mi.displayName="Navigation";var bc=F.createContext(null);bc.displayName="Location";var pi=F.createContext({outlet:null,matches:[],isDataRoute:!1});pi.displayName="Route";var kg=F.createContext(null);kg.displayName="RouteError";function cR(i,{relative:e}={}){lt(bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=F.useContext(mi),{hash:o,pathname:u,search:h}=Tc(i,{relative:e}),f=u;return t!=="/"&&(f=u==="/"?t:xr([t,u])),s.createHref({pathname:f,search:h,hash:o})}function bl(){return F.useContext(bc)!=null}function Bi(){return lt(bl(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(bc).location}var rT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sT(i){F.useContext(mi).static||F.useLayoutEffect(i)}function Tl(){let{isDataRoute:i}=F.useContext(pi);return i?xR():hR()}function hR(){lt(bl(),"useNavigate() may be used only in the context of a <Router> component.");let i=F.useContext(El),{basename:e,navigator:t}=F.useContext(mi),{matches:s}=F.useContext(pi),{pathname:o}=Bi(),u=JSON.stringify(Pg(s)),h=F.useRef(!1);return sT(()=>{h.current=!0}),F.useCallback((p,y={})=>{if(hi(h.current,rT),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=jg(p,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:xr([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,u,o,i])}F.createContext(null);function dR(){let{matches:i}=F.useContext(pi),e=i[i.length-1];return e?e.params:{}}function Tc(i,{relative:e}={}){let{matches:t}=F.useContext(pi),{pathname:s}=Bi(),o=JSON.stringify(Pg(t));return F.useMemo(()=>jg(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function fR(i,e){return aT(i,e)}function aT(i,e,t,s){var Z;lt(bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=F.useContext(mi),{matches:h}=F.useContext(pi),f=h[h.length-1],p=f?f.params:{},y=f?f.pathname:"/",_=f?f.pathnameBase:"/",T=f&&f.route;{let Y=T&&T.path||"";oT(y,!T||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let x=Bi(),C;if(e){let Y=typeof e=="string"?_l(e):e;lt(_==="/"||((Z=Y.pathname)==null?void 0:Z.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),C=Y}else C=x;let I=C.pathname||"/",L=I;if(_!=="/"){let Y=_.replace(/^\//,"").split("/");L="/"+I.replace(/^\//,"").split("/").slice(Y.length).join("/")}let V=!u&&t&&t.matches&&t.matches.length>0?t.matches:Jb(i,{pathname:L});hi(T||V!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),hi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=vR(V&&V.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:xr([_,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?_:xr([_,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),h,t,s);return e&&Q?F.createElement(bc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},Q):Q}function mR(){let i=wR(),e=aR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,h)}var pR=F.createElement(mR,null),gR=class extends F.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?F.createElement(pi.Provider,{value:this.props.routeContext},F.createElement(kg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yR({routeContext:i,match:e,children:t}){let s=F.useContext(El);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(pi.Provider,{value:i},t)}function vR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:_,errors:T}=t,x=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||x){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let T,x=!1,C=null,I=null;t&&(T=u&&y.route.id?u[y.route.id]:void 0,C=y.route.errorElement||pR,h&&(f<0&&_===0?(oT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,I=null):f===_&&(x=!0,I=y.route.hydrateFallbackElement||null)));let L=e.concat(o.slice(0,_+1)),V=()=>{let Q;return T?Q=C:x?Q=I:y.route.Component?Q=F.createElement(y.route.Component,null):y.route.element?Q=y.route.element:Q=p,F.createElement(yR,{match:y,routeContext:{outlet:p,matches:L,isDataRoute:t!=null},children:Q})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?F.createElement(gR,{location:t.location,revalidation:t.revalidation,component:C,error:T,children:V(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):V()},null)}function Vg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _R(i){let e=F.useContext(El);return lt(e,Vg(i)),e}function ER(i){let e=F.useContext(Xd);return lt(e,Vg(i)),e}function bR(i){let e=F.useContext(pi);return lt(e,Vg(i)),e}function Lg(i){let e=bR(i),t=e.matches[e.matches.length-1];return lt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function TR(){return Lg("useRouteId")}function wR(){var s;let i=F.useContext(kg),e=ER("useRouteError"),t=Lg("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function xR(){let{router:i}=_R("useNavigate"),e=Lg("useNavigate"),t=F.useRef(!1);return sT(()=>{t.current=!0}),F.useCallback(async(o,u={})=>{hi(t.current,rT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var iE={};function oT(i,e,t){!e&&!iE[i]&&(iE[i]=!0,hi(!1,t))}F.memo(AR);function AR({routes:i,future:e,state:t}){return aT(i,void 0,t,e)}function SR({to:i,replace:e,state:t,relative:s}){lt(bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(mi);hi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(pi),{pathname:h}=Bi(),f=Tl(),p=jg(i,Pg(u),h,s==="path"),y=JSON.stringify(p);return F.useEffect(()=>{f(JSON.parse(y),{replace:e,state:t,relative:s})},[f,y,s,e,t]),null}function si(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){lt(!bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),f=F.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=_l(t));let{pathname:p="/",search:y="",hash:_="",state:T=null,key:x="default"}=t,C=F.useMemo(()=>{let I=Cr(p,h);return I==null?null:{location:{pathname:I,search:y,hash:_,state:T,key:x},navigationType:s}},[h,p,y,_,T,x,s]);return hi(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:F.createElement(mi.Provider,{value:f},F.createElement(bc.Provider,{children:e,value:C}))}function CR({children:i,location:e}){return fR(Qp(i),e)}function Qp(i,e=[]){let t=[];return F.Children.forEach(i,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){t.push.apply(t,Qp(s.props.children,u));return}lt(s.type===si,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Qp(s.props.children,u)),t.push(h)}),t}var md="get",pd="application/x-www-form-urlencoded";function Wd(i){return i!=null&&typeof i.tagName=="string"}function NR(i){return Wd(i)&&i.tagName.toLowerCase()==="button"}function IR(i){return Wd(i)&&i.tagName.toLowerCase()==="form"}function DR(i){return Wd(i)&&i.tagName.toLowerCase()==="input"}function OR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function MR(i,e){return i.button===0&&(!e||e==="_self")&&!OR(i)}var id=null;function PR(){if(id===null)try{new FormData(document.createElement("form"),0),id=!1}catch{id=!0}return id}var jR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ip(i){return i!=null&&!jR.has(i)?(hi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pd}"`),null):i}function kR(i,e){let t,s,o,u,h;if(IR(i)){let f=i.getAttribute("action");s=f?Cr(f,e):null,t=i.getAttribute("method")||md,o=Ip(i.getAttribute("enctype"))||pd,u=new FormData(i)}else if(NR(i)||DR(i)&&(i.type==="submit"||i.type==="image")){let f=i.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||f.getAttribute("action");if(s=p?Cr(p,e):null,t=i.getAttribute("formmethod")||f.getAttribute("method")||md,o=Ip(i.getAttribute("formenctype"))||Ip(f.getAttribute("enctype"))||pd,u=new FormData(f,i),!PR()){let{name:y,type:_,value:T}=i;if(_==="image"){let x=y?`${y}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else y&&u.append(y,T)}}else{if(Wd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=md,s=null,o=pd,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Ug(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function VR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function UR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await VR(u,t);return h.links?h.links():[]}return[]}));return FR(s.flat(1).filter(LR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function rE(i,e,t,s,o,u){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>h(p,y)||f(p,y)):u==="data"?e.filter((p,y)=>{var T;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function qR(i,e,{includeHydrateFallback:t}={}){return zR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function zR(i){return[...new Set(i)]}function BR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function FR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(BR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function HR(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&Cr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function lT(){let i=F.useContext(El);return Ug(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function GR(){let i=F.useContext(Xd);return Ug(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var qg=F.createContext(void 0);qg.displayName="FrameworkContext";function uT(){let i=F.useContext(qg);return Ug(i,"You must render this element inside a <HydratedRouter> element"),i}function QR(i,e){let t=F.useContext(qg),[s,o]=F.useState(!1),[u,h]=F.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:T}=e,x=F.useRef(null);F.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let L=Q=>{Q.forEach(Z=>{h(Z.isIntersecting)})},V=new IntersectionObserver(L,{threshold:.5});return x.current&&V.observe(x.current),()=>{V.disconnect()}}},[i]),F.useEffect(()=>{if(s){let L=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(L)}}},[s]);let C=()=>{o(!0)},I=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,x,{}]:[u,x,{onFocus:zu(f,C),onBlur:zu(p,I),onMouseEnter:zu(y,C),onMouseLeave:zu(_,I),onTouchStart:zu(T,C)}]:[!1,x,{}]}function zu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function KR({page:i,...e}){let{router:t}=lT(),s=F.useMemo(()=>Jb(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?F.createElement(YR,{page:i,matches:s,...e}):null}function $R(i){let{manifest:e,routeModules:t}=uT(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return UR(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function YR({page:i,matches:e,...t}){let s=Bi(),{manifest:o,routeModules:u}=uT(),{basename:h}=lT(),{loaderData:f,matches:p}=GR(),y=F.useMemo(()=>rE(i,e,p,o,s,"data"),[i,e,p,o,s]),_=F.useMemo(()=>rE(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=F.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let I=new Set,L=!1;if(e.forEach(Q=>{var Y;let Z=o.routes[Q.route.id];!Z||!Z.hasLoader||(!y.some(ne=>ne.route.id===Q.route.id)&&Q.route.id in f&&((Y=u[Q.route.id])!=null&&Y.shouldRevalidate)||Z.hasClientLoader?L=!0:I.add(Q.route.id))}),I.size===0)return[];let V=HR(i,h);return L&&I.size>0&&V.searchParams.set("_routes",e.filter(Q=>I.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[V.pathname+V.search]},[h,f,s,o,y,e,i,u]),x=F.useMemo(()=>qR(_,o),[_,o]),C=$R(_);return F.createElement(F.Fragment,null,T.map(I=>F.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),x.map(I=>F.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),C.map(({key:I,link:L})=>F.createElement("link",{key:I,...L})))}function XR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var cT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cT&&(window.__reactRouterVersion="7.3.0")}catch{}function WR({basename:i,children:e,window:t}){let s=F.useRef();s.current==null&&(s.current=LS({window:t,v5Compat:!0}));let o=s.current,[u,h]=F.useState({action:o.action,location:o.location}),f=F.useCallback(p=>{F.startTransition(()=>h(p))},[h]);return F.useLayoutEffect(()=>o.listen(f),[o,f]),F.createElement(RR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var hT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cd=F.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:f,target:p,to:y,preventScrollReset:_,viewTransition:T,...x},C){let{basename:I}=F.useContext(mi),L=typeof y=="string"&&hT.test(y),V,Q=!1;if(typeof y=="string"&&L&&(V=y,cT))try{let w=new URL(window.location.href),N=y.startsWith("//")?new URL(w.protocol+y):new URL(y),M=Cr(N.pathname,I);N.origin===w.origin&&M!=null?y=M+N.search+N.hash:Q=!0}catch{hi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=cR(y,{relative:o}),[Y,ne,re]=QR(s,x),oe=tC(y,{replace:h,state:f,target:p,preventScrollReset:_,relative:o,viewTransition:T});function P(w){e&&e(w),w.defaultPrevented||oe(w)}let A=F.createElement("a",{...x,...re,href:V||Z,onClick:Q||u?e:P,ref:XR(C,ne),target:p,"data-discover":!L&&t==="render"?"true":void 0});return Y&&!L?F.createElement(F.Fragment,null,A,F.createElement(KR,{page:Z})):A});Cd.displayName="Link";var ZR=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:f,children:p,...y},_){let T=Tc(h,{relative:y.relative}),x=Bi(),C=F.useContext(Xd),{navigator:I,basename:L}=F.useContext(mi),V=C!=null&&aC(T)&&f===!0,Q=I.encodeLocation?I.encodeLocation(T).pathname:T.pathname,Z=x.pathname,Y=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),Y=Y?Y.toLowerCase():null,Q=Q.toLowerCase()),Y&&L&&(Y=Cr(Y,L)||Y);const ne=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let re=Z===Q||!o&&Z.startsWith(Q)&&Z.charAt(ne)==="/",oe=Y!=null&&(Y===Q||!o&&Y.startsWith(Q)&&Y.charAt(Q.length)==="/"),P={isActive:re,isPending:oe,isTransitioning:V},A=re?e:void 0,w;typeof s=="function"?w=s(P):w=[s,re?"active":null,oe?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(P):u;return F.createElement(Cd,{...y,"aria-current":A,className:w,ref:_,style:N,to:h,viewTransition:f},typeof p=="function"?p(P):p)});ZR.displayName="NavLink";var JR=F.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=md,action:f,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:T,...x},C)=>{let I=rC(),L=sC(f,{relative:y}),V=h.toLowerCase()==="get"?"get":"post",Q=typeof f=="string"&&hT.test(f),Z=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ne=Y.nativeEvent.submitter,re=(ne==null?void 0:ne.getAttribute("formmethod"))||h;I(ne||Y.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:u,relative:y,preventScrollReset:_,viewTransition:T})};return F.createElement("form",{ref:C,method:V,action:L,onSubmit:s?p:Z,...x,"data-discover":!Q&&i==="render"?"true":void 0})});JR.displayName="Form";function eC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dT(i){let e=F.useContext(El);return lt(e,eC(i)),e}function tC(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let f=Tl(),p=Bi(),y=Tc(i,{relative:u});return F.useCallback(_=>{if(MR(_,e)){_.preventDefault();let T=t!==void 0?t:nc(p)===nc(y);f(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,f,y,t,s,e,i,o,u,h])}var nC=0,iC=()=>`__${String(++nC)}__`;function rC(){let{router:i}=dT("useSubmit"),{basename:e}=F.useContext(mi),t=TR();return F.useCallback(async(s,o={})=>{let{action:u,method:h,encType:f,formData:p,body:y}=kR(s,e);if(o.navigate===!1){let _=o.fetcherKey||iC();await i.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function sC(i,{relative:e}={}){let{basename:t}=F.useContext(mi),s=F.useContext(pi);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Tc(i||".",{relative:e})},h=Bi();if(i==null){u.search=h.search;let f=new URLSearchParams(u.search),p=f.getAll("index");if(p.some(_=>_==="")){f.delete("index"),p.filter(T=>T).forEach(T=>f.append("index",T));let _=f.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:xr([t,u.pathname])),nc(u)}function aC(i,e={}){let t=F.useContext(iT);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=dT("useViewTransitionState"),o=Tc(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=Cr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Cr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Rd(o.pathname,h)!=null||Rd(o.pathname,u)!=null}new TextEncoder;var wl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},La=typeof window>"u"||"Deno"in globalThis;function Wn(){}function oC(i,e){return typeof i=="function"?i(e):i}function Kp(i){return typeof i=="number"&&i>=0&&i!==1/0}function fT(i,e){return Math.max(i+(e||0)-Date.now(),0)}function Go(i,e){return typeof i=="function"?i(e):i}function li(i,e){return typeof i=="function"?i(e):i}function sE(i,e){const{type:t="all",exact:s,fetchStatus:o,predicate:u,queryKey:h,stale:f}=i;if(h){if(s){if(e.queryHash!==zg(h,e.options))return!1}else if(!ic(e.queryKey,h))return!1}if(t!=="all"){const p=e.isActive();if(t==="active"&&!p||t==="inactive"&&p)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||o&&o!==e.state.fetchStatus||u&&!u(e))}function aE(i,e){const{exact:t,status:s,predicate:o,mutationKey:u}=i;if(u){if(!e.options.mutationKey)return!1;if(t){if(Ua(e.options.mutationKey)!==Ua(u))return!1}else if(!ic(e.options.mutationKey,u))return!1}return!(s&&e.state.status!==s||o&&!o(e))}function zg(i,e){return((e==null?void 0:e.queryKeyHashFn)||Ua)(i)}function Ua(i){return JSON.stringify(i,(e,t)=>$p(t)?Object.keys(t).sort().reduce((s,o)=>(s[o]=t[o],s),{}):t)}function ic(i,e){return i===e?!0:typeof i!=typeof e?!1:i&&e&&typeof i=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!ic(i[t],e[t])):!1}function mT(i,e){if(i===e)return i;const t=oE(i)&&oE(e);if(t||$p(i)&&$p(e)){const s=t?i:Object.keys(i),o=s.length,u=t?e:Object.keys(e),h=u.length,f=t?[]:{};let p=0;for(let y=0;y<h;y++){const _=t?y:u[y];(!t&&s.includes(_)||t)&&i[_]===void 0&&e[_]===void 0?(f[_]=void 0,p++):(f[_]=mT(i[_],e[_]),f[_]===i[_]&&i[_]!==void 0&&p++)}return o===h&&p===o?i:f}return e}function Nd(i,e){if(!e||Object.keys(i).length!==Object.keys(e).length)return!1;for(const t in i)if(i[t]!==e[t])return!1;return!0}function oE(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function $p(i){if(!lE(i))return!1;const e=i.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!lE(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function lE(i){return Object.prototype.toString.call(i)==="[object Object]"}function lC(i){return new Promise(e=>{setTimeout(e,i)})}function Yp(i,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(i,e):t.structuralSharing!==!1?mT(i,e):e}function uC(i,e,t=0){const s=[...i,e];return t&&s.length>t?s.slice(1):s}function cC(i,e,t=0){const s=[e,...i];return t&&s.length>t?s.slice(0,-1):s}var Bg=Symbol();function pT(i,e){return!i.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!i.queryFn||i.queryFn===Bg?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}var Ia,xs,Wo,Bb,hC=(Bb=class extends wl{constructor(){super();be(this,Ia);be(this,xs);be(this,Wo);ue(this,Wo,e=>{if(!La&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){j(this,xs)||this.setEventListener(j(this,Wo))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,xs))==null||e.call(this),ue(this,xs,void 0))}setEventListener(e){var t;ue(this,Wo,e),(t=j(this,xs))==null||t.call(this),ue(this,xs,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){j(this,Ia)!==e&&(ue(this,Ia,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof j(this,Ia)=="boolean"?j(this,Ia):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ia=new WeakMap,xs=new WeakMap,Wo=new WeakMap,Bb),Fg=new hC,Zo,As,Jo,Fb,dC=(Fb=class extends wl{constructor(){super();be(this,Zo,!0);be(this,As);be(this,Jo);ue(this,Jo,e=>{if(!La&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){j(this,As)||this.setEventListener(j(this,Jo))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,As))==null||e.call(this),ue(this,As,void 0))}setEventListener(e){var t;ue(this,Jo,e),(t=j(this,As))==null||t.call(this),ue(this,As,e(this.setOnline.bind(this)))}setOnline(e){j(this,Zo)!==e&&(ue(this,Zo,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return j(this,Zo)}},Zo=new WeakMap,As=new WeakMap,Jo=new WeakMap,Fb),Id=new dC;function Xp(){let i,e;const t=new Promise((o,u)=>{i=o,e=u});t.status="pending",t.catch(()=>{});function s(o){Object.assign(t,o),delete t.resolve,delete t.reject}return t.resolve=o=>{s({status:"fulfilled",value:o}),i(o)},t.reject=o=>{s({status:"rejected",reason:o}),e(o)},t}function fC(i){return Math.min(1e3*2**i,3e4)}function gT(i){return(i??"online")==="online"?Id.isOnline():!0}var yT=class extends Error{constructor(i){super("CancelledError"),this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function Dp(i){return i instanceof yT}function vT(i){let e=!1,t=0,s=!1,o;const u=Xp(),h=L=>{var V;s||(x(new yT(L)),(V=i.abort)==null||V.call(i))},f=()=>{e=!0},p=()=>{e=!1},y=()=>Fg.isFocused()&&(i.networkMode==="always"||Id.isOnline())&&i.canRun(),_=()=>gT(i.networkMode)&&i.canRun(),T=L=>{var V;s||(s=!0,(V=i.onSuccess)==null||V.call(i,L),o==null||o(),u.resolve(L))},x=L=>{var V;s||(s=!0,(V=i.onError)==null||V.call(i,L),o==null||o(),u.reject(L))},C=()=>new Promise(L=>{var V;o=Q=>{(s||y())&&L(Q)},(V=i.onPause)==null||V.call(i)}).then(()=>{var L;o=void 0,s||(L=i.onContinue)==null||L.call(i)}),I=()=>{if(s)return;let L;const V=t===0?i.initialPromise:void 0;try{L=V??i.fn()}catch(Q){L=Promise.reject(Q)}Promise.resolve(L).then(T).catch(Q=>{var oe;if(s)return;const Z=i.retry??(La?0:3),Y=i.retryDelay??fC,ne=typeof Y=="function"?Y(t,Q):Y,re=Z===!0||typeof Z=="number"&&t<Z||typeof Z=="function"&&Z(t,Q);if(e||!re){x(Q);return}t++,(oe=i.onFail)==null||oe.call(i,t,Q),lC(ne).then(()=>y()?void 0:C()).then(()=>{e?x(Q):I()})})};return{promise:u,cancel:h,continue:()=>(o==null||o(),u),cancelRetry:f,continueRetry:p,canStart:_,start:()=>(_()?I():C().then(I),u)}}function mC(){let i=[],e=0,t=f=>{f()},s=f=>{f()},o=f=>setTimeout(f,0);const u=f=>{e?i.push(f):o(()=>{t(f)})},h=()=>{const f=i;i=[],f.length&&o(()=>{s(()=>{f.forEach(p=>{t(p)})})})};return{batch:f=>{let p;e++;try{p=f()}finally{e--,e||h()}return p},batchCalls:f=>(...p)=>{u(()=>{f(...p)})},schedule:u,setNotifyFunction:f=>{t=f},setBatchNotifyFunction:f=>{s=f},setScheduler:f=>{o=f}}}var Pt=mC(),Da,Hb,_T=(Hb=class{constructor(){be(this,Da)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kp(this.gcTime)&&ue(this,Da,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(La?1/0:5*60*1e3))}clearGcTimeout(){j(this,Da)&&(clearTimeout(j(this,Da)),ue(this,Da,void 0))}},Da=new WeakMap,Hb),el,tl,Xn,Oa,rn,yc,Ma,ai,vr,Gb,pC=(Gb=class extends _T{constructor(t){super();be(this,ai);be(this,el);be(this,tl);be(this,Xn);be(this,Oa);be(this,rn);be(this,yc);be(this,Ma);ue(this,Ma,!1),ue(this,yc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ue(this,Oa,t.client),ue(this,Xn,j(this,Oa).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ue(this,el,gC(this.options)),this.state=t.state??j(this,el),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=j(this,rn))==null?void 0:t.promise}setOptions(t){this.options={...j(this,yc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,Xn).remove(this)}setData(t,s){const o=Yp(this.state.data,t,this.options);return De(this,ai,vr).call(this,{data:o,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),o}setState(t,s){De(this,ai,vr).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var o,u;const s=(o=j(this,rn))==null?void 0:o.promise;return(u=j(this,rn))==null||u.cancel(t),s?s.then(Wn).catch(Wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,el))}isActive(){return this.observers.some(t=>li(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Bg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!fT(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(o=>o.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=j(this,rn))==null||s.continue()}onOnline(){var s;const t=this.observers.find(o=>o.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=j(this,rn))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),j(this,Xn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(j(this,rn)&&(j(this,Ma)?j(this,rn).cancel({revert:!0}):j(this,rn).cancelRetry()),this.scheduleGc()),j(this,Xn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||De(this,ai,vr).call(this,{type:"invalidate"})}fetch(t,s){var y,_,T;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(j(this,rn))return j(this,rn).continueRetry(),j(this,rn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(C=>C.options.queryFn);x&&this.setOptions(x.options)}const o=new AbortController,u=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(ue(this,Ma,!0),o.signal)})},h=()=>{const x=pT(this.options,s),C={client:j(this,Oa),queryKey:this.queryKey,meta:this.meta};return u(C),ue(this,Ma,!1),this.options.persister?this.options.persister(x,C,this):x(C)},f={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:j(this,Oa),state:this.state,fetchFn:h};u(f),(y=this.options.behavior)==null||y.onFetch(f,this),ue(this,tl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((_=f.fetchOptions)==null?void 0:_.meta))&&De(this,ai,vr).call(this,{type:"fetch",meta:(T=f.fetchOptions)==null?void 0:T.meta});const p=x=>{var C,I,L,V;Dp(x)&&x.silent||De(this,ai,vr).call(this,{type:"error",error:x}),Dp(x)||((I=(C=j(this,Xn).config).onError)==null||I.call(C,x,this),(V=(L=j(this,Xn).config).onSettled)==null||V.call(L,this.state.data,x,this)),this.scheduleGc()};return ue(this,rn,vT({initialPromise:s==null?void 0:s.initialPromise,fn:f.fetchFn,abort:o.abort.bind(o),onSuccess:x=>{var C,I,L,V;if(x===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(Q){p(Q);return}(I=(C=j(this,Xn).config).onSuccess)==null||I.call(C,x,this),(V=(L=j(this,Xn).config).onSettled)==null||V.call(L,x,this.state.error,this),this.scheduleGc()},onError:p,onFail:(x,C)=>{De(this,ai,vr).call(this,{type:"failed",failureCount:x,error:C})},onPause:()=>{De(this,ai,vr).call(this,{type:"pause"})},onContinue:()=>{De(this,ai,vr).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),j(this,rn).start()}},el=new WeakMap,tl=new WeakMap,Xn=new WeakMap,Oa=new WeakMap,rn=new WeakMap,yc=new WeakMap,Ma=new WeakMap,ai=new WeakSet,vr=function(t){const s=o=>{switch(t.type){case"failed":return{...o,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...ET(o.data,this.options),fetchMeta:t.meta??null};case"success":return{...o,data:t.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const u=t.error;return Dp(u)&&u.revert&&j(this,tl)?{...j(this,tl),fetchStatus:"idle"}:{...o,error:u,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...t.state}}};this.state=s(this.state),Pt.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),j(this,Xn).notify({query:this,type:"updated",action:t})})},Gb);function ET(i,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gT(e.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function gC(i){const e=typeof i.initialData=="function"?i.initialData():i.initialData,t=e!==void 0,s=t?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Mi,Qb,yC=(Qb=class extends wl{constructor(e={}){super();be(this,Mi);this.config=e,ue(this,Mi,new Map)}build(e,t,s){const o=t.queryKey,u=t.queryHash??zg(o,t);let h=this.get(u);return h||(h=new pC({client:e,queryKey:o,queryHash:u,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(o)}),this.add(h)),h}add(e){j(this,Mi).has(e.queryHash)||(j(this,Mi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=j(this,Mi).get(e.queryHash);t&&(e.destroy(),t===e&&j(this,Mi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Pt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return j(this,Mi).get(e)}getAll(){return[...j(this,Mi).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>sE(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>sE(e,s)):t}notify(e){Pt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Pt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Pt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mi=new WeakMap,Qb),Pi,mn,Pa,ji,_s,Kb,vC=(Kb=class extends _T{constructor(t){super();be(this,ji);be(this,Pi);be(this,mn);be(this,Pa);this.mutationId=t.mutationId,ue(this,mn,t.mutationCache),ue(this,Pi,[]),this.state=t.state||bT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){j(this,Pi).includes(t)||(j(this,Pi).push(t),this.clearGcTimeout(),j(this,mn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ue(this,Pi,j(this,Pi).filter(s=>s!==t)),this.scheduleGc(),j(this,mn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){j(this,Pi).length||(this.state.status==="pending"?this.scheduleGc():j(this,mn).remove(this))}continue(){var t;return((t=j(this,Pa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var u,h,f,p,y,_,T,x,C,I,L,V,Q,Z,Y,ne,re,oe,P,A;ue(this,Pa,vT({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(w,N)=>{De(this,ji,_s).call(this,{type:"failed",failureCount:w,error:N})},onPause:()=>{De(this,ji,_s).call(this,{type:"pause"})},onContinue:()=>{De(this,ji,_s).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,mn).canRun(this)}));const s=this.state.status==="pending",o=!j(this,Pa).canStart();try{if(!s){De(this,ji,_s).call(this,{type:"pending",variables:t,isPaused:o}),await((h=(u=j(this,mn).config).onMutate)==null?void 0:h.call(u,t,this));const N=await((p=(f=this.options).onMutate)==null?void 0:p.call(f,t));N!==this.state.context&&De(this,ji,_s).call(this,{type:"pending",context:N,variables:t,isPaused:o})}const w=await j(this,Pa).start();return await((_=(y=j(this,mn).config).onSuccess)==null?void 0:_.call(y,w,t,this.state.context,this)),await((x=(T=this.options).onSuccess)==null?void 0:x.call(T,w,t,this.state.context)),await((I=(C=j(this,mn).config).onSettled)==null?void 0:I.call(C,w,null,this.state.variables,this.state.context,this)),await((V=(L=this.options).onSettled)==null?void 0:V.call(L,w,null,t,this.state.context)),De(this,ji,_s).call(this,{type:"success",data:w}),w}catch(w){try{throw await((Z=(Q=j(this,mn).config).onError)==null?void 0:Z.call(Q,w,t,this.state.context,this)),await((ne=(Y=this.options).onError)==null?void 0:ne.call(Y,w,t,this.state.context)),await((oe=(re=j(this,mn).config).onSettled)==null?void 0:oe.call(re,void 0,w,this.state.variables,this.state.context,this)),await((A=(P=this.options).onSettled)==null?void 0:A.call(P,void 0,w,t,this.state.context)),w}finally{De(this,ji,_s).call(this,{type:"error",error:w})}}finally{j(this,mn).runNext(this)}}},Pi=new WeakMap,mn=new WeakMap,Pa=new WeakMap,ji=new WeakSet,_s=function(t){const s=o=>{switch(t.type){case"failed":return{...o,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...o,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:t.error,failureCount:o.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Pt.batch(()=>{j(this,Pi).forEach(o=>{o.onMutationUpdate(t)}),j(this,mn).notify({mutation:this,type:"updated",action:t})})},Kb);function bT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _r,oi,vc,$b,_C=($b=class extends wl{constructor(e={}){super();be(this,_r);be(this,oi);be(this,vc);this.config=e,ue(this,_r,new Set),ue(this,oi,new Map),ue(this,vc,0)}build(e,t,s){const o=new vC({mutationCache:this,mutationId:++nd(this,vc)._,options:e.defaultMutationOptions(t),state:s});return this.add(o),o}add(e){j(this,_r).add(e);const t=rd(e);if(typeof t=="string"){const s=j(this,oi).get(t);s?s.push(e):j(this,oi).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(j(this,_r).delete(e)){const t=rd(e);if(typeof t=="string"){const s=j(this,oi).get(t);if(s)if(s.length>1){const o=s.indexOf(e);o!==-1&&s.splice(o,1)}else s[0]===e&&j(this,oi).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=rd(e);if(typeof t=="string"){const s=j(this,oi).get(t),o=s==null?void 0:s.find(u=>u.state.status==="pending");return!o||o===e}else return!0}runNext(e){var s;const t=rd(e);if(typeof t=="string"){const o=(s=j(this,oi).get(t))==null?void 0:s.find(u=>u!==e&&u.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Pt.batch(()=>{j(this,_r).forEach(e=>{this.notify({type:"removed",mutation:e})}),j(this,_r).clear(),j(this,oi).clear()})}getAll(){return Array.from(j(this,_r))}find(e){const t={exact:!0,...e};return this.getAll().find(s=>aE(t,s))}findAll(e={}){return this.getAll().filter(t=>aE(e,t))}notify(e){Pt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Pt.batch(()=>Promise.all(e.map(t=>t.continue().catch(Wn))))}},_r=new WeakMap,oi=new WeakMap,vc=new WeakMap,$b);function rd(i){var e;return(e=i.options.scope)==null?void 0:e.id}function uE(i){return{onFetch:(e,t)=>{var _,T,x,C,I;const s=e.options,o=(x=(T=(_=e.fetchOptions)==null?void 0:_.meta)==null?void 0:T.fetchMore)==null?void 0:x.direction,u=((C=e.state.data)==null?void 0:C.pages)||[],h=((I=e.state.data)==null?void 0:I.pageParams)||[];let f={pages:[],pageParams:[]},p=0;const y=async()=>{let L=!1;const V=Y=>{Object.defineProperty(Y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?L=!0:e.signal.addEventListener("abort",()=>{L=!0}),e.signal)})},Q=pT(e.options,e.fetchOptions),Z=async(Y,ne,re)=>{if(L)return Promise.reject();if(ne==null&&Y.pages.length)return Promise.resolve(Y);const oe={client:e.client,queryKey:e.queryKey,pageParam:ne,direction:re?"backward":"forward",meta:e.options.meta};V(oe);const P=await Q(oe),{maxPages:A}=e.options,w=re?cC:uC;return{pages:w(Y.pages,P,A),pageParams:w(Y.pageParams,ne,A)}};if(o&&u.length){const Y=o==="backward",ne=Y?EC:cE,re={pages:u,pageParams:h},oe=ne(s,re);f=await Z(re,oe,Y)}else{const Y=i??u.length;do{const ne=p===0?h[0]??s.initialPageParam:cE(s,f);if(p>0&&ne==null)break;f=await Z(f,ne),p++}while(p<Y)}return f};e.options.persister?e.fetchFn=()=>{var L,V;return(V=(L=e.options).persister)==null?void 0:V.call(L,y,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=y}}}function cE(i,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?i.getNextPageParam(e[s],e,t[s],t):void 0}function EC(i,{pages:e,pageParams:t}){var s;return e.length>0?(s=i.getPreviousPageParam)==null?void 0:s.call(i,e[0],e,t[0],t):void 0}var vt,Ss,Rs,nl,il,Cs,rl,sl,Yb,bC=(Yb=class{constructor(i={}){be(this,vt);be(this,Ss);be(this,Rs);be(this,nl);be(this,il);be(this,Cs);be(this,rl);be(this,sl);ue(this,vt,i.queryCache||new yC),ue(this,Ss,i.mutationCache||new _C),ue(this,Rs,i.defaultOptions||{}),ue(this,nl,new Map),ue(this,il,new Map),ue(this,Cs,0)}mount(){nd(this,Cs)._++,j(this,Cs)===1&&(ue(this,rl,Fg.subscribe(async i=>{i&&(await this.resumePausedMutations(),j(this,vt).onFocus())})),ue(this,sl,Id.subscribe(async i=>{i&&(await this.resumePausedMutations(),j(this,vt).onOnline())})))}unmount(){var i,e;nd(this,Cs)._--,j(this,Cs)===0&&((i=j(this,rl))==null||i.call(this),ue(this,rl,void 0),(e=j(this,sl))==null||e.call(this),ue(this,sl,void 0))}isFetching(i){return j(this,vt).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return j(this,Ss).findAll({...i,status:"pending"}).length}getQueryData(i){var t;const e=this.defaultQueryOptions({queryKey:i});return(t=j(this,vt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(i){const e=this.defaultQueryOptions(i),t=j(this,vt).build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(i):(i.revalidateIfStale&&t.isStaleByTime(Go(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(i){return j(this,vt).findAll(i).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(i,e,t){const s=this.defaultQueryOptions({queryKey:i}),o=j(this,vt).get(s.queryHash),u=o==null?void 0:o.state.data,h=oC(e,u);if(h!==void 0)return j(this,vt).build(this,s).setData(h,{...t,manual:!0})}setQueriesData(i,e,t){return Pt.batch(()=>j(this,vt).findAll(i).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(i){var t;const e=this.defaultQueryOptions({queryKey:i});return(t=j(this,vt).get(e.queryHash))==null?void 0:t.state}removeQueries(i){const e=j(this,vt);Pt.batch(()=>{e.findAll(i).forEach(t=>{e.remove(t)})})}resetQueries(i,e){const t=j(this,vt);return Pt.batch(()=>(t.findAll(i).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...i},e)))}cancelQueries(i,e={}){const t={revert:!0,...e},s=Pt.batch(()=>j(this,vt).findAll(i).map(o=>o.cancel(t)));return Promise.all(s).then(Wn).catch(Wn)}invalidateQueries(i,e={}){return Pt.batch(()=>(j(this,vt).findAll(i).forEach(t=>{t.invalidate()}),(i==null?void 0:i.refetchType)==="none"?Promise.resolve():this.refetchQueries({...i,type:(i==null?void 0:i.refetchType)??(i==null?void 0:i.type)??"active"},e)))}refetchQueries(i,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=Pt.batch(()=>j(this,vt).findAll(i).filter(o=>!o.isDisabled()).map(o=>{let u=o.fetch(void 0,t);return t.throwOnError||(u=u.catch(Wn)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(Wn)}fetchQuery(i){const e=this.defaultQueryOptions(i);e.retry===void 0&&(e.retry=!1);const t=j(this,vt).build(this,e);return t.isStaleByTime(Go(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(Wn).catch(Wn)}fetchInfiniteQuery(i){return i.behavior=uE(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(Wn).catch(Wn)}ensureInfiniteQueryData(i){return i.behavior=uE(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return Id.isOnline()?j(this,Ss).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,vt)}getMutationCache(){return j(this,Ss)}getDefaultOptions(){return j(this,Rs)}setDefaultOptions(i){ue(this,Rs,i)}setQueryDefaults(i,e){j(this,nl).set(Ua(i),{queryKey:i,defaultOptions:e})}getQueryDefaults(i){const e=[...j(this,nl).values()],t={};return e.forEach(s=>{ic(i,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(i,e){j(this,il).set(Ua(i),{mutationKey:i,defaultOptions:e})}getMutationDefaults(i){const e=[...j(this,il).values()],t={};return e.forEach(s=>{ic(i,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(i){if(i._defaulted)return i;const e={...j(this,Rs).queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return e.queryHash||(e.queryHash=zg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Bg&&(e.enabled=!1),e}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...j(this,Rs).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){j(this,vt).clear(),j(this,Ss).clear()}},vt=new WeakMap,Ss=new WeakMap,Rs=new WeakMap,nl=new WeakMap,il=new WeakMap,Cs=new WeakMap,rl=new WeakMap,sl=new WeakMap,Yb),_n,Ue,_c,pn,ja,al,Ns,ki,Ec,ol,ll,ka,Va,Is,ul,Xe,Fu,Wp,Zp,Jp,eg,tg,ng,ig,TT,Xb,TC=(Xb=class extends wl{constructor(e,t){super();be(this,Xe);be(this,_n);be(this,Ue);be(this,_c);be(this,pn);be(this,ja);be(this,al);be(this,Ns);be(this,ki);be(this,Ec);be(this,ol);be(this,ll);be(this,ka);be(this,Va);be(this,Is);be(this,ul,new Set);this.options=t,ue(this,_n,e),ue(this,ki,null),ue(this,Ns,Xp()),this.options.experimental_prefetchInRender||j(this,Ns).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(j(this,Ue).addObserver(this),hE(j(this,Ue),this.options)?De(this,Xe,Fu).call(this):this.updateResult(),De(this,Xe,eg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rg(j(this,Ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rg(j(this,Ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,De(this,Xe,tg).call(this),De(this,Xe,ng).call(this),j(this,Ue).removeObserver(this)}setOptions(e,t){const s=this.options,o=j(this,Ue);if(this.options=j(this,_n).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof li(this.options.enabled,j(this,Ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");De(this,Xe,ig).call(this),j(this,Ue).setOptions(this.options),s._defaulted&&!Nd(this.options,s)&&j(this,_n).getQueryCache().notify({type:"observerOptionsUpdated",query:j(this,Ue),observer:this});const u=this.hasListeners();u&&dE(j(this,Ue),o,this.options,s)&&De(this,Xe,Fu).call(this),this.updateResult(t),u&&(j(this,Ue)!==o||li(this.options.enabled,j(this,Ue))!==li(s.enabled,j(this,Ue))||Go(this.options.staleTime,j(this,Ue))!==Go(s.staleTime,j(this,Ue)))&&De(this,Xe,Wp).call(this);const h=De(this,Xe,Zp).call(this);u&&(j(this,Ue)!==o||li(this.options.enabled,j(this,Ue))!==li(s.enabled,j(this,Ue))||h!==j(this,Is))&&De(this,Xe,Jp).call(this,h)}getOptimisticResult(e){const t=j(this,_n).getQueryCache().build(j(this,_n),e),s=this.createResult(t,e);return xC(this,s)&&(ue(this,pn,s),ue(this,al,this.options),ue(this,ja,j(this,Ue).state)),s}getCurrentResult(){return j(this,pn)}trackResult(e,t){const s={};return Object.keys(e).forEach(o=>{Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),t==null||t(o),e[o])})}),s}trackProp(e){j(this,ul).add(e)}getCurrentQuery(){return j(this,Ue)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=j(this,_n).defaultQueryOptions(e),s=j(this,_n).getQueryCache().build(j(this,_n),t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return De(this,Xe,Fu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),j(this,pn)))}createResult(e,t){var A;const s=j(this,Ue),o=this.options,u=j(this,pn),h=j(this,ja),f=j(this,al),y=e!==s?e.state:j(this,_c),{state:_}=e;let T={..._},x=!1,C;if(t._optimisticResults){const w=this.hasListeners(),N=!w&&hE(e,t),M=w&&dE(e,s,t,o);(N||M)&&(T={...T,...ET(_.data,e.options)}),t._optimisticResults==="isRestoring"&&(T.fetchStatus="idle")}let{error:I,errorUpdatedAt:L,status:V}=T;if(t.select&&T.data!==void 0)if(u&&T.data===(h==null?void 0:h.data)&&t.select===j(this,Ec))C=j(this,ol);else try{ue(this,Ec,t.select),C=t.select(T.data),C=Yp(u==null?void 0:u.data,C,t),ue(this,ol,C),ue(this,ki,null)}catch(w){ue(this,ki,w)}else C=T.data;if(t.placeholderData!==void 0&&C===void 0&&V==="pending"){let w;if(u!=null&&u.isPlaceholderData&&t.placeholderData===(f==null?void 0:f.placeholderData))w=u.data;else if(w=typeof t.placeholderData=="function"?t.placeholderData((A=j(this,ll))==null?void 0:A.state.data,j(this,ll)):t.placeholderData,t.select&&w!==void 0)try{w=t.select(w),ue(this,ki,null)}catch(N){ue(this,ki,N)}w!==void 0&&(V="success",C=Yp(u==null?void 0:u.data,w,t),x=!0)}j(this,ki)&&(I=j(this,ki),C=j(this,ol),L=Date.now(),V="error");const Q=T.fetchStatus==="fetching",Z=V==="pending",Y=V==="error",ne=Z&&Q,re=C!==void 0,P={status:V,fetchStatus:T.fetchStatus,isPending:Z,isSuccess:V==="success",isError:Y,isInitialLoading:ne,isLoading:ne,data:C,dataUpdatedAt:T.dataUpdatedAt,error:I,errorUpdatedAt:L,failureCount:T.fetchFailureCount,failureReason:T.fetchFailureReason,errorUpdateCount:T.errorUpdateCount,isFetched:T.dataUpdateCount>0||T.errorUpdateCount>0,isFetchedAfterMount:T.dataUpdateCount>y.dataUpdateCount||T.errorUpdateCount>y.errorUpdateCount,isFetching:Q,isRefetching:Q&&!Z,isLoadingError:Y&&!re,isPaused:T.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:Y&&re,isStale:Hg(e,t),refetch:this.refetch,promise:j(this,Ns)};if(this.options.experimental_prefetchInRender){const w=U=>{P.status==="error"?U.reject(P.error):P.data!==void 0&&U.resolve(P.data)},N=()=>{const U=ue(this,Ns,P.promise=Xp());w(U)},M=j(this,Ns);switch(M.status){case"pending":e.queryHash===s.queryHash&&w(M);break;case"fulfilled":(P.status==="error"||P.data!==M.value)&&N();break;case"rejected":(P.status!=="error"||P.error!==M.reason)&&N();break}}return P}updateResult(e){const t=j(this,pn),s=this.createResult(j(this,Ue),this.options);if(ue(this,ja,j(this,Ue).state),ue(this,al,this.options),j(this,ja).data!==void 0&&ue(this,ll,j(this,Ue)),Nd(s,t))return;ue(this,pn,s);const o={},u=()=>{if(!t)return!0;const{notifyOnChangeProps:h}=this.options,f=typeof h=="function"?h():h;if(f==="all"||!f&&!j(this,ul).size)return!0;const p=new Set(f??j(this,ul));return this.options.throwOnError&&p.add("error"),Object.keys(j(this,pn)).some(y=>{const _=y;return j(this,pn)[_]!==t[_]&&p.has(_)})};(e==null?void 0:e.listeners)!==!1&&u()&&(o.listeners=!0),De(this,Xe,TT).call(this,{...o,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&De(this,Xe,eg).call(this)}},_n=new WeakMap,Ue=new WeakMap,_c=new WeakMap,pn=new WeakMap,ja=new WeakMap,al=new WeakMap,Ns=new WeakMap,ki=new WeakMap,Ec=new WeakMap,ol=new WeakMap,ll=new WeakMap,ka=new WeakMap,Va=new WeakMap,Is=new WeakMap,ul=new WeakMap,Xe=new WeakSet,Fu=function(e){De(this,Xe,ig).call(this);let t=j(this,Ue).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Wn)),t},Wp=function(){De(this,Xe,tg).call(this);const e=Go(this.options.staleTime,j(this,Ue));if(La||j(this,pn).isStale||!Kp(e))return;const s=fT(j(this,pn).dataUpdatedAt,e)+1;ue(this,ka,setTimeout(()=>{j(this,pn).isStale||this.updateResult()},s))},Zp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(j(this,Ue)):this.options.refetchInterval)??!1},Jp=function(e){De(this,Xe,ng).call(this),ue(this,Is,e),!(La||li(this.options.enabled,j(this,Ue))===!1||!Kp(j(this,Is))||j(this,Is)===0)&&ue(this,Va,setInterval(()=>{(this.options.refetchIntervalInBackground||Fg.isFocused())&&De(this,Xe,Fu).call(this)},j(this,Is)))},eg=function(){De(this,Xe,Wp).call(this),De(this,Xe,Jp).call(this,De(this,Xe,Zp).call(this))},tg=function(){j(this,ka)&&(clearTimeout(j(this,ka)),ue(this,ka,void 0))},ng=function(){j(this,Va)&&(clearInterval(j(this,Va)),ue(this,Va,void 0))},ig=function(){const e=j(this,_n).getQueryCache().build(j(this,_n),this.options);if(e===j(this,Ue))return;const t=j(this,Ue);ue(this,Ue,e),ue(this,_c,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},TT=function(e){Pt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(j(this,pn))}),j(this,_n).getQueryCache().notify({query:j(this,Ue),type:"observerResultsUpdated"})})},Xb);function wC(i,e){return li(e.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&e.retryOnMount===!1)}function hE(i,e){return wC(i,e)||i.state.data!==void 0&&rg(i,e,e.refetchOnMount)}function rg(i,e,t){if(li(e.enabled,i)!==!1){const s=typeof t=="function"?t(i):t;return s==="always"||s!==!1&&Hg(i,e)}return!1}function dE(i,e,t,s){return(i!==e||li(s.enabled,i)===!1)&&(!t.suspense||i.state.status!=="error")&&Hg(i,t)}function Hg(i,e){return li(e.enabled,i)!==!1&&i.isStaleByTime(Go(e.staleTime,i))}function xC(i,e){return!Nd(i.getCurrentResult(),e)}var Ds,Os,En,Er,Rr,gd,sg,Wb,AC=(Wb=class extends wl{constructor(t,s){super();be(this,Rr);be(this,Ds);be(this,Os);be(this,En);be(this,Er);ue(this,Ds,t),this.setOptions(s),this.bindMethods(),De(this,Rr,gd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var o;const s=this.options;this.options=j(this,Ds).defaultMutationOptions(t),Nd(this.options,s)||j(this,Ds).getMutationCache().notify({type:"observerOptionsUpdated",mutation:j(this,En),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Ua(s.mutationKey)!==Ua(this.options.mutationKey)?this.reset():((o=j(this,En))==null?void 0:o.state.status)==="pending"&&j(this,En).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=j(this,En))==null||t.removeObserver(this)}onMutationUpdate(t){De(this,Rr,gd).call(this),De(this,Rr,sg).call(this,t)}getCurrentResult(){return j(this,Os)}reset(){var t;(t=j(this,En))==null||t.removeObserver(this),ue(this,En,void 0),De(this,Rr,gd).call(this),De(this,Rr,sg).call(this)}mutate(t,s){var o;return ue(this,Er,s),(o=j(this,En))==null||o.removeObserver(this),ue(this,En,j(this,Ds).getMutationCache().build(j(this,Ds),this.options)),j(this,En).addObserver(this),j(this,En).execute(t)}},Ds=new WeakMap,Os=new WeakMap,En=new WeakMap,Er=new WeakMap,Rr=new WeakSet,gd=function(){var s;const t=((s=j(this,En))==null?void 0:s.state)??bT();ue(this,Os,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},sg=function(t){Pt.batch(()=>{var s,o,u,h,f,p,y,_;if(j(this,Er)&&this.hasListeners()){const T=j(this,Os).variables,x=j(this,Os).context;(t==null?void 0:t.type)==="success"?((o=(s=j(this,Er)).onSuccess)==null||o.call(s,t.data,T,x),(h=(u=j(this,Er)).onSettled)==null||h.call(u,t.data,null,T,x)):(t==null?void 0:t.type)==="error"&&((p=(f=j(this,Er)).onError)==null||p.call(f,t.error,T,x),(_=(y=j(this,Er)).onSettled)==null||_.call(y,void 0,t.error,T,x))}this.listeners.forEach(T=>{T(j(this,Os))})})},Wb),wT=F.createContext(void 0),Zd=i=>{const e=F.useContext(wT);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},SC=({client:i,children:e})=>(F.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),g.jsx(wT.Provider,{value:i,children:e})),xT=F.createContext(!1),RC=()=>F.useContext(xT);xT.Provider;function CC(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var NC=F.createContext(CC()),IC=()=>F.useContext(NC);function AT(i,e){return typeof i=="function"?i(...e):!!i}function ag(){}var DC=(i,e)=>{(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&(e.isReset()||(i.retryOnMount=!1))},OC=i=>{F.useEffect(()=>{i.clearReset()},[i])},MC=({result:i,errorResetBoundary:e,throwOnError:t,query:s,suspense:o})=>i.isError&&!e.isReset()&&!i.isFetching&&s&&(o&&i.data===void 0||AT(t,[i.error,s])),PC=i=>{const e=i.staleTime;i.suspense&&(i.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof i.gcTime=="number"&&(i.gcTime=Math.max(i.gcTime,1e3)))},jC=(i,e)=>i.isLoading&&i.isFetching&&!e,kC=(i,e)=>(i==null?void 0:i.suspense)&&e.isPending,fE=(i,e,t)=>e.fetchOptimistic(i).catch(()=>{t.clearReset()});function VC(i,e,t){var T,x,C,I,L;const s=Zd(),o=RC(),u=IC(),h=s.defaultQueryOptions(i);(x=(T=s.getDefaultOptions().queries)==null?void 0:T._experimental_beforeQuery)==null||x.call(T,h),h._optimisticResults=o?"isRestoring":"optimistic",PC(h),DC(h,u),OC(u);const f=!s.getQueryCache().get(h.queryHash),[p]=F.useState(()=>new e(s,h)),y=p.getOptimisticResult(h),_=!o&&i.subscribed!==!1;if(F.useSyncExternalStore(F.useCallback(V=>{const Q=_?p.subscribe(Pt.batchCalls(V)):ag;return p.updateResult(),Q},[p,_]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),F.useEffect(()=>{p.setOptions(h,{listeners:!1})},[h,p]),kC(h,y))throw fE(h,p,u);if(MC({result:y,errorResetBoundary:u,throwOnError:h.throwOnError,query:s.getQueryCache().get(h.queryHash),suspense:h.suspense}))throw y.error;if((I=(C=s.getDefaultOptions().queries)==null?void 0:C._experimental_afterQuery)==null||I.call(C,h,y),h.experimental_prefetchInRender&&!La&&jC(y,o)){const V=f?fE(h,p,u):(L=s.getQueryCache().get(h.queryHash))==null?void 0:L.promise;V==null||V.catch(ag).finally(()=>{p.updateResult()})}return h.notifyOnChangeProps?y:p.trackResult(y)}function og(i,e){return VC(i,TC)}function Xu(i,e){const t=Zd(),[s]=F.useState(()=>new AC(t,i));F.useEffect(()=>{s.setOptions(i)},[s,i]);const o=F.useSyncExternalStore(F.useCallback(h=>s.subscribe(Pt.batchCalls(h)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),u=F.useCallback((h,f)=>{s.mutate(h,f).catch(ag)},[s]);if(o.error&&AT(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}const LC=()=>{};var mE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},UC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],f=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},RT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,f=h?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,_=u>>2,T=(u&3)<<4|f>>4;let x=(f&15)<<2|y>>6,C=y&63;p||(C=64,h||(x=64)),s.push(t[_],t[T],t[x],t[C])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ST(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):UC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],f=o<i.length?t[i.charAt(o)]:0;++o;const y=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||f==null||y==null||T==null)throw new qC;const x=u<<2|f>>4;if(s.push(x),y!==64){const C=f<<4&240|y>>2;if(s.push(C),T!==64){const I=y<<6&192|T;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class qC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zC=function(i){const e=ST(i);return RT.encodeByteArray(e,!0)},Dd=function(i){return zC(i).replace(/\./g,"")},CT=function(i){try{return RT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=()=>BC().__FIREBASE_DEFAULTS__,HC=()=>{if(typeof process>"u"||typeof mE>"u")return;const i=mE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},GC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&CT(i[1]);return e&&JSON.parse(e)},Jd=()=>{try{return LC()||FC()||HC()||GC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},NT=i=>{var e,t;return(t=(e=Jd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},QC=i=>{const e=NT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},IT=()=>{var i;return(i=Jd())===null||i===void 0?void 0:i.config},DT=i=>{var e;return(e=Jd())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Dd(JSON.stringify(t)),Dd(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function XC(){var i;const e=(i=Jd())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function JC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e1(){const i=on();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function t1(){return!XC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n1(){try{return typeof indexedDB=="object"}catch{return!1}}function i1(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="FirebaseError";class Pr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=r1,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?s1(u,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Pr(o,f,s)}}function s1(i,e){return i.replace(a1,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const a1=/\{\$([^}]+)}/g;function o1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function qa(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(pE(u)&&pE(h)){if(!qa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function pE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Hu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Gu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function l1(i,e){const t=new u1(i,e);return t.subscribe.bind(t)}class u1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");c1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Op),o.error===void 0&&(o.error=Op),o.complete===void 0&&(o.complete=Op);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c1(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(i){return i&&i._delegate?i._delegate:i}class za{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new KC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f1(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:d1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d1(i){return i===Ca?void 0:i}function f1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new h1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const p1={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},g1=ke.INFO,y1={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},v1=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=y1[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gg{constructor(e){this.name=e,this._logLevel=g1,this._logHandler=v1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const _1=(i,e)=>e.some(t=>i instanceof t);let gE,yE;function E1(){return gE||(gE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b1(){return yE||(yE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OT=new WeakMap,lg=new WeakMap,MT=new WeakMap,Mp=new WeakMap,Qg=new WeakMap;function T1(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(Ps(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&OT.set(t,i)}).catch(()=>{}),Qg.set(e,i),e}function w1(i){if(lg.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});lg.set(i,e)}let ug={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return lg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||MT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ps(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function x1(i){ug=i(ug)}function A1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Pp(this),e,...t);return MT.set(s,e.sort?e.sort():[e]),Ps(s)}:b1().includes(i)?function(...e){return i.apply(Pp(this),e),Ps(OT.get(this))}:function(...e){return Ps(i.apply(Pp(this),e))}}function S1(i){return typeof i=="function"?A1(i):(i instanceof IDBTransaction&&w1(i),_1(i,E1())?new Proxy(i,ug):i)}function Ps(i){if(i instanceof IDBRequest)return T1(i);if(Mp.has(i))return Mp.get(i);const e=S1(i);return e!==i&&(Mp.set(i,e),Qg.set(e,i)),e}const Pp=i=>Qg.get(i);function R1(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),f=Ps(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Ps(h.result),p.oldVersion,p.newVersion,Ps(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const C1=["get","getKey","getAll","getAllKeys","count"],N1=["put","add","delete","clear"],jp=new Map;function vE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(jp.get(e))return jp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=N1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||C1.includes(t)))return;const u=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return jp.set(e,u),u}x1(i=>({...i,get:(e,t,s)=>vE(e,t)||i.get(e,t,s),has:(e,t)=>!!vE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(D1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function D1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cg="@firebase/app",_E="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new Gg("@firebase/app"),O1="@firebase/app-compat",M1="@firebase/analytics-compat",P1="@firebase/analytics",j1="@firebase/app-check-compat",k1="@firebase/app-check",V1="@firebase/auth",L1="@firebase/auth-compat",U1="@firebase/database",q1="@firebase/data-connect",z1="@firebase/database-compat",B1="@firebase/functions",F1="@firebase/functions-compat",H1="@firebase/installations",G1="@firebase/installations-compat",Q1="@firebase/messaging",K1="@firebase/messaging-compat",$1="@firebase/performance",Y1="@firebase/performance-compat",X1="@firebase/remote-config",W1="@firebase/remote-config-compat",Z1="@firebase/storage",J1="@firebase/storage-compat",eN="@firebase/firestore",tN="@firebase/vertexai",nN="@firebase/firestore-compat",iN="firebase",rN="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="[DEFAULT]",sN={[cg]:"fire-core",[O1]:"fire-core-compat",[P1]:"fire-analytics",[M1]:"fire-analytics-compat",[k1]:"fire-app-check",[j1]:"fire-app-check-compat",[V1]:"fire-auth",[L1]:"fire-auth-compat",[U1]:"fire-rtdb",[q1]:"fire-data-connect",[z1]:"fire-rtdb-compat",[B1]:"fire-fn",[F1]:"fire-fn-compat",[H1]:"fire-iid",[G1]:"fire-iid-compat",[Q1]:"fire-fcm",[K1]:"fire-fcm-compat",[$1]:"fire-perf",[Y1]:"fire-perf-compat",[X1]:"fire-rc",[W1]:"fire-rc-compat",[Z1]:"fire-gcs",[J1]:"fire-gcs-compat",[eN]:"fire-fst",[nN]:"fire-fst-compat",[tN]:"fire-vertex","fire-js":"fire-js",[iN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=new Map,aN=new Map,dg=new Map;function EE(i,e){try{i.container.addComponent(e)}catch(t){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function cl(i){const e=i.name;if(dg.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;dg.set(e,i);for(const t of Od.values())EE(t,i);for(const t of aN.values())EE(t,i);return!0}function Kg(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Zn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new wc("app","Firebase",oN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=rN;function PT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:hg,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw js.create("bad-app-name",{appName:String(o)});if(t||(t=IT()),!t)throw js.create("no-options");const u=Od.get(o);if(u){if(qa(t,u.options)&&qa(s,u.config))return u;throw js.create("duplicate-app",{appName:o})}const h=new m1(o);for(const p of dg.values())h.addComponent(p);const f=new lN(t,s,h);return Od.set(o,f),f}function jT(i=hg){const e=Od.get(i);if(!e&&i===hg&&IT())return PT();if(!e)throw js.create("no-app",{appName:i});return e}function ks(i,e,t){var s;let o=(s=sN[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${o}" with version "${e}":`];u&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(f.join(" "));return}cl(new za(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="firebase-heartbeat-database",cN=1,rc="firebase-heartbeat-store";let kp=null;function kT(){return kp||(kp=R1(uN,cN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(rc)}catch(t){console.warn(t)}}}}).catch(i=>{throw js.create("idb-open",{originalErrorMessage:i.message})})),kp}async function hN(i){try{const t=(await kT()).transaction(rc),s=await t.objectStore(rc).get(VT(i));return await t.done,s}catch(e){if(e instanceof Pr)Nr.warn(e.message);else{const t=js.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(t.message)}}}async function bE(i,e){try{const s=(await kT()).transaction(rc,"readwrite");await s.objectStore(rc).put(e,VT(i)),await s.done}catch(t){if(t instanceof Pr)Nr.warn(t.message);else{const s=js.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Nr.warn(s.message)}}}function VT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=1024,fN=30;class mN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gN(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=TE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>fN){const h=yN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=TE(),{heartbeatsToSend:s,unsentEntries:o}=pN(this._heartbeatsCache.heartbeats),u=Dd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Nr.warn(t),""}}}function TE(){return new Date().toISOString().substring(0,10)}function pN(i,e=dN){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),wE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),wE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class gN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n1()?i1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return bE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return bE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function wE(i){return Dd(JSON.stringify({version:2,heartbeats:i})).length}function yN(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(i){cl(new za("platform-logger",e=>new I1(e),"PRIVATE")),cl(new za("heartbeat",e=>new mN(e),"PRIVATE")),ks(cg,_E,i),ks(cg,_E,"esm2017"),ks("fire-js","")}vN("");function $g(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function LT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _N=LT,UT=new wc("auth","Firebase",LT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new Gg("@firebase/auth");function EN(i,...e){Md.logLevel<=ke.WARN&&Md.warn(`Auth (${xl}): ${i}`,...e)}function yd(i,...e){Md.logLevel<=ke.ERROR&&Md.error(`Auth (${xl}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(i,...e){throw Yg(i,...e)}function Vi(i,...e){return Yg(i,...e)}function qT(i,e,t){const s=Object.assign(Object.assign({},_N()),{[e]:t});return new wc("auth","Firebase",s).create(e,{appName:i.name})}function Ar(i){return qT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return UT.create(i,...e)}function we(i,e,...t){if(!i)throw Yg(e,...t)}function br(i){const e="INTERNAL ASSERTION FAILED: "+i;throw yd(e),new Error(e)}function Ir(i,e){i||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function bN(){return xE()==="http:"||xE()==="https:"}function xE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bN()||ZC()||"connection"in navigator)?navigator.onLine:!0}function wN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ir(t>e,"Short delay should be less than long delay!"),this.isMobile=YC()||JC()}get(){return TN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(i,e){Ir(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new Ac(3e4,6e4);function Qs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Ks(i,e,t,s,o={}){return BT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const f=xc(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:e,headers:p},u);return WC()||(y.referrerPolicy="no-referrer"),zT.fetch()(FT(i,i.config.apiHost,t,f),y)})}async function BT(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},xN),e);try{const o=new RN(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw sd(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const f=u.ok?h.errorMessage:h.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sd(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw sd(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw sd(i,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw qT(i,_,y);di(i,_)}}catch(o){if(o instanceof Pr)throw o;di(i,"network-request-failed",{message:String(o)})}}async function Sc(i,e,t,s,o={}){const u=await Ks(i,e,t,s,o);return"mfaPendingCredential"in u&&di(i,"multi-factor-auth-required",{_serverResponse:u}),u}function FT(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?Xg(i.config,o):`${i.config.apiScheme}://${o}`}function SN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Vi(this.auth,"network-request-failed")),AN.get())})}}function sd(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Vi(i,e,s);return o.customData._tokenResponse=t,o}function AE(i){return i!==void 0&&i.enterprise!==void 0}class CN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return SN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NN(i,e){return Ks(i,"GET","/v2/recaptchaConfig",Qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(i,e){return Ks(i,"POST","/v1/accounts:delete",e)}async function HT(i,e){return Ks(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DN(i,e=!1){const t=Vt(i),s=await t.getIdToken(e),o=Wg(s);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Wu(Vp(o.auth_time)),issuedAtTime:Wu(Vp(o.iat)),expirationTime:Wu(Vp(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Vp(i){return Number(i)*1e3}function Wg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{const o=CT(t);return o?JSON.parse(o):(yd("Failed to decode base64 JWT payload"),null)}catch(o){return yd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function SE(i){const e=Wg(i);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Pr&&ON(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function ON({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pd(i){var e;const t=i.auth,s=await i.getIdToken(),o=await sc(i,HT(t,{idToken:s}));we(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?GT(u.providerUserInfo):[],f=jN(i.providerData,h),p=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!(f!=null&&f.length),_=p?y:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new mg(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(i,T)}async function PN(i){const e=Vt(i);await Pd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jN(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function GT(i){return i.map(e=>{var{providerId:t}=e,s=$g(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(i,e){const t=await BT(i,{},async()=>{const s=xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=FT(i,o,"/v1/token",`key=${u}`),f=await i._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",zT.fetch()(h,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function VN(i,e){return Ks(i,"POST","/v2/accounts:revokeToken",Qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=SE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await kN(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new Qo;return s&&(we(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(i,e){we(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Tr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=$g(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new mg(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await sc(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return DN(this,e)}reload(){return PN(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Pd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Ar(this.auth));const e=await this.getIdToken();return await sc(this,IN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,f,p,y,_;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,x=(o=t.email)!==null&&o!==void 0?o:void 0,C=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,I=(h=t.photoURL)!==null&&h!==void 0?h:void 0,L=(f=t.tenantId)!==null&&f!==void 0?f:void 0,V=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Z=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Y,emailVerified:ne,isAnonymous:re,providerData:oe,stsTokenManager:P}=t;we(Y&&P,e,"internal-error");const A=Qo.fromJSON(this.name,P);we(typeof Y=="string",e,"internal-error"),vs(T,e.name),vs(x,e.name),we(typeof ne=="boolean",e,"internal-error"),we(typeof re=="boolean",e,"internal-error"),vs(C,e.name),vs(I,e.name),vs(L,e.name),vs(V,e.name),vs(Q,e.name),vs(Z,e.name);const w=new Tr({uid:Y,auth:e,email:x,emailVerified:ne,displayName:T,isAnonymous:re,photoURL:I,phoneNumber:C,tenantId:L,stsTokenManager:A,createdAt:Q,lastLoginAt:Z});return oe&&Array.isArray(oe)&&(w.providerData=oe.map(N=>Object.assign({},N))),V&&(w._redirectEventId=V),w}static async _fromIdTokenResponse(e,t,s=!1){const o=new Qo;o.updateFromServerResponse(t);const u=new Tr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Pd(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?GT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),f=new Qo;f.updateFromIdToken(s);const p=new Tr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;function wr(i){Ir(i instanceof Function,"Expected a class definition");let e=RE.get(i);return e?(Ir(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,RE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}QT.type="NONE";const CE=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(i,e,t){return`firebase:${i}:${e}:${t}`}class Ko{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=vd(this.userKey,o.apiKey,u),this.fullPersistenceKey=vd("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Tr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ko(wr(CE),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||wr(CE);const h=vd(s,e.config.apiKey,e.name);let f=null;for(const y of t)try{const _=await y._get(h);if(_){const T=Tr._fromJSON(e,_);y!==u&&(f=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ko(u,e,s):(u=p[0],f&&await u._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new Ko(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZT(e))return"Blackberry";if(JT(e))return"Webos";if($T(e))return"Safari";if((e.includes("chrome/")||YT(e))&&!e.includes("edge/"))return"Chrome";if(WT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function KT(i=on()){return/firefox\//i.test(i)}function $T(i=on()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YT(i=on()){return/crios\//i.test(i)}function XT(i=on()){return/iemobile/i.test(i)}function WT(i=on()){return/android/i.test(i)}function ZT(i=on()){return/blackberry/i.test(i)}function JT(i=on()){return/webos/i.test(i)}function Zg(i=on()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function LN(i=on()){var e;return Zg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UN(){return e1()&&document.documentMode===10}function ew(i=on()){return Zg(i)||WT(i)||JT(i)||ZT(i)||/windows phone/i.test(i)||XT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(i,e=[]){let t;switch(i){case"Browser":t=NE(on());break;case"Worker":t=`${NE(on())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,f)=>{try{const p=e(u);h(p)}catch(p){f(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(i,e={}){return Ks(i,"GET","/v2/passwordPolicy",Qs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=6;class FN{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:BN,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IE(this),this.idTokenSubscription=new IE(this),this.beforeStateQueue=new qN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await HT(this,{idToken:e}),s=await Tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Zn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===f)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Ar(this));const t=e?Vt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zN(this),t=new FN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await VN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(f,this,"internal-error"),f.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&EN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ga(i){return Vt(i)}class IE{constructor(e){this.auth=e,this.observer=null,this.addObserver=l1(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GN(i){ef=i}function nw(i){return ef.loadJS(i)}function QN(){return ef.recaptchaEnterpriseScript}function KN(){return ef.gapiScript}function $N(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class YN{constructor(){this.enterprise=new XN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class XN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const WN="recaptcha-enterprise",iw="NO_RECAPTCHA";class ZN{constructor(e){this.type=WN,this.auth=Ga(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,f)=>{NN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new CN(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(p=>{f(p)})})}function o(u,h,f){const p=window.grecaptcha;AE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(iw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YN().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(f=>{if(!t&&AE(window.grecaptcha))o(f,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=QN();p.length!==0&&(p+=f),nw(p).then(()=>{o(f,u,h)}).catch(y=>{h(y)})}}).catch(f=>{h(f)})})}}async function DE(i,e,t,s=!1,o=!1){const u=new ZN(i);let h;if(o)h=iw;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function OE(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await DE(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await DE(i,e,t,t==="getOobCode");return s(i,f)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(i,e){const t=Kg(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(qa(u,e??{}))return o;di(o,"already-initialized")}return t.initialize({options:e})}function eI(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(wr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function tI(i,e,t){const s=Ga(i);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=rw(e),{host:h,port:f}=nI(e),p=f===null?"":`:${f}`,y={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(qa(y,s.config.emulator)&&qa(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,iI()}function rw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function nI(i){const e=rw(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:ME(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:ME(h)}}}function ME(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function iI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,t){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function rI(i,e){return Ks(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(i,e){return Sc(i,"POST","/v1/accounts:signInWithPassword",Qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(i,e){return Sc(i,"POST","/v1/accounts:signInWithEmailLink",Qs(i,e))}async function oI(i,e){return Sc(i,"POST","/v1/accounts:signInWithEmailLink",Qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Jg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ac(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new ac(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return OE(e,t,"signInWithPassword",sI);case"emailLink":return aI(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return OE(e,s,"signUpPassword",rI);case"emailLink":return oI(e,{idToken:t,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(i,e){return Sc(i,"POST","/v1/accounts:signInWithIdp",Qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="http://localhost";class Ba extends Jg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):di("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=$g(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Ba(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return $o(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,$o(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$o(e,t)}buildRequest(){const e={requestUri:lI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cI(i){const e=Hu(Gu(i)).link,t=e?Hu(Gu(e)).deep_link_id:null,s=Hu(Gu(i)).deep_link_id;return(s?Hu(Gu(s)).link:null)||s||t||e||i}class ey{constructor(e){var t,s,o,u,h,f;const p=Hu(Gu(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,T=uI((o=p.mode)!==null&&o!==void 0?o:null);we(y&&_&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=cI(e);try{return new ey(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.providerId=Al.PROVIDER_ID}static credential(e,t){return ac._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ey.parseLink(t);return we(s,"argument-error"),ac._fromEmailAndCode(e,s.code,s.tenantId)}}Al.PROVIDER_ID="password";Al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends sw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Rc{constructor(){super("facebook.com")}static credential(e){return Ba._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ba._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return bs.credential(t,s)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Rc{constructor(){super("github.com")}static credential(e){return Ba._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Rc{constructor(){super("twitter.com")}static credential(e,t){return Ba._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ws.credential(t,s)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(i,e){return Sc(i,"POST","/v1/accounts:signUp",Qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Tr._fromIdTokenResponse(e,s,o),h=PE(s);return new Us({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=PE(s);return new Us({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function PE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(i){var e;if(Zn(i.app))return Promise.reject(Ar(i));const t=Ga(i);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Us({user:t.currentUser,providerId:null,operationType:"signIn"});const s=await hI(t,{returnSecureToken:!0}),o=await Us._fromIdTokenResponse(t,"signIn",s,!0);return await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Pr{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,jd.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new jd(e,t,s,o)}}function aw(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jd._fromErrorAndOperation(i,u,e,s):u})}async function fI(i,e,t=!1){const s=await sc(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Us._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(i,e,t=!1){const{auth:s}=i;if(Zn(s.app))return Promise.reject(Ar(s));const o="reauthenticate";try{const u=await sc(i,aw(s,o,e,i),t);we(u.idToken,s,"internal-error");const h=Wg(u.idToken);we(h,s,"internal-error");const{sub:f}=h;return we(i.uid===f,s,"user-mismatch"),Us._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&di(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(i,e,t=!1){if(Zn(i.app))return Promise.reject(Ar(i));const s="signIn",o=await aw(i,s,e),u=await Us._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function pI(i,e){return ow(Ga(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(i){const e=Ga(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function yI(i,e,t){return Zn(i.app)?Promise.reject(Ar(i)):pI(Vt(i),Al.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&gI(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(i,e){return Vt(i).setPersistence(e)}function _I(i,e,t,s){return Vt(i).onIdTokenChanged(e,t,s)}function EI(i,e,t){return Vt(i).beforeAuthStateChanged(e,t)}function bI(i,e,t,s){return Vt(i).onAuthStateChanged(e,t,s)}function TI(i){return Vt(i).signOut()}const kd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kd,"1"),this.storage.removeItem(kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=1e3,xI=10;class uw extends lw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ew(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);UN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,xI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},wI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}uw.type="LOCAL";const AI=uw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw extends lw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cw.type="SESSION";const ty=cw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new tf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,u)),p=await SI(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((f,p)=>{const y=ny("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const x=T;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),f(x.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function CI(i){Li().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function NI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function II(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function DI(){return hw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="firebaseLocalStorageDb",OI=1,Vd="firebaseLocalStorage",fw="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function nf(i,e){return i.transaction([Vd],e?"readwrite":"readonly").objectStore(Vd)}function MI(){const i=indexedDB.deleteDatabase(dw);return new Cc(i).toPromise()}function pg(){const i=indexedDB.open(dw,OI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Vd,{keyPath:fw})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Vd)?e(s):(s.close(),await MI(),e(await pg()))})})}async function jE(i,e,t){const s=nf(i,!0).put({[fw]:e,value:t});return new Cc(s).toPromise()}async function PI(i,e){const t=nf(i,!1).get(e),s=await new Cc(t).toPromise();return s===void 0?null:s.value}function kE(i,e){const t=nf(i,!0).delete(e);return new Cc(t).toPromise()}const jI=800,kI=3;class mw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>kI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(DI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await NI(),!this.activeServiceWorker)return;this.sender=new RI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||II()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pg();return await jE(e,kd,"1"),await kE(e,kd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>jE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>PI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>kE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=nf(o,!1).getAll();return new Cc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mw.type="LOCAL";const VI=mw;new Ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(i,e){return e?wr(e):(we(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy extends Jg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function UI(i){return ow(i.auth,new iy(i),i.bypassAuthState)}function qI(i){const{auth:e,user:t}=i;return we(t,e,"internal-error"),mI(t,new iy(i),i.bypassAuthState)}async function zI(i){const{auth:e,user:t}=i;return we(t,e,"internal-error"),fI(t,new iy(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:f}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UI;case"linkViaPopup":case"linkViaRedirect":return zI;case"reauthViaPopup":case"reauthViaRedirect":return qI;default:di(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new Ac(2e3,1e4);class Ho extends pw{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const e=ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BI.get())};e()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="pendingRedirect",_d=new Map;class HI extends pw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=_d.get(this.auth._key());if(!e){try{const s=await GI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GI(i,e){const t=$I(e),s=KI(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function QI(i,e){_d.set(i._key(),e)}function KI(i){return wr(i._redirectPersistence)}function $I(i){return vd(FI,i.config.apiKey,i.name)}async function YI(i,e,t=!1){if(Zn(i.app))return Promise.reject(Ar(i));const s=Ga(i),o=LI(s,e),h=await new HI(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=10*60*1e3;class WI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!gw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Vi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XI&&this.cachedEventUids.clear(),this.cachedEventUids.has(VE(e))}saveEventToCache(e){this.cachedEventUids.add(VE(e)),this.lastProcessedEventTime=Date.now()}}function VE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function gw({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ZI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(i,e={}){return Ks(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tD=/^https?/;async function nD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await JI(i);for(const t of e)try{if(iD(t))return}catch{}di(i,"unauthorized-domain")}function iD(i){const e=fg(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!tD.test(t))return!1;if(eD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new Ac(3e4,6e4);function LE(){const i=Li().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function sD(i){return new Promise((e,t)=>{var s,o,u;function h(){LE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LE(),t(Vi(i,"network-request-failed"))},timeout:rD.get()})}if(!((o=(s=Li().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Li().gapi)===null||u===void 0)&&u.load)h();else{const f=$N("iframefcb");return Li()[f]=()=>{gapi.load?h():t(Vi(i,"network-request-failed"))},nw(`${KN()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Ed=null,e})}let Ed=null;function aD(i){return Ed=Ed||sD(i),Ed}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new Ac(5e3,15e3),lD="__/auth/iframe",uD="emulator/auth/iframe",cD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dD(i){const e=i.config;we(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Xg(e,uD):`https://${i.config.authDomain}/${lD}`,s={apiKey:e.apiKey,appName:i.name,v:xl},o=hD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${xc(s).slice(1)}`}async function fD(i){const e=await aD(i),t=Li().gapi;return we(t,i,"internal-error"),e.open({where:document.body,url:dD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Vi(i,"network-request-failed"),f=Li().setTimeout(()=>{u(h)},oD.get());function p(){Li().clearTimeout(f),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pD=500,gD=600,yD="_blank",vD="http://localhost";class UE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _D(i,e,t,s=pD,o=gD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p=Object.assign(Object.assign({},mD),{width:s.toString(),height:o.toString(),top:u,left:h}),y=on().toLowerCase();t&&(f=YT(y)?yD:t),KT(y)&&(e=e||vD,p.scrollbars="yes");const _=Object.entries(p).reduce((x,[C,I])=>`${x}${C}=${I},`,"");if(LN(y)&&f!=="_self")return ED(e||"",f),new UE(null);const T=window.open(e||"",f,_);we(T,i,"popup-blocked");try{T.focus()}catch{}return new UE(T)}function ED(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="__/auth/handler",TD="emulator/auth/handler",wD=encodeURIComponent("fac");async function qE(i,e,t,s,o,u){we(i.config.authDomain,i,"auth-domain-config-required"),we(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:xl,eventId:o};if(e instanceof sw){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",o1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof Rc){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const f=h;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const p=await i._getAppCheckToken(),y=p?`#${wD}=${encodeURIComponent(p)}`:"";return`${xD(i)}?${xc(f).slice(1)}${y}`}function xD({config:i}){return i.emulator?Xg(i,TD):`https://${i.authDomain}/${bD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="webStorageSupport";class AD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ty,this._completeRedirectFn=YI,this._overrideRedirectResult=QI}async _openPopup(e,t,s,o){var u;Ir((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await qE(e,t,s,fg(),o);return _D(e,h,ny())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await qE(e,t,s,fg(),o);return CI(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await fD(e),s=new WI(e);return t.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lp,{type:Lp},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Lp];h!==void 0&&t(!!h),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ew()||$T()||Zg()}}const SD=AD;var zE="@firebase/auth",BE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ND(i){cl(new za("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;we(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:f,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tw(i)},y=new HN(s,o,u,p);return eI(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),cl(new za("auth-internal",e=>{const t=Ga(e.getProvider("auth").getImmediate());return(s=>new RD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(zE,BE,CD(i)),ks(zE,BE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=5*60,DD=DT("authIdTokenMaxAge")||ID;let FE=null;const OD=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>DD)return;const o=t==null?void 0:t.token;FE!==o&&(FE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MD(i=jT()){const e=Kg(i,"auth");if(e.isInitialized())return e.getImmediate();const t=JN(i,{popupRedirectResolver:SD,persistence:[VI,AI,ty]}),s=DT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=OD(u.toString());EI(t,h,()=>h(t.currentUser)),_I(t,f=>h(f))}}const o=NT("auth");return o&&tI(t,`http://${o}`),t}function PD(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}GN({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Vi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",PD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ND("Browser");var HE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vs,yw;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,A){function w(){}w.prototype=A.prototype,P.D=A.prototype,P.prototype=new w,P.prototype.constructor=P,P.C=function(N,M,U){for(var O=Array(arguments.length-2),it=2;it<arguments.length;it++)O[it-2]=arguments[it];return A.prototype[M].apply(N,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,A,w){w||(w=0);var N=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)N[M]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(M=0;16>M;++M)N[M]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=P.g[0],w=P.g[1],M=P.g[2];var U=P.g[3],O=A+(U^w&(M^U))+N[0]+3614090360&4294967295;A=w+(O<<7&4294967295|O>>>25),O=U+(M^A&(w^M))+N[1]+3905402710&4294967295,U=A+(O<<12&4294967295|O>>>20),O=M+(w^U&(A^w))+N[2]+606105819&4294967295,M=U+(O<<17&4294967295|O>>>15),O=w+(A^M&(U^A))+N[3]+3250441966&4294967295,w=M+(O<<22&4294967295|O>>>10),O=A+(U^w&(M^U))+N[4]+4118548399&4294967295,A=w+(O<<7&4294967295|O>>>25),O=U+(M^A&(w^M))+N[5]+1200080426&4294967295,U=A+(O<<12&4294967295|O>>>20),O=M+(w^U&(A^w))+N[6]+2821735955&4294967295,M=U+(O<<17&4294967295|O>>>15),O=w+(A^M&(U^A))+N[7]+4249261313&4294967295,w=M+(O<<22&4294967295|O>>>10),O=A+(U^w&(M^U))+N[8]+1770035416&4294967295,A=w+(O<<7&4294967295|O>>>25),O=U+(M^A&(w^M))+N[9]+2336552879&4294967295,U=A+(O<<12&4294967295|O>>>20),O=M+(w^U&(A^w))+N[10]+4294925233&4294967295,M=U+(O<<17&4294967295|O>>>15),O=w+(A^M&(U^A))+N[11]+2304563134&4294967295,w=M+(O<<22&4294967295|O>>>10),O=A+(U^w&(M^U))+N[12]+1804603682&4294967295,A=w+(O<<7&4294967295|O>>>25),O=U+(M^A&(w^M))+N[13]+4254626195&4294967295,U=A+(O<<12&4294967295|O>>>20),O=M+(w^U&(A^w))+N[14]+2792965006&4294967295,M=U+(O<<17&4294967295|O>>>15),O=w+(A^M&(U^A))+N[15]+1236535329&4294967295,w=M+(O<<22&4294967295|O>>>10),O=A+(M^U&(w^M))+N[1]+4129170786&4294967295,A=w+(O<<5&4294967295|O>>>27),O=U+(w^M&(A^w))+N[6]+3225465664&4294967295,U=A+(O<<9&4294967295|O>>>23),O=M+(A^w&(U^A))+N[11]+643717713&4294967295,M=U+(O<<14&4294967295|O>>>18),O=w+(U^A&(M^U))+N[0]+3921069994&4294967295,w=M+(O<<20&4294967295|O>>>12),O=A+(M^U&(w^M))+N[5]+3593408605&4294967295,A=w+(O<<5&4294967295|O>>>27),O=U+(w^M&(A^w))+N[10]+38016083&4294967295,U=A+(O<<9&4294967295|O>>>23),O=M+(A^w&(U^A))+N[15]+3634488961&4294967295,M=U+(O<<14&4294967295|O>>>18),O=w+(U^A&(M^U))+N[4]+3889429448&4294967295,w=M+(O<<20&4294967295|O>>>12),O=A+(M^U&(w^M))+N[9]+568446438&4294967295,A=w+(O<<5&4294967295|O>>>27),O=U+(w^M&(A^w))+N[14]+3275163606&4294967295,U=A+(O<<9&4294967295|O>>>23),O=M+(A^w&(U^A))+N[3]+4107603335&4294967295,M=U+(O<<14&4294967295|O>>>18),O=w+(U^A&(M^U))+N[8]+1163531501&4294967295,w=M+(O<<20&4294967295|O>>>12),O=A+(M^U&(w^M))+N[13]+2850285829&4294967295,A=w+(O<<5&4294967295|O>>>27),O=U+(w^M&(A^w))+N[2]+4243563512&4294967295,U=A+(O<<9&4294967295|O>>>23),O=M+(A^w&(U^A))+N[7]+1735328473&4294967295,M=U+(O<<14&4294967295|O>>>18),O=w+(U^A&(M^U))+N[12]+2368359562&4294967295,w=M+(O<<20&4294967295|O>>>12),O=A+(w^M^U)+N[5]+4294588738&4294967295,A=w+(O<<4&4294967295|O>>>28),O=U+(A^w^M)+N[8]+2272392833&4294967295,U=A+(O<<11&4294967295|O>>>21),O=M+(U^A^w)+N[11]+1839030562&4294967295,M=U+(O<<16&4294967295|O>>>16),O=w+(M^U^A)+N[14]+4259657740&4294967295,w=M+(O<<23&4294967295|O>>>9),O=A+(w^M^U)+N[1]+2763975236&4294967295,A=w+(O<<4&4294967295|O>>>28),O=U+(A^w^M)+N[4]+1272893353&4294967295,U=A+(O<<11&4294967295|O>>>21),O=M+(U^A^w)+N[7]+4139469664&4294967295,M=U+(O<<16&4294967295|O>>>16),O=w+(M^U^A)+N[10]+3200236656&4294967295,w=M+(O<<23&4294967295|O>>>9),O=A+(w^M^U)+N[13]+681279174&4294967295,A=w+(O<<4&4294967295|O>>>28),O=U+(A^w^M)+N[0]+3936430074&4294967295,U=A+(O<<11&4294967295|O>>>21),O=M+(U^A^w)+N[3]+3572445317&4294967295,M=U+(O<<16&4294967295|O>>>16),O=w+(M^U^A)+N[6]+76029189&4294967295,w=M+(O<<23&4294967295|O>>>9),O=A+(w^M^U)+N[9]+3654602809&4294967295,A=w+(O<<4&4294967295|O>>>28),O=U+(A^w^M)+N[12]+3873151461&4294967295,U=A+(O<<11&4294967295|O>>>21),O=M+(U^A^w)+N[15]+530742520&4294967295,M=U+(O<<16&4294967295|O>>>16),O=w+(M^U^A)+N[2]+3299628645&4294967295,w=M+(O<<23&4294967295|O>>>9),O=A+(M^(w|~U))+N[0]+4096336452&4294967295,A=w+(O<<6&4294967295|O>>>26),O=U+(w^(A|~M))+N[7]+1126891415&4294967295,U=A+(O<<10&4294967295|O>>>22),O=M+(A^(U|~w))+N[14]+2878612391&4294967295,M=U+(O<<15&4294967295|O>>>17),O=w+(U^(M|~A))+N[5]+4237533241&4294967295,w=M+(O<<21&4294967295|O>>>11),O=A+(M^(w|~U))+N[12]+1700485571&4294967295,A=w+(O<<6&4294967295|O>>>26),O=U+(w^(A|~M))+N[3]+2399980690&4294967295,U=A+(O<<10&4294967295|O>>>22),O=M+(A^(U|~w))+N[10]+4293915773&4294967295,M=U+(O<<15&4294967295|O>>>17),O=w+(U^(M|~A))+N[1]+2240044497&4294967295,w=M+(O<<21&4294967295|O>>>11),O=A+(M^(w|~U))+N[8]+1873313359&4294967295,A=w+(O<<6&4294967295|O>>>26),O=U+(w^(A|~M))+N[15]+4264355552&4294967295,U=A+(O<<10&4294967295|O>>>22),O=M+(A^(U|~w))+N[6]+2734768916&4294967295,M=U+(O<<15&4294967295|O>>>17),O=w+(U^(M|~A))+N[13]+1309151649&4294967295,w=M+(O<<21&4294967295|O>>>11),O=A+(M^(w|~U))+N[4]+4149444226&4294967295,A=w+(O<<6&4294967295|O>>>26),O=U+(w^(A|~M))+N[11]+3174756917&4294967295,U=A+(O<<10&4294967295|O>>>22),O=M+(A^(U|~w))+N[2]+718787259&4294967295,M=U+(O<<15&4294967295|O>>>17),O=w+(U^(M|~A))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+U&4294967295}s.prototype.u=function(P,A){A===void 0&&(A=P.length);for(var w=A-this.blockSize,N=this.B,M=this.h,U=0;U<A;){if(M==0)for(;U<=w;)o(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<A;)if(N[M++]=P.charCodeAt(U++),M==this.blockSize){o(this,N),M=0;break}}else for(;U<A;)if(N[M++]=P[U++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=A},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;var w=8*this.o;for(A=P.length-8;A<P.length;++A)P[A]=w&255,w/=256;for(this.u(P),P=Array(16),A=w=0;4>A;++A)for(var N=0;32>N;N+=8)P[w++]=this.g[A]>>>N&255;return P};function u(P,A){var w=f;return Object.prototype.hasOwnProperty.call(w,P)?w[P]:w[P]=A(P)}function h(P,A){this.h=A;for(var w=[],N=!0,M=P.length-1;0<=M;M--){var U=P[M]|0;N&&U==A||(w[M]=U,N=!1)}this.g=w}var f={};function p(P){return-128<=P&&128>P?u(P,function(A){return new h([A|0],0>A?-1:0)}):new h([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return V(y(-P));for(var A=[],w=1,N=0;P>=w;N++)A[N]=P/w|0,w*=4294967296;return new h(A,0)}function _(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return V(_(P.substring(1),A));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(A,8)),N=T,M=0;M<P.length;M+=8){var U=Math.min(8,P.length-M),O=parseInt(P.substring(M,M+U),A);8>U?(U=y(Math.pow(A,U)),N=N.j(U).add(y(O))):(N=N.j(w),N=N.add(y(O)))}return N}var T=p(0),x=p(1),C=p(16777216);i=h.prototype,i.m=function(){if(L(this))return-V(this).m();for(var P=0,A=1,w=0;w<this.g.length;w++){var N=this.i(w);P+=(0<=N?N:4294967296+N)*A,A*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(I(this))return"0";if(L(this))return"-"+V(this).toString(P);for(var A=y(Math.pow(P,6)),w=this,N="";;){var M=ne(w,A).g;w=Q(w,M.j(A));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(P);if(w=M,I(w))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function I(P){if(P.h!=0)return!1;for(var A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function L(P){return P.h==-1}i.l=function(P){return P=Q(this,P),L(P)?-1:I(P)?0:1};function V(P){for(var A=P.g.length,w=[],N=0;N<A;N++)w[N]=~P.g[N];return new h(w,~P.h).add(x)}i.abs=function(){return L(this)?V(this):this},i.add=function(P){for(var A=Math.max(this.g.length,P.g.length),w=[],N=0,M=0;M<=A;M++){var U=N+(this.i(M)&65535)+(P.i(M)&65535),O=(U>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);N=O>>>16,U&=65535,O&=65535,w[M]=O<<16|U}return new h(w,w[w.length-1]&-2147483648?-1:0)};function Q(P,A){return P.add(V(A))}i.j=function(P){if(I(this)||I(P))return T;if(L(this))return L(P)?V(this).j(V(P)):V(V(this).j(P));if(L(P))return V(this.j(V(P)));if(0>this.l(C)&&0>P.l(C))return y(this.m()*P.m());for(var A=this.g.length+P.g.length,w=[],N=0;N<2*A;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<P.g.length;M++){var U=this.i(N)>>>16,O=this.i(N)&65535,it=P.i(M)>>>16,tt=P.i(M)&65535;w[2*N+2*M]+=O*tt,Z(w,2*N+2*M),w[2*N+2*M+1]+=U*tt,Z(w,2*N+2*M+1),w[2*N+2*M+1]+=O*it,Z(w,2*N+2*M+1),w[2*N+2*M+2]+=U*it,Z(w,2*N+2*M+2)}for(N=0;N<A;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=A;N<2*A;N++)w[N]=0;return new h(w,0)};function Z(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function Y(P,A){this.g=P,this.h=A}function ne(P,A){if(I(A))throw Error("division by zero");if(I(P))return new Y(T,T);if(L(P))return A=ne(V(P),A),new Y(V(A.g),V(A.h));if(L(A))return A=ne(P,V(A)),new Y(V(A.g),A.h);if(30<P.g.length){if(L(P)||L(A))throw Error("slowDivide_ only works with positive integers.");for(var w=x,N=A;0>=N.l(P);)w=re(w),N=re(N);var M=oe(w,1),U=oe(N,1);for(N=oe(N,2),w=oe(w,2);!I(N);){var O=U.add(N);0>=O.l(P)&&(M=M.add(w),U=O),N=oe(N,1),w=oe(w,1)}return A=Q(P,M.j(A)),new Y(M,A)}for(M=T;0<=P.l(A);){for(w=Math.max(1,Math.floor(P.m()/A.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=y(w),O=U.j(A);L(O)||0<O.l(P);)w-=N,U=y(w),O=U.j(A);I(U)&&(U=x),M=M.add(U),P=Q(P,O)}return new Y(M,P)}i.A=function(P){return ne(this,P).h},i.and=function(P){for(var A=Math.max(this.g.length,P.g.length),w=[],N=0;N<A;N++)w[N]=this.i(N)&P.i(N);return new h(w,this.h&P.h)},i.or=function(P){for(var A=Math.max(this.g.length,P.g.length),w=[],N=0;N<A;N++)w[N]=this.i(N)|P.i(N);return new h(w,this.h|P.h)},i.xor=function(P){for(var A=Math.max(this.g.length,P.g.length),w=[],N=0;N<A;N++)w[N]=this.i(N)^P.i(N);return new h(w,this.h^P.h)};function re(P){for(var A=P.g.length+1,w=[],N=0;N<A;N++)w[N]=P.i(N)<<1|P.i(N-1)>>>31;return new h(w,P.h)}function oe(P,A){var w=A>>5;A%=32;for(var N=P.g.length-w,M=[],U=0;U<N;U++)M[U]=0<A?P.i(U+w)>>>A|P.i(U+w+1)<<32-A:P.i(U+w);return new h(M,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,yw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,Vs=h}).apply(typeof HE<"u"?HE:typeof self<"u"?self:typeof window<"u"?window:{});var ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vw,Qu,_w,bd,gg,Ew,bw,Tw;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,E){return c==Array.prototype||c==Object.prototype||(c[v]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ad=="object"&&ad];for(var v=0;v<c.length;++v){var E=c[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(c,v){if(v)e:{var E=s;c=c.split(".");for(var R=0;R<c.length-1;R++){var H=c[R];if(!(H in E))break e;E=E[H]}c=c[c.length-1],R=E[c],v=v(R),v!=R&&v!=null&&e(E,c,{configurable:!0,writable:!0,value:v})}}function u(c,v){c instanceof String&&(c+="");var E=0,R=!1,H={next:function(){if(!R&&E<c.length){var $=E++;return{value:v($,c[$]),done:!1}}return R=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function y(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function _(c,v,E){return c.call.apply(c.bind,arguments)}function T(c,v,E){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,R),c.apply(v,H)}}return function(){return c.apply(v,arguments)}}function x(c,v,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,x.apply(null,arguments)}function C(c,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function I(c,v){function E(){}E.prototype=v.prototype,c.aa=v.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(R,H,$){for(var ae=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ae[ze-2]=arguments[ze];return v.prototype[H].apply(R,ae)}}function L(c){const v=c.length;if(0<v){const E=Array(v);for(let R=0;R<v;R++)E[R]=c[R];return E}return[]}function V(c,v){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(p(R)){const H=c.length||0,$=R.length||0;c.length=H+$;for(let ae=0;ae<$;ae++)c[H+ae]=R[ae]}else c.push(R)}}class Q{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Z(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var re=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function oe(c,v,E){for(const R in c)v.call(E,c[R],R,c)}function P(c,v){for(const E in c)v.call(void 0,c[E],E,c)}function A(c){const v={};for(const E in c)v[E]=c[E];return v}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,v){let E,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(E in R)c[E]=R[E];for(let $=0;$<w.length;$++)E=w[$],Object.prototype.hasOwnProperty.call(R,E)&&(c[E]=R[E])}}function M(c){var v=1;c=c.split(":");const E=[];for(;0<v&&c.length;)E.push(c.shift()),v--;return c.length&&E.push(c.join(":")),E}function U(c){f.setTimeout(()=>{throw c},0)}function O(){var c=je;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class it{constructor(){this.h=this.g=null}add(v,E){const R=tt.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var tt=new Q(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,pe=!1,je=new it,k=()=>{const c=f.Promise.resolve(void 0);ge=()=>{c.then(se)}};var se=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(E){U(E)}var v=tt;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}pe=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,v),f.removeEventListener("test",E,v)}catch{}return c}();function Ie(c,v){if(ce.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(re){e:{try{ne(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else E=="mouseover"?v=c.fromElement:E=="mouseout"&&(v=c.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}I(Ie,ce);var Ce={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function ft(c,v,E,R,H){this.listener=c,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=H,this.key=++Ge,this.da=this.fa=!1}function Ze(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ln(c){this.src=c,this.g={},this.h=0}ln.prototype.add=function(c,v,E,R,H){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ae=Mn(c,v,R,H);return-1<ae?(v=c[ae],E||(v.fa=!1)):(v=new ft(v,this.src,$,!!R,H),v.fa=E,c.push(v)),v};function Fi(c,v){var E=v.type;if(E in c.g){var R=c.g[E],H=Array.prototype.indexOf.call(R,v,void 0),$;($=0<=H)&&Array.prototype.splice.call(R,H,1),$&&(Ze(v),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Mn(c,v,E,R){for(var H=0;H<c.length;++H){var $=c[H];if(!$.da&&$.listener==v&&$.capture==!!E&&$.ha==R)return H}return-1}var jr="closure_lm_"+(1e6*Math.random()|0),kr={};function Hi(c,v,E,R,H){if(Array.isArray(v)){for(var $=0;$<v.length;$++)Hi(c,v[$],E,R,H);return null}return E=jc(E),c&&c[Tt]?c.K(v,E,y(R)?!!R.capture:!1,H):Ml(c,v,E,!1,R,H)}function Ml(c,v,E,R,H,$){if(!v)throw Error("Invalid event type");var ae=y(H)?!!H.capture:!!H,ze=Pl(c);if(ze||(c[jr]=ze=new ln(c)),E=ze.add(v,E,R,ae,$),E.proxy)return E;if(R=Ya(),E.proxy=R,R.src=c,R.listener=E,c.addEventListener)he||(H=ae),H===void 0&&(H=!1),c.addEventListener(v.toString(),R,H);else if(c.attachEvent)c.attachEvent(Wa(v.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ya(){function c(E){return v.call(c.src,c.listener,E)}const v=xf;return c}function Xa(c,v,E,R,H){if(Array.isArray(v))for(var $=0;$<v.length;$++)Xa(c,v[$],E,R,H);else R=y(R)?!!R.capture:!!R,E=jc(E),c&&c[Tt]?(c=c.i,v=String(v).toString(),v in c.g&&($=c.g[v],E=Mn($,E,R,H),-1<E&&(Ze($[E]),Array.prototype.splice.call($,E,1),$.length==0&&(delete c.g[v],c.h--)))):c&&(c=Pl(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Mn(v,E,R,H)),(E=-1<c?v[c]:null)&&Xs(E))}function Xs(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Tt])Fi(v.i,c);else{var E=c.type,R=c.proxy;v.removeEventListener?v.removeEventListener(E,R,c.capture):v.detachEvent?v.detachEvent(Wa(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=Pl(v))?(Fi(E,c),E.h==0&&(E.src=null,v[jr]=null)):Ze(c)}}}function Wa(c){return c in kr?kr[c]:kr[c]="on"+c}function xf(c,v){if(c.da)c=!0;else{v=new Ie(v,this);var E=c.listener,R=c.ha||c.src;c.fa&&Xs(c),c=E.call(R,v)}return c}function Pl(c){return c=c[jr],c instanceof ln?c:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function jc(c){return typeof c=="function"?c:(c[gn]||(c[gn]=function(v){return c.handleEvent(v)}),c[gn])}function Ct(){ve.call(this),this.i=new ln(this),this.M=this,this.F=null}I(Ct,ve),Ct.prototype[Tt]=!0,Ct.prototype.removeEventListener=function(c,v,E,R){Xa(this,c,v,E,R)};function Lt(c,v){var E,R=c.F;if(R)for(E=[];R;R=R.F)E.push(R);if(c=c.M,R=v.type||v,typeof v=="string")v=new ce(v,c);else if(v instanceof ce)v.target=v.target||c;else{var H=v;v=new ce(R,c),N(v,H)}if(H=!0,E)for(var $=E.length-1;0<=$;$--){var ae=v.g=E[$];H=Gi(ae,R,!0,v)&&H}if(ae=v.g=c,H=Gi(ae,R,!0,v)&&H,H=Gi(ae,R,!1,v)&&H,E)for($=0;$<E.length;$++)ae=v.g=E[$],H=Gi(ae,R,!1,v)&&H}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var E=c.g[v],R=0;R<E.length;R++)Ze(E[R]);delete c.g[v],c.h--}}this.F=null},Ct.prototype.K=function(c,v,E,R){return this.i.add(String(c),v,!1,E,R)},Ct.prototype.L=function(c,v,E,R){return this.i.add(String(c),v,!0,E,R)};function Gi(c,v,E,R){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,$=0;$<v.length;++$){var ae=v[$];if(ae&&!ae.da&&ae.capture==E){var ze=ae.listener,It=ae.ha||ae.src;ae.fa&&Fi(c.i,ae),H=ze.call(It,R)!==!1&&H}}return H&&!R.defaultPrevented}function kc(c,v,E){if(typeof c=="function")E&&(c=x(c,E));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(c,v||0)}function jl(c){c.g=kc(()=>{c.g=null,c.i&&(c.i=!1,jl(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Af extends ve{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:jl(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ws(c){ve.call(this),this.h=c,this.g={}}I(Ws,ve);var Vr=[];function Jt(c){oe(c.g,function(v,E){this.g.hasOwnProperty(E)&&Xs(v)},c),c.g={}}Ws.prototype.N=function(){Ws.aa.N.call(this),Jt(this)},Ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kl=f.JSON.stringify,gi=f.JSON.parse,un=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Vl(){}Vl.prototype.h=null;function Vc(c){return c.h||(c.h=c.i())}function Lc(){}var yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lr(){ce.call(this,"d")}I(Lr,ce);function Jn(){ce.call(this,"c")}I(Jn,ce);var Pn={},Ur=null;function Za(){return Ur=Ur||new Ct}Pn.La="serverreachability";function Ll(c){ce.call(this,Pn.La,c)}I(Ll,ce);function qr(c){const v=Za();Lt(v,new Ll(v))}Pn.STAT_EVENT="statevent";function Ja(c,v){ce.call(this,Pn.STAT_EVENT,c),this.stat=v}I(Ja,ce);function _t(c){const v=Za();Lt(v,new Ja(v,c))}Pn.Ma="timingevent";function Uc(c,v){ce.call(this,Pn.Ma,c),this.size=v}I(Uc,ce);function zr(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},v)}function Br(){this.g=!0}Br.prototype.xa=function(){this.g=!1};function qc(c,v,E,R,H,$){c.info(function(){if(c.g)if($)for(var ae="",ze=$.split("&"),It=0;It<ze.length;It++){var Be=ze[It].split("=");if(1<Be.length){var zt=Be[0];Be=Be[1];var Dt=zt.split("_");ae=2<=Dt.length&&Dt[1]=="type"?ae+(zt+"="+Be+"&"):ae+(zt+"=redacted&")}}else ae=null;else ae=$;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+v+`
`+E+`
`+ae})}function zc(c,v,E,R,H,$,ae){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+v+`
`+E+`
`+$+" "+ae})}function Fr(c,v,E,R){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ut(c,E)+(R?" "+R:"")})}function vi(c,v){c.info(function(){return"TIMEOUT: "+v})}Br.prototype.info=function(){};function Ut(c,v){if(!c.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var R=E[c];if(!(2>R.length)){var H=R[1];if(Array.isArray(H)&&!(1>H.length)){var $=H[0];if($!="noop"&&$!="stop"&&$!="close")for(var ae=1;ae<H.length;ae++)H[ae]=""}}}}return kl(E)}catch{return v}}var Nt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zs;function eo(){}I(eo,Vl),eo.prototype.g=function(){return new XMLHttpRequest},eo.prototype.i=function(){return{}},Zs=new eo;function _i(c,v,E,R){this.j=c,this.i=v,this.l=E,this.R=R||1,this.U=new Ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ul}function Ul(){this.i=null,this.g="",this.h=!1}var Hr={},Js={};function ei(c,v,E){c.L=1,c.v=na(mt(v)),c.m=E,c.P=!0,Ki(c,null)}function Ki(c,v){c.F=Date.now(),ut(c),c.A=mt(c.v);var E=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Xi(E.i,"t",R),c.C=0,E=c.j.J,c.h=new Ul,c.g=th(c.j,E?v:null,!c.m),0<c.O&&(c.M=new Af(x(c.Y,c,c.g),c.O)),v=c.U,E=c.g,R=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Vr[0]=H.toString()),H=Vr);for(var $=0;$<H.length;$++){var ae=Hi(E,H[$],R||v.handleEvent,!1,v.h||v);if(!ae)break;v.g[ae.key]=ae}v=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),qr(),qc(c.i,c.u,c.A,c.l,c.R,c.m)}_i.prototype.ca=function(c){c=c.target;const v=this.M;v&&Un(c)==3?v.j():this.Y(c)},_i.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=Un(this.g);var v=this.g.Ba();const er=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Kc(this.g)))){this.J||Dt!=4||v==7||(v==8||0>=er?qr(3):qr(2)),to(this);var E=this.g.Z();this.X=E;t:if(Gr(this)){var R=Kc(this.g);c="";var H=R.length,$=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),An(this);var ae="";break t}this.h.i=new f.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,c+=this.h.i.decode(R[v],{stream:!($&&v==H-1)});R.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,zc(this.i,this.u,this.A,this.l,this.R,Dt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,It=this.g;if((ze=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(ze)){var Be=ze;break t}}Be=null}if(E=Be)Fr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sn(this,E);else{this.o=!1,this.s=3,_t(12),yn(this),An(this);break e}}if(this.P){E=!0;let Qt;for(;!this.J&&this.C<ae.length;)if(Qt=Qr(this,ae),Qt==Js){Dt==4&&(this.s=4,_t(14),E=!1),Fr(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Hr){this.s=4,_t(15),Fr(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else Fr(this.i,this.l,Qt,null),Sn(this,Qt);if(Gr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||ae.length!=0||this.h.h||(this.s=1,_t(16),E=!1),this.o=this.o&&E,!E)Fr(this.i,this.l,ae,"[Invalid Chunked Response]"),yn(this),An(this);else if(0<ae.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ua(zt),zt.M=!0,_t(11))}}else Fr(this.i,this.l,ae,null),Sn(this,ae);Dt==4&&yn(this),this.o&&!this.J&&(Dt==4?Zc(this.j,this):(this.o=!1,ut(this)))}else Df(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),yn(this),An(this)}}}catch{}finally{}};function Gr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Qr(c,v){var E=c.C,R=v.indexOf(`
`,E);return R==-1?Js:(E=Number(v.substring(E,R)),isNaN(E)?Hr:(R+=1,R+E>v.length?Js:(v=v.slice(R,R+E),c.C=R+E,v)))}_i.prototype.cancel=function(){this.J=!0,yn(this)};function ut(c){c.S=Date.now()+c.I,ql(c,c.I)}function ql(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=zr(x(c.ba,c),v)}function to(c){c.B&&(f.clearTimeout(c.B),c.B=null)}_i.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(vi(this.i,this.A),this.L!=2&&(qr(),_t(17)),yn(this),this.s=2,An(this)):ql(this,this.S-c)};function An(c){c.j.G==0||c.J||Zc(c.j,c)}function yn(c){to(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,Jt(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function Sn(c,v){try{var E=c.j;if(E.G!=0&&(E.g==c||Kr(E.h,c))){if(!c.K&&Kr(E.h,c)&&E.G==3){try{var R=E.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)ho(E),uo(E);else break e;Wl(E),_t(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=zr(x(E.Za,E),6e3));if(1>=Bc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ji(E,11)}else if((c.K||E.g==c)&&ho(E),!Z(v))for(H=E.Da.g.parse(v),v=0;v<H.length;v++){let Be=H[v];if(E.T=Be[0],Be=Be[1],E.G==2)if(Be[0]=="c"){E.K=Be[1],E.ia=Be[2];const zt=Be[3];zt!=null&&(E.la=zt,E.j.info("VER="+E.la));const Dt=Be[4];Dt!=null&&(E.Aa=Dt,E.j.info("SVER="+E.Aa));const er=Be[5];er!=null&&typeof er=="number"&&0<er&&(R=1.5*er,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Qt=c.g;if(Qt){const Si=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Si){var $=R.h;$.g||Si.indexOf("spdy")==-1&&Si.indexOf("quic")==-1&&Si.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&($r($,$.h),$.h=null))}if(R.D){const Jl=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Jl&&(R.ya=Jl,Qe(R.I,R.D,Jl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ae=c;if(R.qa=eh(R,R.J?R.ia:null,R.W),ae.K){jn(R.h,ae);var ze=ae,It=R.L;It&&(ze.I=It),ze.B&&(to(ze),ut(ze)),R.g=ae}else Xc(R);0<E.i.length&&co(E)}else Be[0]!="stop"&&Be[0]!="close"||Ji(E,7);else E.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Ji(E,7):Yl(E):Be[0]!="noop"&&E.l&&E.l.ta(Be),E.v=0)}}qr(4)}catch{}}var Sf=class{constructor(c,v){this.g=c,this.map=v}};function zl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Bc(c){return c.h?1:c.g?c.g.size:0}function Kr(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function $r(c,v){c.g?c.g.add(v):c.h=v}function jn(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}zl.prototype.cancel=function(){if(this.i=cn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const E of c.g.values())v=v.concat(E.D);return v}return L(c.i)}function Fc(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var v=[],E=c.length,R=0;R<E;R++)v.push(c[R]);return v}v=[],E=0;for(R in c)v[E++]=c[R];return v}function Rf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var v=[];c=c.length;for(var E=0;E<c;E++)v.push(E);return v}v=[],E=0;for(const R in c)v[E++]=R;return v}}}function ea(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var E=Rf(c),R=Fc(c),H=R.length,$=0;$<H;$++)v.call(void 0,R[$],E&&E[$],c)}var Fl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function no(c,v){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var R=c[E].indexOf("="),H=null;if(0<=R){var $=c[E].substring(0,R);H=c[E].substring(R+1)}else $=c[E];v($,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function $i(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $i){this.h=c.h,Yr(this,c.j),this.o=c.o,this.g=c.g,ta(this,c.s),this.l=c.l;var v=c.i,E=new Ei;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),io(this,E),this.m=c.m}else c&&(v=String(c).match(Fl))?(this.h=!1,Yr(this,v[1]||"",!0),this.o=Xr(v[2]||""),this.g=Xr(v[3]||"",!0),ta(this,v[4]),this.l=Xr(v[5]||"",!0),io(this,v[6]||"",!0),this.m=Xr(v[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}$i.prototype.toString=function(){var c=[],v=this.j;v&&c.push(kn(v,Hl,!0),":");var E=this.g;return(E||v=="file")&&(c.push("//"),(v=this.o)&&c.push(kn(v,Hl,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(kn(E,E.charAt(0)=="/"?Gl:Hc,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",kn(E,If)),c.join("")};function mt(c){return new $i(c)}function Yr(c,v,E){c.j=E?Xr(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function ta(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function io(c,v,E){v instanceof Ei?(c.i=v,Ql(c.i,c.h)):(E||(v=kn(v,Nf)),c.i=new Ei(v,c.h))}function Qe(c,v,E){c.i.set(v,E)}function na(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Xr(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function kn(c,v,E){return typeof c=="string"?(c=encodeURI(c).replace(v,Cf),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Hl=/[#\/\?@]/g,Hc=/[#\?:]/g,Gl=/[#\?]/g,Nf=/[#\?@]/g,If=/#/g;function Ei(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Vn(c){c.g||(c.g=new Map,c.h=0,c.i&&no(c.i,function(v,E){c.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}i=Ei.prototype,i.add=function(c,v){Vn(this),this.i=null,c=Wi(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(v),this.h+=1,this};function ro(c,v){Vn(c),v=Wi(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Yi(c,v){return Vn(c),v=Wi(c,v),c.g.has(v)}i.forEach=function(c,v){Vn(this),this.g.forEach(function(E,R){E.forEach(function(H){c.call(v,H,R,this)},this)},this)},i.na=function(){Vn(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let R=0;R<v.length;R++){const H=c[R];for(let $=0;$<H.length;$++)E.push(v[R])}return E},i.V=function(c){Vn(this);let v=[];if(typeof c=="string")Yi(this,c)&&(v=v.concat(this.g.get(Wi(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)v=v.concat(c[E])}return v},i.set=function(c,v){return Vn(this),this.i=null,c=Wi(this,c),Yi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function Xi(c,v,E){ro(c,v),0<E.length&&(c.i=null,c.g.set(Wi(c,v),L(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var R=v[E];const $=encodeURIComponent(String(R)),ae=this.V(R);for(R=0;R<ae.length;R++){var H=$;ae[R]!==""&&(H+="="+encodeURIComponent(String(ae[R]))),c.push(H)}}return this.i=c.join("&")};function Wi(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Ql(c,v){v&&!c.j&&(Vn(c),c.i=null,c.g.forEach(function(E,R){var H=R.toLowerCase();R!=H&&(ro(this,R),Xi(this,H,E))},c)),c.j=v}function Gc(c,v){const E=new Br;if(f.Image){const R=new Image;R.onload=C(Ln,E,"TestLoadImage: loaded",!0,v,R),R.onerror=C(Ln,E,"TestLoadImage: error",!1,v,R),R.onabort=C(Ln,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=C(Ln,E,"TestLoadImage: timeout",!1,v,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else v(!1)}function ia(c,v){const E=new Br,R=new AbortController,H=setTimeout(()=>{R.abort(),Ln(E,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:R.signal}).then($=>{clearTimeout(H),$.ok?Ln(E,"TestPingServer: ok",!0,v):Ln(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Ln(E,"TestPingServer: error",!1,v)})}function Ln(c,v,E,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(E)}catch{}}function ra(){this.g=new un}function bi(c,v,E){const R=E||"";try{ea(c,function(H,$){let ae=H;y(H)&&(ae=kl(H)),v.push(R+$+"="+encodeURIComponent(ae))})}catch(H){throw v.push(R+"type="+encodeURIComponent("_badmap")),H}}function Wr(c){this.l=c.Ub||null,this.j=c.eb||!1}I(Wr,Vl),Wr.prototype.g=function(){return new Zi(this.l,this.j)},Wr.prototype.i=function(c){return function(){return c}}({});function Zi(c,v){Ct.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Zi,Ct),i=Zi.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,wi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ti(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Ti(this):wi(this),this.readyState==3&&Kl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Ti(this))},i.Qa=function(c){this.g&&(this.response=c,Ti(this))},i.ga=function(){this.g&&Ti(this)};function Ti(c){c.readyState=4,c.l=null,c.j=null,c.v=null,wi(c)}i.setRequestHeader=function(c,v){this.u.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=v.next();return c.join(`\r
`)};function wi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $l(c){let v="";return oe(c,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function qt(c,v,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=$l(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Qe(c,v,E))}function Ye(c){Ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ye,Ct);var so=/^https?$/i,sa=["POST","PUT"];i=Ye.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zs.g(),this.v=this.o?Vc(this.o):Vc(Zs),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch($){Qc(this,$);return}if(c=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)E.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const $ of R.keys())E.set($,R.get($));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),H=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(sa,v,void 0))||R||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of E)this.g.setRequestHeader($,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aa(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Qc(this,$)}};function Qc(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,ao(c),xi(c)}function ao(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),xi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Ye.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?oo(this):this.bb())},i.bb=function(){oo(this)};function oo(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Un(c)!=4||c.Z()!=2)){if(c.u&&Un(c)==4)kc(c.Ea,0,c);else if(Lt(c,"readystatechange"),Un(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var R;if(R=ae===0){var H=String(c.D).match(Fl)[1]||null;!H&&f.self&&f.self.location&&(H=f.self.location.protocol.slice(0,-1)),R=!so.test(H?H.toLowerCase():"")}E=R}if(E)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var $=2<Un(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",ao(c)}}finally{xi(c)}}}}function xi(c,v){if(c.g){aa(c);const E=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||Lt(c,"ready");try{E.onreadystatechange=R}catch{}}}function aa(c){c.I&&(f.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Un(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),gi(v)}};function Kc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Df(c){const v={};c=(c.g&&2<=Un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(Z(c[R]))continue;var E=M(c[R]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=v[H]||[];v[H]=$,$.push(E)}P(v,function(R){return R.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oa(c,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||v}function lo(c){this.Aa=0,this.i=[],this.j=new Br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oa("baseRetryDelayMs",5e3,c),this.cb=oa("retryDelaySeedMs",1e4,c),this.Wa=oa("forwardChannelMaxRetries",2,c),this.wa=oa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zl(c&&c.concurrentRequestLimit),this.Da=new ra,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=lo.prototype,i.la=8,i.G=1,i.connect=function(c,v,E,R){_t(0),this.W=c,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=eh(this,null,this.W),co(this)};function Yl(c){if($c(c),c.G==3){var v=c.U++,E=mt(c.I);if(Qe(E,"SID",c.K),Qe(E,"RID",v),Qe(E,"TYPE","terminate"),la(c,E),v=new _i(c,c.j,v),v.L=2,v.v=na(mt(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=v.v,E=!0),E||(v.g=th(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ut(v)}Jc(c)}function uo(c){c.g&&(ua(c),c.g.cancel(),c.g=null)}function $c(c){uo(c),c.u&&(f.clearTimeout(c.u),c.u=null),ho(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function co(c){if(!Bl(c.h)&&!c.s){c.s=!0;var v=c.Ga;ge||k(),pe||(ge(),pe=!0),je.add(v,c),c.B=0}}function Of(c,v){return Bc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=zr(x(c.Ga,c,v),Zl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new _i(this,this.j,c);let $=this.o;if(this.S&&($?($=A($),N($,this.S)):$=this.S),this.m!==null||this.O||(H.H=$,$=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Yc(this,H,v),E=mt(this.I),Qe(E,"RID",c),Qe(E,"CVER",22),this.D&&Qe(E,"X-HTTP-Session-Id",this.D),la(this,E),$&&(this.O?v="headers="+encodeURIComponent(String($l($)))+"&"+v:this.m&&qt(E,this.m,$)),$r(this.h,H),this.Ua&&Qe(E,"TYPE","init"),this.P?(Qe(E,"$req",v),Qe(E,"SID","null"),H.T=!0,ei(H,E,null)):ei(H,E,v),this.G=2}}else this.G==3&&(c?Xl(this,c):this.i.length==0||Bl(this.h)||Xl(this))};function Xl(c,v){var E;v?E=v.l:E=c.U++;const R=mt(c.I);Qe(R,"SID",c.K),Qe(R,"RID",E),Qe(R,"AID",c.T),la(c,R),c.m&&c.o&&qt(R,c.m,c.o),E=new _i(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),v&&(c.i=v.D.concat(c.i)),v=Yc(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$r(c.h,E),ei(E,R,v)}function la(c,v){c.H&&oe(c.H,function(E,R){Qe(v,R,E)}),c.l&&ea({},function(E,R){Qe(v,R,E)})}function Yc(c,v,E){E=Math.min(c.i.length,E);var R=c.l?x(c.l.Na,c.l,c):null;e:{var H=c.i;let $=-1;for(;;){const ae=["count="+E];$==-1?0<E?($=H[0].g,ae.push("ofs="+$)):$=0:ae.push("ofs="+$);let ze=!0;for(let It=0;It<E;It++){let Be=H[It].g;const zt=H[It].map;if(Be-=$,0>Be)$=Math.max(0,H[It].g-100),ze=!1;else try{bi(zt,ae,"req"+Be+"_")}catch{R&&R(zt)}}if(ze){R=ae.join("&");break e}}}return c=c.i.splice(0,E),v.D=c,R}function Xc(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;ge||k(),pe||(ge(),pe=!0),je.add(v,c),c.v=0}}function Wl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=zr(x(c.Fa,c),Zl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Wc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=zr(x(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),uo(this),Wc(this))};function ua(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function Wc(c){c.g=new _i(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=mt(c.qa);Qe(v,"RID","rpc"),Qe(v,"SID",c.K),Qe(v,"AID",c.T),Qe(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(v,"TO",c.ja),Qe(v,"TYPE","xmlhttp"),la(c,v),c.m&&c.o&&qt(v,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=na(mt(v)),E.m=null,E.P=!0,Ki(E,c)}i.Za=function(){this.C!=null&&(this.C=null,uo(this),Wl(this),_t(19))};function ho(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Zc(c,v){var E=null;if(c.g==v){ho(c),ua(c),c.g=null;var R=2}else if(Kr(c.h,v))E=v.D,jn(c.h,v),R=1;else return;if(c.G!=0){if(v.o)if(R==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var H=c.B;R=Za(),Lt(R,new Uc(R,E)),co(c)}else Xc(c);else if(H=v.s,H==3||H==0&&0<v.X||!(R==1&&Of(c,v)||R==2&&Wl(c)))switch(E&&0<E.length&&(v=c.h,v.i=v.i.concat(E)),H){case 1:Ji(c,5);break;case 4:Ji(c,10);break;case 3:Ji(c,6);break;default:Ji(c,2)}}}function Zl(c,v){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*v}function Ji(c,v){if(c.j.info("Error code "+v),v==2){var E=x(c.fb,c),R=c.Xa;const H=!R;R=new $i(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Yr(R,"https"),na(R),H?Gc(R.toString(),E):ia(R.toString(),E)}else _t(2);c.G=0,c.l&&c.l.sa(v),Jc(c),$c(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Jc(c){if(c.G=0,c.ka=[],c.l){const v=cn(c.h);(v.length!=0||c.i.length!=0)&&(V(c.ka,v),V(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function eh(c,v,E){var R=E instanceof $i?mt(E):new $i(E);if(R.g!="")v&&(R.g=v+"."+R.g),ta(R,R.s);else{var H=f.location;R=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var $=new $i(null);R&&Yr($,R),v&&($.g=v),H&&ta($,H),E&&($.l=E),R=$}return E=c.D,v=c.ya,E&&v&&Qe(R,E,v),Qe(R,"VER",c.la),la(c,R),R}function th(c,v,E){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new Ye(new Wr({eb:E})):new Ye(c.pa),v.Ha(c.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function nh(){}i=nh.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function fo(){}fo.prototype.g=function(c,v){return new hn(c,v)};function hn(c,v){Ct.call(this),this.g=new lo(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!Z(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Z(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Ai(this)}I(hn,Ct),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Yl(this.g)},hn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=kl(c),c=E);v.i.push(new Sf(v.Ya++,c)),v.G==3&&co(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,Yl(this.g),delete this.g,hn.aa.N.call(this)};function ih(c){Lr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const E in v){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}I(ih,Lr);function rh(){Jn.call(this),this.status=1}I(rh,Jn);function Ai(c){this.g=c}I(Ai,nh),Ai.prototype.ua=function(){Lt(this.g,"a")},Ai.prototype.ta=function(c){Lt(this.g,new ih(c))},Ai.prototype.sa=function(c){Lt(this.g,new rh)},Ai.prototype.ra=function(){Lt(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,Tw=function(){return new fo},bw=function(){return Za()},Ew=Pn,gg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nt.NO_ERROR=0,Nt.TIMEOUT=8,Nt.HTTP_ERROR=6,bd=Nt,Qi.COMPLETE="complete",_w=Qi,Lc.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,Qu=Lc,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,vw=Ye}).apply(typeof ad<"u"?ad:typeof self<"u"?self:typeof window<"u"?window:{});const GE="@firebase/firestore",QE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new Gg("@firebase/firestore");function qo(){return Fa.logLevel}function de(i,...e){if(Fa.logLevel<=ke.DEBUG){const t=e.map(ry);Fa.debug(`Firestore (${Sl}): ${i}`,...t)}}function Dr(i,...e){if(Fa.logLevel<=ke.ERROR){const t=e.map(ry);Fa.error(`Firestore (${Sl}): ${i}`,...t)}}function hl(i,...e){if(Fa.logLevel<=ke.WARN){const t=e.map(ry);Fa.warn(`Firestore (${Sl}): ${i}`,...t)}}function ry(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(i="Unexpected state"){const e=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: `+i;throw Dr(e),new Error(e)}function We(i,e){i||xe()}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Pr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sn.UNAUTHENTICATED))}shutdown(){}}class kD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class VD{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Sr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Sr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string"),new ww(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new sn(e)}}class LD{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class UD{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new LD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Zn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){We(this.o===void 0);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new KE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string"),this.R=t.token,new KE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=zD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function qe(i,e){return i<e?-1:i>e?1:0}function dl(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=-62135596800,YE=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*YE);return new jt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$E)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YE}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$E;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new jt(0,0))}static max(){return new Ae(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="__name__";class Oi{constructor(e,t,s){t===void 0?t=0:t>e.length&&xe(),s===void 0?s=e.length-t:s>e.length-t&&xe(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Oi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Oi.isNumericId(e),o=Oi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vs.fromString(e.substring(4,e.length-2))}}class at extends Oi{construct(e,t,s){return new at(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new at(t)}static emptyPath(){return new at([])}}const BD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Oi{construct(e,t,s){return new Wt(e,t,s)}static isValidIdentifier(e){return BD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XE}static keyField(){return new Wt([XE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(u(),o++)}if(u(),h)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(at.fromString(e))}static fromName(e){return new Ee(at.fromString(e).popFirst(5))}static empty(){return new Ee(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new at(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=-1;function FD(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new jt(t+1,0):new jt(t,s));return new qs(o,Ee.empty(),e)}function HD(i){return new qs(i.readTime,i.key,oc)}class qs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new qs(Ae.min(),Ee.empty(),oc)}static max(){return new qs(Ae.max(),Ee.empty(),oc)}}function GD(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(i.documentKey,e.documentKey),t!==0?t:qe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==QD)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,h=new Array(u);let f=0;for(let p=0;p<u;p++){const y=p;t(e[y]).next(_=>{h[y]=_,++f,f===u&&s(h)},_=>o(_))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function $D(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Cl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}rf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=-1;function sf(i){return i==null}function Ld(i){return i===0&&1/i==-1/0}function YD(i){return typeof i=="number"&&Number.isInteger(i)&&!Ld(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="";function XD(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=WE(e)),e=WD(i.get(t),e);return WE(e)}function WD(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case Aw:t+="";break;default:t+=u}}return t}function WE(i){return i+Aw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function $s(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Sw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Xt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new JE(this.data.getIterator())}getIteratorFrom(e){return new JE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class JE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new On([])}unionWith(e){let t=new kt(Wt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new On(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Rw("Invalid base64 string: "+u):u}}(e);return new Zt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const ZD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(i){if(We(!!i),typeof i=="string"){let e=0;const t=ZD.exec(i);if(We(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Bs(i){return typeof i=="string"?Zt.fromBase64String(i):Zt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="server_timestamp",Nw="__type__",Iw="__previous_value__",Dw="__local_write_time__";function ay(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nw])===null||t===void 0?void 0:t.stringValue)===Cw}function af(i){const e=i.mapValue.fields[Iw];return ay(e)?af(e):e}function lc(i){const e=zs(i.mapValue.fields[Dw].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,t,s,o,u,h,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}const Ud="(default)";class uc{constructor(e,t){this.projectId=e,this.database=t||Ud}static empty(){return new uc("","")}get isDefaultDatabase(){return this.database===Ud}isEqual(e){return e instanceof uc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="__type__",eO="__max__",ld={mapValue:{}},Mw="__vector__",qd="value";function Fs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ay(i)?4:nO(i)?9007199254740991:tO(i)?10:11:xe()}function zi(i,e){if(i===e)return!0;const t=Fs(i);if(t!==Fs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return lc(i).isEqual(lc(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=zs(o.timestampValue),f=zs(u.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Bs(o.bytesValue).isEqual(Bs(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=bt(o.doubleValue),f=bt(u.doubleValue);return h===f?Ld(h)===Ld(f):isNaN(h)&&isNaN(f)}return!1}(i,e);case 9:return dl(i.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},f=u.mapValue.fields||{};if(ZE(h)!==ZE(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!zi(h[p],f[p])))return!1;return!0}(i,e);default:return xe()}}function cc(i,e){return(i.values||[]).find(t=>zi(t,e))!==void 0}function fl(i,e){if(i===e)return 0;const t=Fs(i),s=Fs(e);if(t!==s)return qe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(i.booleanValue,e.booleanValue);case 2:return function(u,h){const f=bt(u.integerValue||u.doubleValue),p=bt(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(i,e);case 3:return eb(i.timestampValue,e.timestampValue);case 4:return eb(lc(i),lc(e));case 5:return qe(i.stringValue,e.stringValue);case 6:return function(u,h){const f=Bs(u),p=Bs(h);return f.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const f=u.split("/"),p=h.split("/");for(let y=0;y<f.length&&y<p.length;y++){const _=qe(f[y],p[y]);if(_!==0)return _}return qe(f.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const f=qe(bt(u.latitude),bt(h.latitude));return f!==0?f:qe(bt(u.longitude),bt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return tb(i.arrayValue,e.arrayValue);case 10:return function(u,h){var f,p,y,_;const T=u.fields||{},x=h.fields||{},C=(f=T[qd])===null||f===void 0?void 0:f.arrayValue,I=(p=x[qd])===null||p===void 0?void 0:p.arrayValue,L=qe(((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0,((_=I==null?void 0:I.values)===null||_===void 0?void 0:_.length)||0);return L!==0?L:tb(C,I)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===ld.mapValue&&h===ld.mapValue)return 0;if(u===ld.mapValue)return 1;if(h===ld.mapValue)return-1;const f=u.fields||{},p=Object.keys(f),y=h.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const x=qe(p[T],_[T]);if(x!==0)return x;const C=fl(f[p[T]],y[_[T]]);if(C!==0)return C}return qe(p.length,_.length)}(i.mapValue,e.mapValue);default:throw xe()}}function eb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return qe(i,e);const t=zs(i),s=zs(e),o=qe(t.seconds,s.seconds);return o!==0?o:qe(t.nanos,s.nanos)}function tb(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=fl(t[o],s[o]);if(u)return u}return qe(t.length,s.length)}function ml(i){return yg(i)}function yg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=zs(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Bs(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Ee.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=yg(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${yg(t.fields[h])}`;return o+"}"}(i.mapValue):xe()}function Td(i){switch(Fs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(i);return e?16+Td(e):16;case 5:return 2*i.stringValue.length;case 6:return Bs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Td(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return $s(s.fields,(u,h)=>{o+=u.length+Td(h)}),o}(i.mapValue);default:throw xe()}}function nb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vg(i){return!!i&&"integerValue"in i}function oy(i){return!!i&&"arrayValue"in i}function ib(i){return!!i&&"nullValue"in i}function rb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wd(i){return!!i&&"mapValue"in i}function tO(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ow])===null||t===void 0?void 0:t.stringValue)===Mw}function Zu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return $s(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Zu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function nO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===eO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!wd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zu(t)}setAll(e){let t=Wt.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=Zu(h):o.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());wd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];wd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){$s(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Tn(Zu(this.value))}}function Pw(i){const e=[];return $s(i.fields,(t,s)=>{const o=new Wt([t]);if(wd(s)){const u=Pw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,s,o,u,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new an(e,0,Ae.min(),Ae.min(),Ae.min(),Tn.empty(),0)}static newFoundDocument(e,t,s,o){return new an(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new an(e,2,t,Ae.min(),Ae.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,Ae.min(),Ae.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t){this.position=e,this.inclusive=t}}function sb(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(h.referenceValue),t.key):s=fl(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function ab(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!zi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t="asc"){this.field=e,this.dir=t}}function iO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{}class Rt extends jw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new sO(e,t,s):t==="array-contains"?new lO(e,s):t==="in"?new uO(e,s):t==="not-in"?new cO(e,s):t==="array-contains-any"?new hO(e,s):new Rt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new aO(e,s):new oO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(fl(t,this.value)):t!==null&&Fs(this.value)===Fs(t)&&this.matchesComparison(fl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends jw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new fi(e,t)}matches(e){return kw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function kw(i){return i.op==="and"}function Vw(i){return rO(i)&&kw(i)}function rO(i){for(const e of i.filters)if(e instanceof fi)return!1;return!0}function _g(i){if(i instanceof Rt)return i.field.canonicalString()+i.op.toString()+ml(i.value);if(Vw(i))return i.filters.map(e=>_g(e)).join(",");{const e=i.filters.map(t=>_g(t)).join(",");return`${i.op}(${e})`}}function Lw(i,e){return i instanceof Rt?function(s,o){return o instanceof Rt&&s.op===o.op&&s.field.isEqual(o.field)&&zi(s.value,o.value)}(i,e):i instanceof fi?function(s,o){return o instanceof fi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,f)=>u&&Lw(h,o.filters[f]),!0):!1}(i,e):void xe()}function Uw(i){return i instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${ml(t.value)}`}(i):i instanceof fi?function(t){return t.op.toString()+" {"+t.getFilters().map(Uw).join(" ,")+"}"}(i):"Filter"}class sO extends Rt{constructor(e,t,s){super(e,t,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class aO extends Rt{constructor(e,t){super(e,"in",t),this.keys=qw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oO extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=qw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qw(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Ee.fromName(s.referenceValue))}class lO extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return oy(t)&&cc(t.arrayValue,this.value)}}class uO extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&cc(this.value.arrayValue,t)}}class cO extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!cc(this.value.arrayValue,t)}}class hO extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!oy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>cc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t=null,s=[],o=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=f,this.le=null}}function ob(i,e=null,t=[],s=[],o=null,u=null,h=null){return new dO(i,e,t,s,o,u,h)}function ly(i){const e=Re(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>_g(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),sf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ml(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ml(s)).join(",")),e.le=t}return e.le}function uy(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!iO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Lw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ab(i.startAt,e.startAt)&&ab(i.endAt,e.endAt)}function Eg(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t=null,s=[],o=[],u=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function fO(i,e,t,s,o,u,h,f){return new Nl(i,e,t,s,o,u,h,f)}function cy(i){return new Nl(i)}function lb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function zw(i){return i.collectionGroup!==null}function Ju(i){const e=Re(i);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new kt(Wt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new hc(u,s))}),t.has(Wt.keyField().canonicalString())||e.he.push(new hc(Wt.keyField(),s))}return e.he}function Ui(i){const e=Re(i);return e.Pe||(e.Pe=mO(e,Ju(i))),e.Pe}function mO(i,e){if(i.limitType==="F")return ob(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new hc(o.field,u)});const t=i.endAt?new zd(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new zd(i.startAt.position,i.startAt.inclusive):null;return ob(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function bg(i,e){const t=i.filters.concat([e]);return new Nl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Tg(i,e,t){return new Nl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function of(i,e){return uy(Ui(i),Ui(e))&&i.limitType===e.limitType}function Bw(i){return`${ly(Ui(i))}|lt:${i.limitType}`}function zo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Uw(o)).join(", ")}]`),sf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>ml(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>ml(o)).join(",")),`Target(${s})`}(Ui(i))}; limitType=${i.limitType})`}function lf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Ju(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,f,p){const y=sb(h,f,p);return h.inclusive?y<=0:y<0}(s.startAt,Ju(s),o)||s.endAt&&!function(h,f,p){const y=sb(h,f,p);return h.inclusive?y>=0:y>0}(s.endAt,Ju(s),o))}(i,e)}function pO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Fw(i){return(e,t)=>{let s=!1;for(const o of Ju(i)){const u=gO(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function gO(i,e,t){const s=i.field.isKeyField()?Ee.comparator(e.key,t.key):function(u,h,f){const p=h.data.field(u),y=f.data.field(u);return p!==null&&y!==null?fl(p,y):xe()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Sw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new dt(Ee.comparator);function Or(){return yO}const Hw=new dt(Ee.comparator);function Ku(...i){let e=Hw;for(const t of i)e=e.insert(t.key,t);return e}function Gw(i){let e=Hw;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Na(){return ec()}function Qw(){return ec()}function ec(){return new Qa(i=>i.toString(),(i,e)=>i.isEqual(e))}const vO=new dt(Ee.comparator),_O=new kt(Ee.comparator);function Ve(...i){let e=_O;for(const t of i)e=e.add(t);return e}const EO=new kt(qe);function bO(){return EO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ld(e)?"-0":e}}function Kw(i){return{integerValue:""+i}}function TO(i,e){return YD(e)?Kw(e):hy(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function wO(i,e,t){return i instanceof dc?function(o,u){const h={fields:{[Nw]:{stringValue:Cw},[Dw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ay(u)&&(u=af(u)),u&&(h.fields[Iw]=u),{mapValue:h}}(t,e):i instanceof fc?Yw(i,e):i instanceof mc?Xw(i,e):function(o,u){const h=$w(o,u),f=ub(h)+ub(o.Ie);return vg(h)&&vg(o.Ie)?Kw(f):hy(o.serializer,f)}(i,e)}function xO(i,e,t){return i instanceof fc?Yw(i,e):i instanceof mc?Xw(i,e):t}function $w(i,e){return i instanceof Bd?function(s){return vg(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class dc extends uf{}class fc extends uf{constructor(e){super(),this.elements=e}}function Yw(i,e){const t=Ww(e);for(const s of i.elements)t.some(o=>zi(o,s))||t.push(s);return{arrayValue:{values:t}}}class mc extends uf{constructor(e){super(),this.elements=e}}function Xw(i,e){let t=Ww(e);for(const s of i.elements)t=t.filter(o=>!zi(o,s));return{arrayValue:{values:t}}}class Bd extends uf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ub(i){return bt(i.integerValue||i.doubleValue)}function Ww(i){return oy(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t){this.field=e,this.transform=t}}function SO(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof fc&&o instanceof fc||s instanceof mc&&o instanceof mc?dl(s.elements,o.elements,zi):s instanceof Bd&&o instanceof Bd?zi(s.Ie,o.Ie):s instanceof dc&&o instanceof dc}(i.transform,e.transform)}class RO{constructor(e,t){this.version=e,this.transformResults=t}}class ci{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class cf{}function Zw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new dy(i.key,ci.none()):new Nc(i.key,i.data,ci.none());{const t=i.data,s=Tn.empty();let o=new kt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ys(i.key,s,new On(o.toArray()),ci.none())}}function CO(i,e,t){i instanceof Nc?function(o,u,h){const f=o.value.clone(),p=hb(o.fieldTransforms,u,h.transformResults);f.setAll(p),u.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(i,e,t):i instanceof Ys?function(o,u,h){if(!xd(o.precondition,u))return void u.convertToUnknownDocument(h.version);const f=hb(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Jw(o)),p.setAll(f),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function tc(i,e,t,s){return i instanceof Nc?function(u,h,f,p){if(!xd(u.precondition,h))return f;const y=u.value.clone(),_=db(u.fieldTransforms,p,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(i,e,t,s):i instanceof Ys?function(u,h,f,p){if(!xd(u.precondition,h))return f;const y=db(u.fieldTransforms,p,h),_=h.data;return _.setAll(Jw(u)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,t,s):function(u,h,f){return xd(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(i,e,t)}function NO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=$w(s.transform,o||null);u!=null&&(t===null&&(t=Tn.empty()),t.set(s.field,u))}return t||null}function cb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&dl(s,o,(u,h)=>SO(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Nc extends cf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ys extends cf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Jw(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function hb(i,e,t){const s=new Map;We(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,f=e.data.field(u.field);s.set(u.field,xO(h,f,t[o]))}return s}function db(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,wO(u,h,e))}return s}class dy extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IO extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&CO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=tc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=tc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Qw();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=t.has(o.key)?null:f;const p=Zw(h,f);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,(t,s)=>cb(t,s))&&dl(this.baseMutations,e.baseMutations,(t,s)=>cb(t,s))}}class fy{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){We(e.mutations.length===s.length);let o=function(){return vO}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new fy(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,He;function PO(i){switch(i){case ee.OK:return xe();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return xe()}}function ex(i){if(i===void 0)return Dr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case St.OK:return ee.OK;case St.CANCELLED:return ee.CANCELLED;case St.UNKNOWN:return ee.UNKNOWN;case St.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case St.INTERNAL:return ee.INTERNAL;case St.UNAVAILABLE:return ee.UNAVAILABLE;case St.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case St.NOT_FOUND:return ee.NOT_FOUND;case St.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case St.ABORTED:return ee.ABORTED;case St.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case St.DATA_LOSS:return ee.DATA_LOSS;default:return xe()}}(He=St||(St={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new Vs([4294967295,4294967295],0);function fb(i){const e=jO().encode(i),t=new yw;return t.update(e),new Uint8Array(t.digest())}function mb(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Vs([t,s],0),new Vs([o,u],0)]}class my{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new $u(`Invalid padding: ${t}`);if(s<0)throw new $u(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new $u(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new $u(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Vs.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(Vs.fromNumber(s)));return o.compare(kO)===1&&(o=new Vs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=fb(e),[s,o]=mb(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new my(u,o,t);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.Ee===0)return;const t=fb(e),[s,o]=mb(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class $u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new hf(Ae.min(),o,new dt(qe),Or(),Ve())}}class Ic{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ic(s,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class tx{constructor(e,t){this.targetId=e,this.ge=t}}class nx{constructor(e,t,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class pb{constructor(){this.pe=0,this.ye=gb(),this.we=Zt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ve(),t=Ve(),s=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:xe()}}),new Ic(this.we,this.be,e,t,s)}Me(){this.Se=!1,this.ye=gb()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,We(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class VO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Or(),this.$e=ud(),this.Ke=ud(),this.Ue=new dt(qe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(Eg(u))if(s===0){const h=new Ee(u.path);this.ze(t,h,an.newNoDocument(h,Ae.min()))}else We(s===1);else{const h=this.et(t);if(h!==s){const f=this.tt(e),p=f?this.nt(f,e,h):1;if(p!==0){this.Ye(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,f;try{h=Bs(s).toUint8Array()}catch(p){if(p instanceof Rw)return hl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new my(h,o,u)}catch(p){return hl(p instanceof $u?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const f=this.Xe(h);if(f){if(u.current&&Eg(f.target)){const p=new Ee(f.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,an.newNoDocument(p,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=Ve();this.Ke.forEach((u,h)=>{let f=!0;h.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new hf(e,t,this.Ue,this.Qe,s);return this.Qe=Or(),this.$e=ud(),this.Ke=ud(),this.Ue=new dt(qe),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new pb,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new kt(qe),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new kt(qe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new pb),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ud(){return new dt(Ee.comparator)}function gb(){return new dt(Ee.comparator)}const LO={asc:"ASCENDING",desc:"DESCENDING"},UO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qO={and:"AND",or:"OR"};class zO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wg(i,e){return i.useProto3Json||sf(e)?e:{value:e}}function Fd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ix(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function BO(i,e){return Fd(i,e.toTimestamp())}function qi(i){return We(!!i),Ae.fromTimestamp(function(t){const s=zs(t);return new jt(s.seconds,s.nanos)}(i))}function py(i,e){return xg(i,e).canonicalString()}function xg(i,e){const t=function(o){return new at(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function rx(i){const e=at.fromString(i);return We(ux(e)),e}function Ag(i,e){return py(i.databaseId,e.path)}function Up(i,e){const t=rx(e);if(t.get(1)!==i.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ee(ax(t))}function sx(i,e){return py(i.databaseId,e)}function FO(i){const e=rx(i);return e.length===4?at.emptyPath():ax(e)}function Sg(i){return new at(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ax(i){return We(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function yb(i,e,t){return{name:Ag(i,e),fields:t.value.mapValue.fields}}function HO(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,_){return y.useProto3Json?(We(_===void 0||typeof _=="string"),Zt.fromBase64String(_||"")):(We(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Zt.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(y){const _=y.code===void 0?ee.UNKNOWN:ex(y.code);return new fe(_,y.message||"")}(h);t=new nx(s,o,u,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Up(i,s.document.name),u=qi(s.document.updateTime),h=s.document.createTime?qi(s.document.createTime):Ae.min(),f=new Tn({mapValue:{fields:s.document.fields}}),p=an.newFoundDocument(o,u,h,f),y=s.targetIds||[],_=s.removedTargetIds||[];t=new Ad(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Up(i,s.document),u=s.readTime?qi(s.readTime):Ae.min(),h=an.newNoDocument(o,u),f=s.removedTargetIds||[];t=new Ad([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Up(i,s.document),u=s.removedTargetIds||[];t=new Ad([],u,o,null)}else{if(!("filter"in e))return xe();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new MO(o,u),f=s.targetId;t=new tx(f,h)}}return t}function GO(i,e){let t;if(e instanceof Nc)t={update:yb(i,e.key,e.value)};else if(e instanceof dy)t={delete:Ag(i,e.key)};else if(e instanceof Ys)t={update:yb(i,e.key,e.data),updateMask:e2(e.fieldMask)};else{if(!(e instanceof IO))return xe();t={verify:Ag(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const f=h.transform;if(f instanceof dc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof fc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof mc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Bd)return{fieldPath:h.field.canonicalString(),increment:f.Ie};throw xe()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:BO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe()}(i,e.precondition)),t}function QO(i,e){return i&&i.length>0?(We(e!==void 0),i.map(t=>function(o,u){let h=o.updateTime?qi(o.updateTime):qi(u);return h.isEqual(Ae.min())&&(h=qi(u)),new RO(h,o.transformResults||[])}(t,e))):[]}function KO(i,e){return{documents:[sx(i,e.path)]}}function $O(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=sx(i,o);const u=function(y){if(y.length!==0)return lx(fi.create(y,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(_=>function(x){return{field:Bo(x.field),direction:WO(x.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=wg(i,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function YO(i){let e=FO(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){We(s===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(T){const x=ox(T);return x instanceof fi&&Vw(x)?x.getFilters():[x]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(x=>function(I){return new hc(Fo(I.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(x))}(t.orderBy));let f=null;t.limit&&(f=function(T){let x;return x=typeof T=="object"?T.value:T,sf(x)?null:x}(t.limit));let p=null;t.startAt&&(p=function(T){const x=!!T.before,C=T.values||[];return new zd(C,x)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const x=!T.before,C=T.values||[];return new zd(C,x)}(t.endAt)),fO(e,o,h,u,f,"F",p,y)}function XO(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ox(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Fo(t.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Fo(t.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fo(t.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Fo(t.unaryFilter.field);return Rt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(i):i.fieldFilter!==void 0?function(t){return Rt.create(Fo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return fi.create(t.compositeFilter.filters.map(s=>ox(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe()}}(t.compositeFilter.op))}(i):xe()}function WO(i){return LO[i]}function ZO(i){return UO[i]}function JO(i){return qO[i]}function Bo(i){return{fieldPath:i.canonicalString()}}function Fo(i){return Wt.fromServerFormat(i.fieldPath)}function lx(i){return i instanceof Rt?function(t){if(t.op==="=="){if(rb(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NAN"}};if(ib(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rb(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NAN"}};if(ib(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(t.field),op:ZO(t.op),value:t.value}}}(i):i instanceof fi?function(t){const s=t.getFilters().map(o=>lx(o));return s.length===1?s[0]:{compositeFilter:{op:JO(t.op),filters:s}}}(i):xe()}function e2(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ux(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t,s,o,u=Ae.min(),h=Ae.min(),f=Zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.Tt=e}}function n2(i){const e=YO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.Tn=new r2}addToCollectionParentIndex(e,t){return this.Tn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(qs.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class r2{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new kt(at.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cx=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(cx,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new pl(0)}static Un(){return new pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="LruGarbageCollector",s2=1048576;function Eb([i,e],[t,s]){const o=qe(i,t);return o===0?qe(e,s):o}class a2{constructor(e){this.Hn=e,this.buffer=new kt(Eb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Eb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class o2{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(_b,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Cl(t)?de(_b,"Ignoring IndexedDB error during garbage collection: ",t):await Rl(t)}await this.er(3e5)})}}class l2{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(rf.ae);const s=new a2(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(vb)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vb):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,f,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,f=Date.now(),this.removeTargets(e,s,t))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(y=Date.now(),qo()<=ke.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${u} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function u2(i,e){return new l2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.changes=new Qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&tc(s.mutation,o,On.empty(),jt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ve()){const o=Na();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Ku();return u.forEach((f,p)=>{h=h.insert(f,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Na();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ve()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,s,o){let u=Or();const h=ec(),f=function(){return ec()}();return t.forEach((p,y)=>{const _=s.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Ys)?u=u.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),tc(_.mutation,y,_.mutation.getFieldMask(),jt.now())):h.set(y.key,On.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,_)=>h.set(y,_)),t.forEach((y,_)=>{var T;return f.set(y,new h2(_,(T=h.get(y))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,t){const s=ec();let o=new dt((h,f)=>h-f),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=s.get(p)||On.empty();_=f.applyToLocalView(y,_),s.set(p,_);const T=(o.get(f.batchId)||Ve()).add(p);o=o.insert(f.batchId,T)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,_=p.value,T=Qw();_.forEach(x=>{if(!u.has(x)){const C=Zw(t.get(x),s.get(x));C!==null&&T.set(x,C),u=u.add(x)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return te.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return Ee.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(Na());let f=oc,p=u;return h.next(y=>te.forEach(y,(_,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),u.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next(x=>{p=p.insert(_,x)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Ve())).next(_=>({batchId:f,changes:Gw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(s=>{let o=Ku();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Ku();return this.indexManager.getCollectionParents(e,u).next(f=>te.forEach(f,p=>{const y=function(T,x){return new Nl(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(_=>{_.forEach((T,x)=>{h=h.insert(T,x)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,an.newInvalidDocument(_)))});let f=Ku();return h.forEach((p,y)=>{const _=u.get(p);_!==void 0&&tc(_.mutation,y,On.empty(),jt.now()),lf(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return te.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:n2(o.bundledQuery),readTime:qi(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.overlays=new dt(Ee.comparator),this.Rr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Na();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=Na(),u=t.length+1,h=new Ee(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new dt((y,_)=>y-_);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let _=u.get(y.largestBatchId);_===null&&(_=Na(),u=u.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=Na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>f.set(y,_)),!(f.size()>=o)););return te.resolve(f)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new OO(t,s));let u=this.Rr.get(t);u===void 0&&(u=Ve(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this.Vr=new kt(Gt.mr),this.gr=new kt(Gt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Gt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Gt(e,t))}br(e,t){e.forEach(s=>this.removeReference(s,t))}Sr(e){const t=new Ee(new at([])),s=new Gt(t,e),o=new Gt(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ee(new at([])),s=new Gt(t,e),o=new Gt(t,e+1);let u=Ve();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Gt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ee.comparator(e.key,t.key)||qe(e.Cr,t.Cr)}static pr(e,t){return qe(e.Cr,t.Cr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new kt(Gt.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new DO(u,t,s,o);this.mutationQueue.push(h);for(const f of o)this.Mr=this.Mr.add(new Gt(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?sy:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Gt(t,0),o=new Gt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const f=this.Or(h.Cr);u.push(f)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kt(qe);return t.forEach(o=>{const u=new Gt(o,0),h=new Gt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],f=>{s=s.add(f.Cr)})}),te.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const h=new Gt(new Ee(u),0);let f=new kt(qe);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.Cr)),!0)},h),te.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){We(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return te.forEach(t.mutations,o=>{const u=new Gt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Gt(t,0),o=this.Mr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.kr=e,this.docs=function(){return new dt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let s=Or();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Or();const h=t.path,f=new Ee(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||GD(HD(_),s)<=0||(o.has(_.key)||lf(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){xe()}qr(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new v2(this)}getSize(e){return te.resolve(this.size)}}class v2 extends c2{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.persistence=e,this.Qr=new Qa(t=>ly(t),uy),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Kr=new gy,this.targetCount=0,this.Ur=pl.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),te.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new pl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.zn(t),te.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.Kr.br(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new rf(0),this.zr=!1,this.zr=!0,this.jr=new p2,this.referenceDelegate=e(this),this.Hr=new _2(this),this.indexManager=new i2,this.remoteDocumentCache=function(o){return new y2(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new t2(t),this.Yr=new f2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new m2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new g2(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const o=new E2(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return te.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class E2 extends KD{constructor(e){super(),this.currentSequenceNumber=e}}class yy{constructor(e){this.persistence=e,this.ti=new gy,this.ni=null}static ri(e){return new yy(e)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),te.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,s=>{const o=Ee.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,Ae.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return te.or([()=>te.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Hd{constructor(e,t){this.persistence=e,this.oi=new Qa(s=>XD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=u2(this,t)}static ri(e,t){return new Hd(e,t)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return te.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(f=>{f||(s++,u.removeEntry(h,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Td(e.data.value)),t}ar(e,t,s){return te.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Ve(),o=Ve();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vy(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return t1()?8:$D(on())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new b2;return this._s(e,t,h).next(f=>{if(u.result=f,this.Xi)return this.us(e,t,h,f.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(qo()<=ke.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(qo()<=ke.DEBUG&&de("QueryEngine","Query:",zo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(qo()<=ke.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(t))):te.resolve())}rs(e,t){if(lb(t))return te.resolve(null);let s=Ui(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Tg(t,null,"F"),s=Ui(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ve(...u);return this.ns.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(t,f);return this.ls(t,y,h,p.readTime)?this.rs(e,Tg(t,null,"F")):this.hs(e,y,t,p)}))})))}ss(e,t,s,o){return lb(t)||o.isEqual(Ae.min())?te.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?te.resolve(null):(qo()<=ke.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zo(t)),this.hs(e,h,t,FD(o,oc)).next(f=>f))})}cs(e,t){let s=new kt(Fw(e));return t.forEach((o,u)=>{lf(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return qo()<=ke.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",zo(t)),this.ns.getDocumentsMatchingQuery(e,t,qs.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="LocalStore",w2=3e8;class x2{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new dt(qe),this.Is=new Qa(u=>ly(u),uy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function A2(i,e,t,s){return new x2(i,e,t,s)}async function dx(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],f=[];let p=Ve();for(const y of o){h.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of u){f.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:h,addedBatchIds:f}))})})}function S2(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,y,_){const T=y.batch,x=T.keys();let C=te.resolve();return x.forEach(I=>{C=C.next(()=>_.getEntry(p,I)).next(L=>{const V=y.docVersions.get(I);We(V!==null),L.version.compareTo(V)<0&&(T.applyToRemoteDocument(L,y),L.isValidDocument()&&(L.setReadTime(y.commitVersion),_.addEntry(L)))})}),C.next(()=>f.mutationQueue.removeMutationBatch(p,T))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let p=Ve();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function fx(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function R2(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((_,T)=>{const x=o.get(T);if(!x)return;f.push(t.Hr.removeMatchingKeys(u,_.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(u,_.addedDocuments,T)));let C=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(Zt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,s)),o=o.insert(T,C),function(L,V,Q){return L.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=w2?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(x,C,_)&&f.push(t.Hr.updateTargetData(u,C))});let p=Or(),y=Ve();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),f.push(C2(u,h,e.documentUpdates).next(_=>{p=_.Vs,y=_.fs})),!s.isEqual(Ae.min())){const _=t.Hr.getLastRemoteSnapshotVersion(u).next(T=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));f.push(_)}return te.waitFor(f).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(t.Ts=o,u))}function C2(i,e,t){let s=Ve(),o=Ve();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=Or();return t.forEach((f,p)=>{const y=u.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):de(_y,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function N2(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=sy),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function I2(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new Ms(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Rg(i,e,t){const s=Re(i),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Cl(h))throw h;de(_y,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function bb(i,e,t){const s=Re(i);let o=Ae.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,_){const T=Re(p),x=T.Is.get(_);return x!==void 0?te.resolve(T.Ts.get(x)):T.Hr.getTargetData(y,_)}(s,h,Ui(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,f.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?u:Ve())).next(f=>(D2(s,pO(e),f),{documents:f,gs:u})))}function D2(i,e,t){let s=i.Es.get(e)||Ae.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class Tb{constructor(){this.activeTargetIds=bO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O2{constructor(){this.ho=new Tb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Tb,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="ConnectivityMonitor";class xb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(wb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(wb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd=null;function Cg(){return cd===null?cd=function(){return 268435456+Math.round(2147483648*Math.random())}():cd++,"0x"+cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="RestConnection",P2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Ud?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,t,s,o,u){const h=Cg(),f=this.So(e,t.toUriEncodedString());de(qp,`Sending RPC '${e}' ${h}:`,f,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,f,p,s).then(y=>(de(qp,`Received RPC '${e}' ${h}: `,y),y),y=>{throw hl(qp,`RPC '${e}' ${h} failed with error: `,y,"url: ",f,"request:",s),y})}Co(e,t,s,o,u,h){return this.bo(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,t){const s=P2[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class V2 extends j2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=Cg();return new Promise((h,f)=>{const p=new vw;p.setWithCredentials(!0),p.listenOnce(_w.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case bd.NO_ERROR:const _=p.getResponseJson();de(nn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case bd.TIMEOUT:de(nn,`RPC '${e}' ${u} timed out`),f(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case bd.HTTP_ERROR:const T=p.getStatus();if(de(nn,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const C=x==null?void 0:x.error;if(C&&C.status&&C.message){const I=function(V){const Q=V.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Q)>=0?Q:ee.UNKNOWN}(C.status);f(new fe(I,C.message))}else f(new fe(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{de(nn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);de(nn,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",y,s,15)})}Wo(e,t,s){const o=Cg(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Tw(),f=bw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");de(nn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=h.createWebChannel(_,p);let x=!1,C=!1;const I=new k2({Fo:V=>{C?de(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(x||(de(nn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),x=!0),de(nn,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},Mo:()=>T.close()}),L=(V,Q,Z)=>{V.listen(Q,Y=>{try{Z(Y)}catch(ne){setTimeout(()=>{throw ne},0)}})};return L(T,Qu.EventType.OPEN,()=>{C||(de(nn,`RPC '${e}' stream ${o} transport opened.`),I.Qo())}),L(T,Qu.EventType.CLOSE,()=>{C||(C=!0,de(nn,`RPC '${e}' stream ${o} transport closed`),I.Ko())}),L(T,Qu.EventType.ERROR,V=>{C||(C=!0,hl(nn,`RPC '${e}' stream ${o} transport errored:`,V),I.Ko(new fe(ee.UNAVAILABLE,"The operation could not be completed")))}),L(T,Qu.EventType.MESSAGE,V=>{var Q;if(!C){const Z=V.data[0];We(!!Z);const Y=Z,ne=(Y==null?void 0:Y.error)||((Q=Y[0])===null||Q===void 0?void 0:Q.error);if(ne){de(nn,`RPC '${e}' stream ${o} received error:`,ne);const re=ne.status;let oe=function(w){const N=St[w];if(N!==void 0)return ex(N)}(re),P=ne.message;oe===void 0&&(oe=ee.INTERNAL,P="Unknown error status: "+re+" with message "+ne.message),C=!0,I.Ko(new fe(oe,P)),T.close()}else de(nn,`RPC '${e}' stream ${o} received:`,Z),I.Uo(Z)}}),L(f,Ew.STAT_EVENT,V=>{V.stat===gg.PROXY?de(nn,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===gg.NOPROXY&&de(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(i){return new zO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="PersistentStream";class px{constructor(e,t,s,o,u,h,f,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new mx(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new fe(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(Ab,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(de(Ab,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L2 extends px{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=HO(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?qi(h.readTime):Ae.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Sg(this.serializer),t.addTarget=function(u,h){let f;const p=h.target;if(f=Eg(p)?{documents:KO(u,p)}:{query:$O(u,p).ht},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=ix(u,h.resumeToken);const y=wg(u,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ae.min())>0){f.readTime=Fd(u,h.snapshotVersion.toTimestamp());const y=wg(u,h.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const s=XO(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Sg(this.serializer),t.removeTarget=e,this.I_(t)}}class U2 extends px{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=QO(e.writeResults,e.commitTime),s=qi(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Sg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>GO(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{}class z2 extends q2{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.bo(e,xg(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ee.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.Co(e,xg(t,s),o,h,f,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(ee.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class B2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Dr(t),this.N_=!1):de("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="RemoteStore";class F2{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{Ka(this)&&(de(Ha,"Restarting streams for network reachability change."),await async function(p){const y=Re(p);y.W_.add(4),await Dc(y),y.j_.set("Unknown"),y.W_.delete(4),await ff(y)}(this))})}),this.j_=new B2(s,o)}}async function ff(i){if(Ka(i))for(const e of i.G_)await e(!0)}async function Dc(i){for(const e of i.G_)await e(!1)}function gx(i,e){const t=Re(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),wy(t)?Ty(t):Il(t).c_()&&by(t,e))}function Ey(i,e){const t=Re(i),s=Il(t);t.U_.delete(e),s.c_()&&yx(t,e),t.U_.size===0&&(s.c_()?s.P_():Ka(t)&&t.j_.set("Unknown"))}function by(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Il(i).y_(e)}function yx(i,e){i.H_.Ne(e),Il(i).w_(e)}function Ty(i){i.H_=new VO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Il(i).start(),i.j_.B_()}function wy(i){return Ka(i)&&!Il(i).u_()&&i.U_.size>0}function Ka(i){return Re(i).W_.size===0}function vx(i){i.H_=void 0}async function H2(i){i.j_.set("Online")}async function G2(i){i.U_.forEach((e,t)=>{by(i,e)})}async function Q2(i,e){vx(i),wy(i)?(i.j_.q_(e),Ty(i)):i.j_.set("Unknown")}async function K2(i,e,t){if(i.j_.set("Online"),e instanceof nx&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const f of u.targetIds)o.U_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.U_.delete(f),o.H_.removeTarget(f))}(i,e)}catch(s){de(Ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Gd(i,s)}else if(e instanceof Ad?i.H_.We(e):e instanceof tx?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Ae.min()))try{const s=await fx(i.localStore);t.compareTo(s)>=0&&await function(u,h){const f=u.H_.ot(h);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.U_.get(y);_&&u.U_.set(y,_.withResumeToken(p.resumeToken,h))}}),f.targetMismatches.forEach((p,y)=>{const _=u.U_.get(p);if(!_)return;u.U_.set(p,_.withResumeToken(Zt.EMPTY_BYTE_STRING,_.snapshotVersion)),yx(u,p);const T=new Ms(_.target,p,y,_.sequenceNumber);by(u,T)}),u.remoteSyncer.applyRemoteEvent(f)}(i,t)}catch(s){de(Ha,"Failed to raise snapshot:",s),await Gd(i,s)}}async function Gd(i,e,t){if(!Cl(e))throw e;i.W_.add(1),await Dc(i),i.j_.set("Offline"),t||(t=()=>fx(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{de(Ha,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await ff(i)})}function _x(i,e){return e().catch(t=>Gd(i,t,e))}async function mf(i){const e=Re(i),t=Hs(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:sy;for(;$2(e);)try{const o=await N2(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,Y2(e,o)}catch(o){await Gd(e,o)}Ex(e)&&bx(e)}function $2(i){return Ka(i)&&i.K_.length<10}function Y2(i,e){i.K_.push(e);const t=Hs(i);t.c_()&&t.b_&&t.S_(e.mutations)}function Ex(i){return Ka(i)&&!Hs(i).u_()&&i.K_.length>0}function bx(i){Hs(i).start()}async function X2(i){Hs(i).C_()}async function W2(i){const e=Hs(i);for(const t of i.K_)e.S_(t.mutations)}async function Z2(i,e,t){const s=i.K_.shift(),o=fy.from(s,e,t);await _x(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await mf(i)}async function J2(i,e){e&&Hs(i).b_&&await async function(s,o){if(function(h){return PO(h)&&h!==ee.ABORTED}(o.code)){const u=s.K_.shift();Hs(s).h_(),await _x(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await mf(s)}}(i,e),Ex(i)&&bx(i)}async function Sb(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),de(Ha,"RemoteStore received new credentials");const s=Ka(t);t.W_.add(3),await Dc(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await ff(t)}async function eM(i,e){const t=Re(i);e?(t.W_.delete(2),await ff(t)):e||(t.W_.add(2),await Dc(t),t.j_.set("Unknown"))}function Il(i){return i.J_||(i.J_=function(t,s,o){const u=Re(t);return u.M_(),new L2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:H2.bind(null,i),No:G2.bind(null,i),Lo:Q2.bind(null,i),p_:K2.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),wy(i)?Ty(i):i.j_.set("Unknown")):(await i.J_.stop(),vx(i))})),i.J_}function Hs(i){return i.Y_||(i.Y_=function(t,s,o){const u=Re(t);return u.M_(),new U2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:X2.bind(null,i),Lo:J2.bind(null,i),D_:W2.bind(null,i),v_:Z2.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await mf(i)):(await i.Y_.stop(),i.K_.length>0&&(de(Ha,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,f=new xy(e,t,h,o,u);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ay(i,e){if(Dr("AsyncQueue",`${e}: ${i}`),Cl(i))return new fe(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ee.comparator(t.key,s.key):(t,s)=>Ee.comparator(t.key,s.key),this.keyedMap=Ku(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.Z_=new dt(Ee.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):xe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class gl{constructor(e,t,s,o,u,h,f,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new gl(e,t,Yo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class nM{constructor(){this.queries=Cb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=Cb(),u.forEach((h,f)=>{for(const p of f.ta)p.onError(s)})})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function Cb(){return new Qa(i=>Bw(i),of)}async function Tx(i,e){const t=Re(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new tM,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Ay(h,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&Sy(t)}async function wx(i,e){const t=Re(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function iM(i,e){const t=Re(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const f of h.ta)f.oa(o)&&(s=!0);h.ea=o}}s&&Sy(t)}function rM(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function Sy(i){i.ia.forEach(e=>{e.next()})}var Ng,Nb;(Nb=Ng||(Ng={}))._a="default",Nb.Cache="cache";class xx{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new gl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ng.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.key=e}}class Sx{constructor(e){this.key=e}}class sM{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=Fw(e),this.wa=new Yo(this.ya)}get ba(){return this.fa}Sa(e,t){const s=t?t.Da:new Rb,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const x=o.get(_),C=lf(this.query,T)?T:null,I=!!x&&this.mutatedKeys.has(x.key),L=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let V=!1;x&&C?x.data.isEqual(C.data)?I!==L&&(s.track({type:3,doc:C}),V=!0):this.va(x,C)||(s.track({type:2,doc:C}),V=!0,(p&&this.ya(C,p)>0||y&&this.ya(C,y)<0)&&(f=!0)):!x&&C?(s.track({type:0,doc:C}),V=!0):x&&!C&&(s.track({type:1,doc:x}),V=!0,(p||y)&&(f=!0)),V&&(C?(h=h.add(C),u=L?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{wa:h,Da:s,ls:f,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((_,T)=>function(C,I){const L=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return L(C)-L(I)}(_.type,T.type)||this.ya(_.doc,T.doc)),this.Ca(s),o=o!=null&&o;const f=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,h.length!==0||y?{snapshot:new gl(this.query,e.wa,u,h,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Rb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new Sx(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Ax(s))}),t}Oa(e){this.fa=e.gs,this.pa=Ve();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return gl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ry="SyncEngine";class aM{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class oM{constructor(e){this.key=e,this.Ba=!1}}class lM{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Qa(f=>Bw(f),of),this.qa=new Map,this.Qa=new Set,this.$a=new dt(Ee.comparator),this.Ka=new Map,this.Ua=new gy,this.Wa={},this.Ga=new Map,this.za=pl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function uM(i,e,t=!0){const s=Ox(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Rx(s,e,t,!0),o}async function cM(i,e){const t=Ox(i);await Rx(t,e,!0,!1)}async function Rx(i,e,t,s){const o=await I2(i.localStore,Ui(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let f;return s&&(f=await hM(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&gx(i.remoteStore,o),f}async function hM(i,e,t,s,o){i.Ha=(T,x,C)=>async function(L,V,Q,Z){let Y=V.view.Sa(Q);Y.ls&&(Y=await bb(L.localStore,V.query,!1).then(({documents:P})=>V.view.Sa(P,Y)));const ne=Z&&Z.targetChanges.get(V.targetId),re=Z&&Z.targetMismatches.get(V.targetId)!=null,oe=V.view.applyChanges(Y,L.isPrimaryClient,ne,re);return Db(L,V.targetId,oe.Ma),oe.snapshot}(i,T,x,C);const u=await bb(i.localStore,e,!0),h=new sM(e,u.gs),f=h.Sa(u.documents),p=Ic.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),y=h.applyChanges(f,i.isPrimaryClient,p);Db(i,t,y.Ma);const _=new aM(e,t,h);return i.ka.set(e,_),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),y.snapshot}async function dM(i,e,t){const s=Re(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!of(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Rg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Ey(s.remoteStore,o.targetId),Ig(s,o.targetId)}).catch(Rl)):(Ig(s,o.targetId),await Rg(s.localStore,o.targetId,!0))}async function fM(i,e){const t=Re(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Ey(t.remoteStore,s.targetId))}async function mM(i,e,t){const s=bM(i);try{const o=await function(h,f){const p=Re(h),y=jt.now(),_=f.reduce((C,I)=>C.add(I.key),Ve());let T,x;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let I=Or(),L=Ve();return p.ds.getEntries(C,_).next(V=>{I=V,I.forEach((Q,Z)=>{Z.isValidDocument()||(L=L.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,I)).next(V=>{T=V;const Q=[];for(const Z of f){const Y=NO(Z,T.get(Z.key).overlayedDocument);Y!=null&&Q.push(new Ys(Z.key,Y,Pw(Y.value.mapValue),ci.exists(!0)))}return p.mutationQueue.addMutationBatch(C,y,Q,f)}).next(V=>{x=V;const Q=V.applyToLocalDocumentSet(T,L);return p.documentOverlayCache.saveOverlays(C,V.batchId,Q)})}).then(()=>({batchId:x.batchId,changes:Gw(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,p){let y=h.Wa[h.currentUser.toKey()];y||(y=new dt(qe)),y=y.insert(f,p),h.Wa[h.currentUser.toKey()]=y}(s,o.batchId,t),await Oc(s,o.changes),await mf(s.remoteStore)}catch(o){const u=Ay(o,"Failed to persist write");t.reject(u)}}async function Cx(i,e){const t=Re(i);try{const s=await R2(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ka.get(u);h&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?We(h.Ba):o.removedDocuments.size>0&&(We(h.Ba),h.Ba=!1))}),await Oc(t,s,e)}catch(s){await Rl(s)}}function Ib(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const f=h.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const p=Re(h);p.onlineState=f;let y=!1;p.queries.forEach((_,T)=>{for(const x of T.ta)x.sa(f)&&(y=!0)}),y&&Sy(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function pM(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new dt(Ee.comparator);h=h.insert(u,an.newNoDocument(u,Ae.min()));const f=Ve().add(u),p=new hf(Ae.min(),new Map,new dt(qe),h,f);await Cx(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Cy(s)}else await Rg(s.localStore,e,!1).then(()=>Ig(s,e,t)).catch(Rl)}async function gM(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await S2(t.localStore,e);Ix(t,s,null),Nx(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Oc(t,o)}catch(o){await Rl(o)}}async function yM(i,e,t){const s=Re(i);try{const o=await function(h,f){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,f).next(T=>(We(T!==null),_=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(s.localStore,e);Ix(s,e,t),Nx(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Oc(s,o)}catch(o){await Rl(o)}}function Nx(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function Ix(i,e,t){const s=Re(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Ig(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(s=>{i.Ua.containsKey(s)||Dx(i,s)})}function Dx(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(Ey(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),Cy(i))}function Db(i,e,t){for(const s of t)s instanceof Ax?(i.Ua.addReference(s.key,e),vM(i,s)):s instanceof Sx?(de(Ry,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||Dx(i,s.key)):xe()}function vM(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(de(Ry,"New document in limbo: "+t),i.Qa.add(s),Cy(i))}function Cy(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new Ee(at.fromString(e)),s=i.za.next();i.Ka.set(s,new oM(t)),i.$a=i.$a.insert(t,s),gx(i.remoteStore,new Ms(Ui(cy(t.path)),s,"TargetPurposeLimboResolution",rf.ae))}}async function Oc(i,e,t){const s=Re(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((f,p)=>{h.push(s.Ha(p,e,t).then(y=>{var _;if((y||t)&&s.isPrimaryClient){const T=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=vy.Yi(p.targetId,y);u.push(T)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,y){const _=Re(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>te.forEach(y,x=>te.forEach(x.Hi,C=>_.persistence.referenceDelegate.addReference(T,x.targetId,C)).next(()=>te.forEach(x.Ji,C=>_.persistence.referenceDelegate.removeReference(T,x.targetId,C)))))}catch(T){if(!Cl(T))throw T;de(_y,"Failed to update sequence numbers: "+T)}for(const T of y){const x=T.targetId;if(!T.fromCache){const C=_.Ts.get(x),I=C.snapshotVersion,L=C.withLastLimboFreeSnapshotVersion(I);_.Ts=_.Ts.insert(x,L)}}}(s.localStore,u))}async function _M(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){de(Ry,"User change. New user:",e.toKey());const s=await dx(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(f=>{f.forEach(p=>{p.reject(new fe(ee.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Oc(t,s.Rs)}}function EM(i,e){const t=Re(i),s=t.Ka.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const u=t.qa.get(e);if(!u)return o;for(const h of u){const f=t.ka.get(h);o=o.unionWith(f.view.ba)}return o}}function Ox(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pM.bind(null,e),e.La.p_=iM.bind(null,e.eventManager),e.La.Ja=rM.bind(null,e.eventManager),e}function bM(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yM.bind(null,e),e}class Qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return A2(this.persistence,new T2,e.initialUser,this.serializer)}Xa(e){return new hx(yy.ri,this.serializer)}Za(e){return new O2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qd.provider={build:()=>new Qd};class TM extends Qd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){We(this.persistence.referenceDelegate instanceof Hd);const s=this.persistence.referenceDelegate.garbageCollector;return new o2(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new hx(s=>Hd.ri(s,t),this.serializer)}}class Dg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ib(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_M.bind(null,this.syncEngine),await eM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nM}()}createDatastore(e){const t=df(e.databaseInfo.databaseId),s=function(u){return new V2(u)}(e.databaseInfo);return function(u,h,f,p){return new z2(u,h,f,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,f){return new F2(s,o,u,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Ib(this.syncEngine,t,0),function(){return xb.D()?new xb:new M2}())}createSyncEngine(e,t){return function(o,u,h,f,p,y,_){const T=new lM(o,u,h,f,p,y);return _&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Re(o);de(Ha,"RemoteStore shutting down."),u.W_.add(5),await Dc(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Dg.provider={build:()=>new Dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class wM{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=xw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{de(Gs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(de(Gs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ay(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Bp(i,e){i.asyncQueue.verifyOperationInProgress(),de(Gs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await dx(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Ob(i,e){i.asyncQueue.verifyOperationInProgress();const t=await xM(i);de(Gs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>Sb(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>Sb(e.remoteStore,o)),i._onlineComponents=e}async function xM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(Gs,"Using user provided OfflineComponentProvider");try{await Bp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;hl("Error using user provided cache. Falling back to memory cache: "+t),await Bp(i,new Qd)}}else de(Gs,"Using default OfflineComponentProvider"),await Bp(i,new TM(void 0));return i._offlineComponents}async function Px(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(Gs,"Using user provided OnlineComponentProvider"),await Ob(i,i._uninitializedComponentsProvider._online)):(de(Gs,"Using default OnlineComponentProvider"),await Ob(i,new Dg))),i._onlineComponents}function AM(i){return Px(i).then(e=>e.syncEngine)}async function jx(i){const e=await Px(i),t=e.eventManager;return t.onListen=uM.bind(null,e.syncEngine),t.onUnlisten=dM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fM.bind(null,e.syncEngine),t}function SM(i,e,t={}){const s=new Sr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,f,p,y){const _=new Mx({next:x=>{_.su(),h.enqueueAndForget(()=>wx(u,T));const C=x.docs.has(f);!C&&x.fromCache?y.reject(new fe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&x.fromCache&&p&&p.source==="server"?y.reject(new fe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),T=new xx(cy(f.path),_,{includeMetadataChanges:!0,Ta:!0});return Tx(u,T)}(await jx(i),i.asyncQueue,e,t,s)),s.promise}function RM(i,e,t={}){const s=new Sr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,f,p,y){const _=new Mx({next:x=>{_.su(),h.enqueueAndForget(()=>wx(u,T)),x.fromCache&&p.source==="server"?y.reject(new fe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),T=new xx(f,_,{includeMetadataChanges:!0,Ta:!0});return Tx(u,T)}(await jx(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(i,e,t){if(!t)throw new fe(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function CM(i,e,t,s){if(e===!0&&s===!0)throw new fe(ee.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Pb(i){if(!Ee.isDocumentKey(i))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function jb(i){if(Ee.isDocumentKey(i))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function pf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":xe()}function Mr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pf(i);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="firestore.googleapis.com",kb=!0;class Vb{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lx,this.ssl=kb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:kb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s2)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kx((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new jD;switch(s.type){case"firstParty":return new UD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Mb.get(t);s&&(de("ComponentProvider","Removing Datastore"),Mb.delete(t),s.terminate())}(this),Promise.resolve()}}function NM(i,e,t,s={}){var o;const u=(i=Mr(i,gf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),f=`${e}:${t}`;u.host!==Lx&&u.host!==f&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:f,ssl:!1,emulatorOptions:s});if(!qa(p,h)&&(i._setSettings(p),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=sn.MOCK_USER;else{y=$C(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new sn(T)}i._authCredentials=new kD(new ww(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $a(this.firestore,e,this._query)}}class wn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class Ls extends $a{constructor(e,t,s){super(e,t,cy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new Ee(e))}withConverter(e){return new Ls(this.firestore,e,this._path)}}function ui(i,e,...t){if(i=Vt(i),Vx("collection","path",e),i instanceof gf){const s=at.fromString(e,...t);return jb(s),new Ls(i,null,s)}{if(!(i instanceof wn||i instanceof Ls))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(at.fromString(e,...t));return jb(s),new Ls(i.firestore,null,s)}}function xn(i,e,...t){if(i=Vt(i),arguments.length===1&&(e=xw.newId()),Vx("doc","path",e),i instanceof gf){const s=at.fromString(e,...t);return Pb(s),new wn(i,null,new Ee(s))}{if(!(i instanceof wn||i instanceof Ls))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(at.fromString(e,...t));return Pb(s),new wn(i.firestore,i instanceof Ls?i.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="AsyncQueue";class Ub{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new mx(this,"async_queue_retry"),this.bu=()=>{const s=zp();s&&de(Lb,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const t=zp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=zp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Sr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Cl(e))throw e;de(Lb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(s);throw Dr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=xy.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Dl extends gf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Ub,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ub(e),this._firestoreClient=void 0,await e}}}function IM(i,e){const t=typeof i=="object"?i:jT(),s=typeof i=="string"?i:Ud,o=Kg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=QC("firestore");u&&NM(o,...u)}return o}function Ny(i){if(i._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||DM(i),i._firestoreClient}function DM(i){var e,t,s;const o=i._freezeSettings(),u=function(f,p,y,_){return new JD(f,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,kx(_.experimentalLongPollingOptions),_.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new wM(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(Zt.fromBase64String(e))}catch(t){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yl(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=/^__.*__$/;class MM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nc(e,this.data,t,this.fieldTransforms)}}class Ux{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qx(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class Oy{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Oy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Kd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(qx(this.Lu)&&OM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class PM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||df(e)}ju(e,t,s,o=!1){return new Oy({Lu:e,methodName:t,zu:s,path:Wt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function My(i){const e=i._freezeSettings(),t=df(i._databaseId);return new PM(i._databaseId,!!e.ignoreUndefinedProperties,t)}function jM(i,e,t,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,t,o);jy("Data must be an object, but it was:",h,s);const f=zx(s,h);let p,y;if(u.merge)p=new On(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const x=Og(e,T,t);if(!h.contains(x))throw new fe(ee.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Fx(_,x)||_.push(x)}p=new On(_),y=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=h.fieldTransforms;return new MM(new Tn(f),p,y)}class _f extends vf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _f}}class Py extends vf{_toFieldTransform(e){return new AO(e.path,new dc)}isEqual(e){return e instanceof Py}}function kM(i,e,t,s){const o=i.ju(1,e,t);jy("Data must be an object, but it was:",o,s);const u=[],h=Tn.empty();$s(s,(p,y)=>{const _=ky(e,p,t);y=Vt(y);const T=o.Ku(_);if(y instanceof _f)u.push(_);else{const x=Mc(y,T);x!=null&&(u.push(_),h.set(_,x))}});const f=new On(u);return new Ux(h,f,o.fieldTransforms)}function VM(i,e,t,s,o,u){const h=i.ju(1,e,t),f=[Og(e,s,t)],p=[o];if(u.length%2!=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)f.push(Og(e,u[x])),p.push(u[x+1]);const y=[],_=Tn.empty();for(let x=f.length-1;x>=0;--x)if(!Fx(y,f[x])){const C=f[x];let I=p[x];I=Vt(I);const L=h.Ku(C);if(I instanceof _f)y.push(C);else{const V=Mc(I,L);V!=null&&(y.push(C),_.set(C,V))}}const T=new On(y);return new Ux(_,T,h.fieldTransforms)}function LM(i,e,t,s=!1){return Mc(t,i.ju(s?4:3,e))}function Mc(i,e){if(Bx(i=Vt(i)))return jy("Unsupported field value:",e,i),zx(i,e);if(i instanceof vf)return function(s,o){if(!qx(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const f of s){let p=Mc(f,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return TO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=jt.fromDate(s);return{timestampValue:Fd(o.serializer,u)}}if(s instanceof jt){const u=new jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Fd(o.serializer,u)}}if(s instanceof Iy)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yl)return{bytesValue:ix(o.serializer,s._byteString)};if(s instanceof wn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:py(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Dy)return function(h,f){return{mapValue:{fields:{[Ow]:{stringValue:Mw},[qd]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw f.Wu("VectorValues must only contain numeric values.");return hy(f.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${pf(s)}`)}(i,e)}function zx(i,e){const t={};return Sw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(i,(s,o)=>{const u=Mc(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Bx(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof jt||i instanceof Iy||i instanceof yl||i instanceof wn||i instanceof vf||i instanceof Dy)}function jy(i,e,t){if(!Bx(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=pf(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function Og(i,e,t){if((e=Vt(e))instanceof yf)return e._internalPath;if(typeof e=="string")return ky(i,e);throw Kd("Field path arguments must be of type string or ",i,!1,void 0,t)}const UM=new RegExp("[~\\*/\\[\\]]");function ky(i,e,t){if(e.search(UM)>=0)throw Kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new yf(...e.split("."))._internalPath}catch{throw Kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Kd(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new fe(ee.INVALID_ARGUMENT,f+i+p)}function Fx(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ef("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class qM extends Hx{data(){return super.data()}}function Ef(i,e){return typeof e=="string"?ky(i,e):e instanceof yf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vy{}class Gx extends Vy{}function $d(i,e,...t){let s=[];e instanceof Vy&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof Ly).length,f=u.filter(p=>p instanceof bf).length;if(h>1||h>0&&f>0)throw new fe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class bf extends Gx{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new bf(e,t,s)}_apply(e){const t=this._parse(e);return Qx(e._query,t),new $a(e.firestore,e.converter,bg(e._query,t))}_parse(e){const t=My(e.firestore);return function(u,h,f,p,y,_,T){let x;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){zb(T,_);const I=[];for(const L of T)I.push(qb(p,u,L));x={arrayValue:{values:I}}}else x=qb(p,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||zb(T,_),x=LM(f,h,T,_==="in"||_==="not-in");return Rt.create(y,_,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function BM(i,e,t){const s=e,o=Ef("where",i);return bf._create(o,s,t)}class Ly extends Vy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ly(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:fi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const f=u.getFlattenedFilters();for(const p of f)Qx(h,p),h=bg(h,p)}(e._query,t),new $a(e.firestore,e.converter,bg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Uy extends Gx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Uy(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hc(u,h)}(e._query,this._field,this._direction);return new $a(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Nl(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Yd(i,e="asc"){const t=e,s=Ef("orderBy",i);return Uy._create(s,t)}function qb(i,e,t){if(typeof(t=Vt(t))=="string"){if(t==="")throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zw(e)&&t.indexOf("/")!==-1)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(at.fromString(t));if(!Ee.isDocumentKey(s))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nb(i,new Ee(s))}if(t instanceof wn)return nb(i,t._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pf(t)}.`)}function zb(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qx(i,e){const t=function(o,u){for(const h of o)for(const f of h.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class FM{convertValue(e,t="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return $s(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[qd].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>bt(h.doubleValue));return new Dy(u)}convertGeoPoint(e){return new Iy(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=af(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(lc(e));default:return null}}convertTimestamp(e){const t=zs(e);return new jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=at.fromString(e);We(ux(s));const o=new uc(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(t)||Dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kx extends Hx{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ef("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Sd extends Kx{data(e={}){return super.data(e)}}class GM{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Yu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Sd(this._firestore,this._userDataWriter,s.key,s,new Yu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const p=new Sd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Yu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||f.type!==3).map(f=>{const p=new Sd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Yu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),_=h.indexOf(f.doc.key)),{type:QM(f.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function QM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(i){i=Mr(i,wn);const e=Mr(i.firestore,Dl);return SM(Ny(e),i._key).then(t=>KM(e,i,t))}class $x extends FM{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function vl(i){i=Mr(i,$a);const e=Mr(i.firestore,Dl),t=Ny(e),s=new $x(e);return zM(i._query),RM(t,i._query).then(o=>new GM(e,s,i,o))}function pc(i,e,t,...s){i=Mr(i,wn);const o=Mr(i.firestore,Dl),u=My(o);let h;return h=typeof(e=Vt(e))=="string"||e instanceof yf?VM(u,"updateDoc",i._key,e,t,s):kM(u,"updateDoc",i._key,e),qy(o,[h.toMutation(i._key,ci.exists(!0))])}function Yx(i){return qy(Mr(i.firestore,Dl),[new dy(i._key,ci.none())])}function gc(i,e){const t=Mr(i.firestore,Dl),s=xn(i),o=HM(i.converter,e);return qy(t,[jM(My(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,ci.exists(!1))]).then(()=>s)}function qy(i,e){return function(s,o){const u=new Sr;return s.asyncQueue.enqueueAndForget(async()=>mM(await AM(s),o,u)),u.promise}(Ny(i),e)}function KM(i,e,t){const s=t.docs.get(e._key),o=new $x(i);return new Kx(i,o,e._key,s,new Yu(t.hasPendingWrites,t.fromCache),e.converter)}function Fp(){return new Py("serverTimestamp")}(function(e,t=!0){(function(o){Sl=o})(xl),cl(new za("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),f=new Dl(new VD(s.getProvider("auth-internal")),new qD(h,s.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uc(y.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),ks(GE,QE,e),ks(GE,QE,"esm2017")})();var $M="firebase",YM="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks($M,YM,"app");const XM={apiKey:"AIzaSyBnSzwdUInkRp1w8osYBuEIhXw-rlvtLiQ",authDomain:"lalathebeadmaker-admin.firebaseapp.com",projectId:"lalathebeadmaker-admin",storageBucket:"lalathebeadmaker-admin.firebasestorage.app",messagingSenderId:"348774121390",appId:"1:348774121390:web:f04db5d41a2fe659c4123f",measurementId:"G-S12DCNVE6H"},Xx=PT(XM),Bu=MD(Xx),ot=IM(Xx),Wx=F.createContext(void 0);function WM({children:i}){const[e,t]=F.useState(null),[s,o]=F.useState(!0);F.useEffect(()=>bI(Bu,async y=>{try{if(y){const _=await Xo(xn(ot,"users",y.uid));if(_.exists()){const T=_.data();t(T)}o(!1)}else{console.log("No user found, signing in anonymously");const _=await dI(Bu),T=await Xo(xn(ot,"users",_.user.uid));T.exists()&&t(T.data()),o(!1)}}catch(_){console.error("Error in auth state change:",_),o(!1)}}),[]);const u=async(p,y)=>{try{await vI(Bu,ty);const _=await yI(Bu,p,y),T=await Xo(xn(ot,"users",_.user.uid));T.exists()?t(T.data()):t(null),o(!1)}catch(_){throw console.error("Error during sign in:",_),_}},h=async()=>{await TI(Bu),t(null)},f=(e==null?void 0:e.role)==="admin";return g.jsx(Wx.Provider,{value:{user:e,loading:s,signIn:u,signOut:h,isAdmin:f},children:i})}function Ol(){const i=F.useContext(Wx);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}function gr({children:i}){const{user:e,loading:t}=Ol(),s=Bi();return t?g.jsx("div",{className:"flex h-screen items-center justify-center",children:g.jsx("div",{className:"text-lg text-gray-600",children:"Loading..."})}):e?g.jsx(g.Fragment,{children:i}):g.jsx(SR,{to:"/signin",state:{from:s},replace:!0})}function yr({children:i}){var C;const{user:e,signOut:t}=Ol(),s=Bi(),[o,u]=F.useState(!1),[h,f]=F.useState(!1),p=F.useRef(null),y=()=>{u(!o)},_=()=>{f(!h)};F.useEffect(()=>{u(!1)},[s]),F.useEffect(()=>{function I(L){p.current&&!p.current.contains(L.target)&&f(!1)}return document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[]);const T=I=>s.pathname===I,x=[{path:"/",label:"Dashboard"},{path:"/products",label:"Products"},{path:"/purchases",label:"Purchases"},{path:"/raw-materials",label:"Raw Materials"},{path:"/labor",label:"Labor Costs"},{path:"/orders",label:"Orders"},{path:"/shipping",label:"Shipping"}];return g.jsxs("div",{className:"min-h-screen",children:[g.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col",children:g.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-gray-200 bg-white px-6 pb-4",children:[g.jsx("div",{className:"flex h-16 shrink-0 items-center",children:g.jsx("span",{className:"text-lg font-bold text-primary",children:"Lala The Beadmaker"})}),g.jsx("nav",{className:"flex flex-1 flex-col",children:g.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:g.jsx("li",{children:g.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:x.map(I=>g.jsx("li",{children:g.jsx(Cd,{to:I.path,className:`group flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6 ${T(I.path)?"bg-primary-50 text-primary":"text-gray-700 hover:bg-gray-50 hover:text-primary"}`,children:I.label})},I.path))})})})})]})}),g.jsxs("div",{className:"sticky top-0 z-40 flex items-center gap-x-6 bg-white px-4 py-4 shadow-sm sm:px-6 lg:hidden",children:[g.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:y,children:[g.jsx("span",{className:"sr-only",children:"Open sidebar"}),g.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})]}),g.jsx("div",{className:"flex-1",children:g.jsx("span",{className:"text-lg font-bold text-primary",children:"Lala The Beadmaker"})}),g.jsxs("div",{ref:p,className:"relative",children:[g.jsx("button",{type:"button",className:"flex items-center gap-x-1 text-sm font-semibold leading-6 text-gray-900",onClick:_,children:g.jsx("span",{className:"h-8 w-8 rounded-full bg-primary-50 flex items-center justify-center",children:g.jsx("span",{className:"text-primary font-medium text-sm",children:((C=e==null?void 0:e.email)==null?void 0:C.charAt(0).toUpperCase())||"U"})})}),h&&g.jsx("div",{className:"absolute right-0 mt-2.5 w-32 origin-top-right rounded-md bg-white py-2 shadow-lg ring-1 ring-gray-900/5 focus:outline-none",children:g.jsx("button",{onClick:()=>{t(),f(!1)},className:"block w-full px-3 py-1 text-left text-sm leading-6 text-gray-900 hover:bg-gray-50",children:"Sign out"})})]})]}),g.jsxs("div",{className:`relative lg:hidden ${o?"":"pointer-events-none"}`,children:[g.jsx("div",{className:`fixed inset-0 bg-gray-900/80 backdrop-blur-sm transition-opacity duration-300 ${o?"opacity-100":"opacity-0"}`,onClick:y}),g.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-white transform transition duration-300 ease-in-out ${o?"translate-x-0":"-translate-x-full"}`,children:[g.jsxs("div",{className:"flex h-16 shrink-0 items-center gap-x-6 px-6 border-b border-gray-200",children:[g.jsx("span",{className:"text-lg font-bold text-primary",children:"Menu"}),g.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700",onClick:y,children:[g.jsx("span",{className:"sr-only",children:"Close sidebar"}),g.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]})]}),g.jsx("nav",{className:"flex flex-1 flex-col px-6 pt-4",children:g.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-4",children:x.map(I=>g.jsx("li",{children:g.jsx(Cd,{to:I.path,className:`group flex gap-x-3 rounded-md p-2 text-sm font-semibold leading-6 ${T(I.path)?"bg-primary-50 text-primary":"text-gray-700 hover:bg-gray-50 hover:text-primary"}`,children:I.label})},I.path))})})]})]}),g.jsx("div",{className:"lg:pl-72",children:g.jsx("main",{className:"py-10",children:g.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:i})})})]})}function ZM(){const[i,e]=F.useState(""),[t,s]=F.useState(""),[o,u]=F.useState(""),[h,f]=F.useState(!1),p=Tl(),{signIn:y}=Ol(),_=async T=>{T.preventDefault(),u(""),f(!0);try{await y(i,t),p("/")}catch{u("Failed to sign in. Please check your credentials.")}finally{f(!1)}};return g.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:g.jsxs("div",{className:"w-full max-w-md mx-auto px-6 py-12",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("img",{className:"w-20 h-auto mx-auto",src:"https://lalathebeadmaker.com/wp-content/uploads/2023/08/IMG_4222.jpg",alt:"Your Company"}),g.jsx("h2",{className:"mt-10 text-center text-2xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"})]}),g.jsx("div",{className:"mt-10 w-full",children:g.jsxs("form",{className:"space-y-6 w-full",onSubmit:_,children:[g.jsxs("div",{className:"w-full",children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900",children:"Email address"}),g.jsx("div",{className:"mt-2",children:g.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:T=>e(T.target.value),className:"block w-full rounded-md border-0 px-3 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-[#6A7861] sm:text-sm"})})]}),g.jsxs("div",{className:"w-full",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-900",children:"Password"}),g.jsx("div",{className:"text-sm",children:g.jsx("a",{href:"#",className:"font-semibold text-[#6A7861] hover:text-[#5a6852]",children:"Forgot password?"})})]}),g.jsx("div",{className:"mt-2",children:g.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:T=>s(T.target.value),className:"block w-full rounded-md border-0 px-3 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-[#6A7861] sm:text-sm"})})]}),o&&g.jsx("div",{className:"rounded-md bg-red-50 p-4",children:g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),g.jsx("div",{className:"ml-3",children:g.jsx("h3",{className:"text-sm font-medium text-red-800",children:o})})]})}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:h,className:"flex w-full justify-center rounded-md px-4 py-3.5 text-base font-bold shadow-lg lala-btn",children:h?"Signing in...":"Sign in"})})]})})]})})}function JM(){return g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"}),g.jsx("div",{className:"mt-6 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"})]})}const hd={async getProducts(){return(await vl(ui(ot,"products"))).docs.map(e=>({id:e.id,...e.data()}))},async getProduct(i){const e=xn(ot,"products",i),t=await Xo(e);return t.exists()?{id:t.id,...t.data()}:null},async addProduct(i){return(await gc(ui(ot,"products"),i)).id},async updateProduct(i,e){const t=xn(ot,"products",i);await pc(t,e)},async deleteProduct(i){const e=xn(ot,"products",i);await Yx(e)}};function Tf(){const i=Zd(),{data:e=[],isLoading:t}=og({queryKey:["products"],queryFn:hd.getProducts}),s=Xu({mutationFn:h=>hd.addProduct(h),onSuccess:()=>{i.invalidateQueries({queryKey:["products"]})}}),o=Xu({mutationFn:({id:h,product:f})=>hd.updateProduct(h,f),onSuccess:()=>{i.invalidateQueries({queryKey:["products"]})}}),u=Xu({mutationFn:h=>hd.deleteProduct(h),onSuccess:()=>{i.invalidateQueries({queryKey:["products"]})}});return{products:e,isLoading:t,addProduct:s.mutate,updateProduct:o.mutate,deleteProduct:u.mutate,isAdding:s.isPending,isUpdating:o.isPending,isDeleting:u.isPending}}const dd={async getRawMaterials(){return(await vl(ui(ot,"rawMaterials"))).docs.map(e=>({id:e.id,...e.data()}))},async getRawMaterialPurchases(){return(await vl($d(ui(ot,"rawMaterialPurchases"),Yd("purchaseDate","desc")))).docs.map(e=>({id:e.id,...e.data()}))},async addRawMaterialPurchase(i){const e=await gc(ui(ot,"rawMaterialPurchases"),{...i,purchaseDate:Fp()}),t=xn(ot,"rawMaterials",i.materialId);return await pc(t,{lastPurchasePrice:i.price,lastPurchaseDate:Fp()}),e.id},async addRawMaterial(i){return(await gc(ui(ot,"rawMaterials"),{...i,lastPurchaseDate:Fp()})).id}};function Pc(){const i=Zd(),{data:e=[],isLoading:t}=og({queryKey:["rawMaterials"],queryFn:dd.getRawMaterials}),{data:s=[],isLoading:o}=og({queryKey:["rawMaterialPurchases"],queryFn:dd.getRawMaterialPurchases}),u=Xu({mutationFn:f=>dd.addRawMaterialPurchase(f),onSuccess:()=>{i.invalidateQueries({queryKey:["rawMaterialPurchases"]}),i.invalidateQueries({queryKey:["rawMaterials"]})}}),h=Xu({mutationFn:f=>dd.addRawMaterial(f),onSuccess:()=>{i.invalidateQueries({queryKey:["rawMaterials"]})}});return{materials:e,purchases:s,isLoading:t||o,addPurchase:u.mutate,addMaterial:h.mutate,isAddingPurchase:u.isPending,isAddingMaterial:h.isPending}}const fd={async getLaborCosts(){return(await vl($d(ui(ot,"laborCosts"),Yd("startDate","desc")))).docs.map(e=>({id:e.id,...e.data()}))},async getLaborCost(i){const e=xn(ot,"laborCosts",i),t=await Xo(e);return t.exists()?{id:t.id,...t.data()}:null},async addLaborCost(i){return(await gc(ui(ot,"laborCosts"),i)).id},async updateLaborCost(i,e){const t=xn(ot,"laborCosts",i);await pc(t,e)},async deleteLaborCost(i){const e=xn(ot,"laborCosts",i);await Yx(e)}};function wf(){const[i,e]=F.useState([]),[t,s]=F.useState(!0),[o,u]=F.useState(!1);F.useEffect(()=>{(async()=>{try{const C=await fd.getLaborCosts();e(C)}catch(C){console.error("Error fetching labor costs:",C)}finally{s(!1)}})()},[]);const h=async x=>{u(!0);try{const C=await fd.addLaborCost(x),I={...x,id:C};e([...i,I])}catch(C){throw console.error("Error adding labor cost:",C),C}finally{u(!1)}},f=async(x,C)=>{try{await fd.updateLaborCost(x,C),e(i.map(I=>I.id===x?{...I,...C}:I))}catch(I){throw console.error("Error updating labor cost:",I),I}},p=async x=>{try{await fd.deleteLaborCost(x),e(i.filter(C=>C.id!==x))}catch(C){throw console.error("Error deleting labor cost:",C),C}},y=()=>i.reduce((x,C)=>x+C.monthlySalary,0),_=()=>i.reduce((x,C)=>x+C.daysWorked,0);return{laborCosts:i,isLoading:t,isAdding:o,addLaborCost:h,updateLaborCost:f,deleteLaborCost:p,calculateTotalMonthlyLaborCost:y,calculateTotalLaborDays:_,calculateDailyRate:()=>{const x=y(),C=_();return C>0?x/C:0}}}function eP(){const{isAdmin:i}=Ol(),e=Tl(),{products:t,isLoading:s,addProduct:o,isAdding:u}=Tf(),{materials:h}=Pc(),{calculateDailyRate:f}=wf(),[p,y]=F.useState(!1),[_,T]=F.useState({name:"",materials:[],costs:[],timeToMake:0}),[x,C]=F.useState({materialId:"",quantity:0}),I=ne=>ne.reduce((re,oe)=>{const P=h.find(A=>A.id===oe.materialId);return P?re+P.lastPurchasePrice*oe.quantity:re},0),L=ne=>f()*ne,V=(ne,re)=>{const oe=I(ne),P=L(re);return{materialCost:oe,laborCost:P,totalCost:oe+P}},Q=()=>{x.quantity>0&&x.materialId&&(T({..._,materials:[..._.materials,x]}),C({materialId:"",quantity:0}))},Z=ne=>{T({..._,materials:_.materials.filter((re,oe)=>oe!==ne)})},Y=async ne=>{ne.preventDefault();const re=V(_.materials,_.timeToMake),oe={..._,costs:[{categoryId:"raw_material",value:re.materialCost},{categoryId:"labor",value:re.laborCost}]};await o(oe),y(!1),T({name:"",materials:[],costs:[],timeToMake:0})};return s?g.jsx("div",{children:"Loading..."}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Products"}),i&&g.jsx("button",{onClick:()=>y(!0),className:"btn lala-btn justify-center px-1 py-1",children:"Add Product"})]}),p&&g.jsxs("div",{className:"bg-white shadow sm:rounded-lg p-6",children:[g.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Product"}),g.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Product Name"}),g.jsx("input",{type:"text",id:"name",value:_.name,onChange:ne=>T({..._,name:ne.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"timeToMake",className:"block text-sm font-medium text-gray-700",children:"Time to Make (days)"}),g.jsx("input",{type:"number",id:"timeToMake",value:_.timeToMake,onChange:ne=>T({..._,timeToMake:Number(ne.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0,min:"1",step:"0.5"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Cost Breakdown"}),g.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[g.jsx("p",{className:"text-sm text-gray-500",children:"Material Cost"}),g.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["₦",I(_.materials).toFixed(2)]})]}),g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[g.jsx("p",{className:"text-sm text-gray-500",children:"Labor Cost"}),g.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["₦",L(_.timeToMake).toFixed(2)]})]}),g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[g.jsx("p",{className:"text-sm text-gray-500",children:"Total Cost"}),g.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["₦",V(_.materials,_.timeToMake).totalCost.toFixed(2)]})]})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Materials"}),g.jsxs("div",{className:"flex space-x-4",children:[g.jsxs("select",{value:x.materialId,onChange:ne=>C({...x,materialId:ne.target.value}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[g.jsx("option",{value:"",children:"Select a material"}),h.map(ne=>g.jsxs("option",{value:ne.id,children:[ne.name," (",ne.unit,")"]},ne.id))]}),g.jsx("input",{type:"number",value:x.quantity,onChange:ne=>C({...x,quantity:Number(ne.target.value)}),className:"block w-32 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Quantity",min:"0",step:"0.5"}),g.jsx("button",{type:"button",onClick:Q,className:"btn lala-btn justify-center px-1 py-1",children:"Add"})]}),g.jsxs("div",{className:"mt-4",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected Materials"}),g.jsx("ul",{className:"space-y-2",children:_.materials.map((ne,re)=>{const oe=h.find(P=>P.id===ne.materialId);return g.jsxs("li",{className:"flex items-center justify-between text-sm",children:[g.jsxs("span",{children:[oe==null?void 0:oe.name," - ",ne.quantity," ",oe==null?void 0:oe.unit]}),g.jsx("button",{type:"button",onClick:()=>Z(re),className:"btn lala-btn-danger justify-center px-1 py-1",children:"Remove"})]},re)})})]})]}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:()=>y(!1),className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:u,className:"btn lala-btn justify-center px-1 py-1",children:u?"Adding...":"Add Product"})]})]})]}),g.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:g.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[g.jsx("h3",{className:"text-base font-semibold leading-6 text-gray-900",children:"Products List"}),g.jsx("div",{className:"mt-6 flow-root",children:g.jsx("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:g.jsx("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Name"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Days to Make"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Material Cost"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Labor Cost"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Total Cost"}),g.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:g.jsx("span",{className:"sr-only",children:"Actions"})})]})}),g.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(ne=>{const re=V(ne.materials,ne.timeToMake);return g.jsxs("tr",{children:[g.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:ne.name}),g.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:[ne.timeToMake," days"]}),g.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:["₦",re.materialCost.toFixed(2)]}),g.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:["₦",re.laborCost.toFixed(2)]}),g.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:["₦",re.totalCost.toFixed(2)]}),g.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:g.jsx("button",{onClick:()=>e(`/products/${ne.id}`),className:"text-primary-600 hover:text-primary-900",children:"View"})})]},ne.id)})})]})})})})]})})]})}function tP(){var w;const{id:i}=dR(),{isAdmin:e}=Ol(),{products:t,isLoading:s,updateProduct:o,isUpdating:u}=Tf(),{materials:h}=Pc(),{calculateDailyRate:f}=wf(),[p,y]=F.useState(!1),[_,T]=F.useState({}),[x,C]=F.useState({materialId:"",quantity:0}),I=t.find(N=>N.id===i),L=s;if(F.useEffect(()=>{I&&T({name:I.name,materials:I.materials,timeToMake:I.timeToMake})},[I]),L)return g.jsx("div",{children:"Loading..."});if(!I)return g.jsx("div",{children:"Product not found"});const V=()=>{T(I),y(!0)},Q=async()=>{if(i){const N=re(_.materials||[],_.timeToMake||0),M={..._,costs:[{categoryId:"raw_material",value:N.materialCost},{categoryId:"labor",value:N.laborCost}]};await o({id:i,product:M}),y(!1)}},Z=()=>{y(!1),T(I)},Y=N=>N.reduce((M,U)=>{const O=h.find(it=>it.id===U.materialId);return O?M+O.lastPurchasePrice*U.quantity:M},0),ne=N=>f()*N,re=(N,M)=>{const U=Y(N),O=ne(M);return{materialCost:U,laborCost:O,totalCost:U+O}},oe=()=>{x.quantity>0&&x.materialId&&(T({..._,materials:[..._.materials||[],x]}),C({materialId:"",quantity:0}))},P=N=>{T({..._,materials:(_.materials||[]).filter((M,U)=>U!==N)})},A=(N,M)=>{const U=[..._.materials||[]];U[N]={...U[N],quantity:M},T({..._,materials:U})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Product Details"}),e&&g.jsx("div",{className:"flex space-x-3",children:p?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:Z,className:"btn lala-btn-danger justify-center px-1 py-1",children:"Cancel"}),g.jsx("button",{onClick:Q,disabled:u,className:"btn lala-btn justify-center px-1 py-1",children:u?"Saving...":"Save Changes"})]}):g.jsx("button",{onClick:V,className:"btn lala-btn justify-center px-1 py-1",children:"Edit Product"})})]}),g.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:g.jsx("div",{className:"px-4 py-5 sm:p-6",children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Basic Information"}),g.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Product Name"}),p?g.jsx("input",{type:"text",id:"name",value:_.name,onChange:N=>T({..._,name:N.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"}):g.jsx("p",{className:"mt-1 text-sm text-gray-900",children:I.name})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"timeToMake",className:"block text-sm font-medium text-gray-700",children:"Time to Make (days)"}),p?g.jsx("input",{type:"number",id:"timeToMake",value:_.timeToMake,onChange:N=>T({..._,timeToMake:Number(N.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",min:"0.5",step:"0.5"}):g.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[I.timeToMake," days"]})]})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Materials"}),p&&g.jsxs("div",{className:"mt-4 flex space-x-4",children:[g.jsxs("select",{value:x.materialId,onChange:N=>C({...x,materialId:N.target.value}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[g.jsx("option",{value:"",children:"Select a material"}),h.map(N=>g.jsxs("option",{value:N.id,children:[N.name," (",N.unit,")"]},N.id))]}),g.jsx("input",{type:"number",value:x.quantity,onChange:N=>C({...x,quantity:Number(N.target.value)}),className:"block w-32 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Quantity",min:"0",step:"0.5"}),g.jsx("button",{type:"button",onClick:oe,className:"btn lala-btn justify-center px-1 py-1",children:"Add"})]}),g.jsx("div",{className:"mt-4",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Material"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Quantity"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Unit Price"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Total Cost"}),p&&g.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:g.jsx("span",{className:"sr-only",children:"Actions"})})]})}),g.jsx("tbody",{className:"divide-y divide-gray-200",children:(w=p?_.materials:I.materials)==null?void 0:w.map((N,M)=>{const U=h.find(tt=>tt.id===N.materialId),O=(U==null?void 0:U.lastPurchasePrice)||0,it=O*N.quantity;return g.jsxs("tr",{children:[g.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:(U==null?void 0:U.name)||"Unknown Material"}),g.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:p?g.jsx("input",{type:"number",value:N.quantity,onChange:tt=>A(M,Number(tt.target.value)),className:"block w-24 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",min:"0",step:"0.5"}):`${N.quantity} ${U==null?void 0:U.unit}`}),g.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:["₦",O.toFixed(2)]}),g.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:["₦",it.toFixed(2)]}),p&&g.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:g.jsx("button",{onClick:()=>P(M),className:"text-red-600 hover:text-red-900",children:"Remove"})})]},N.materialId)})})]})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Cost Summary"}),g.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[g.jsx("p",{className:"text-sm text-gray-500",children:"Material Cost"}),g.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["₦",Y(p?_.materials||[]:I.materials).toFixed(2)]})]}),g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[g.jsx("p",{className:"text-sm text-gray-500",children:"Labor Cost"}),g.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["₦",ne(p?_.timeToMake||0:I.timeToMake).toFixed(2)]})]}),g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[g.jsx("p",{className:"text-sm text-gray-500",children:"Total Cost"}),g.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["₦",re(p?_.materials||[]:I.materials,p?_.timeToMake||0:I.timeToMake).totalCost.toFixed(2)]})]})]})]})]})})})]})}function nP(){const{materials:i,purchases:e,isLoading:t,addPurchase:s,isAddingPurchase:o}=Pc(),[u,h]=F.useState(!1),[f,p]=F.useState({materialId:"",quantity:0,price:0,purchaseDate:new Date,purchasedBy:""}),y=async T=>{if(T.preventDefault(),f.materialId&&f.quantity&&f.price&&f.purchasedBy){const x={materialId:f.materialId,quantity:f.quantity,price:f.price,purchaseDate:f.purchaseDate||new Date,purchasedBy:f.purchasedBy};await s(x),p({materialId:"",quantity:0,price:0,purchaseDate:new Date,purchasedBy:""}),h(!1)}},_=T=>{const x=i.find(C=>C.id===T);return x?x.name:"Unknown Material"};return t?g.jsx("div",{className:"py-6 flex justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-[#6A7861] border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),g.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading purchases..."})]})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Purchases"}),g.jsx("button",{onClick:()=>h(!u),className:"btn",children:u?"Cancel":"Record Purchase"})]}),u&&g.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:g.jsx("div",{className:"px-4 py-5 sm:p-6",children:g.jsxs("form",{onSubmit:y,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"materialId",className:"block text-sm font-medium text-gray-700",children:"Material"}),g.jsxs("select",{id:"materialId",value:f.materialId,onChange:T=>p({...f,materialId:T.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0,children:[g.jsx("option",{value:"",children:"Select a material"}),i.map(T=>g.jsx("option",{value:T.id,children:T.name},T.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantity"}),g.jsx("input",{type:"number",id:"quantity",value:f.quantity,onChange:T=>p({...f,quantity:Number(T.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",min:"1",step:"1",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Price per Unit (Naira)"}),g.jsx("input",{type:"number",id:"price",value:f.price,onChange:T=>p({...f,price:Number(T.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",min:"1",step:"1",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"purchaseDate",className:"block text-sm font-medium text-gray-700",children:"Purchase Date"}),g.jsx("input",{type:"date",id:"purchaseDate",value:f.purchaseDate?new Date(f.purchaseDate).toISOString().split("T")[0]:"",onChange:T=>p({...f,purchaseDate:new Date(T.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"purchasedBy",className:"block text-sm font-medium text-gray-700",children:"Purchased By"}),g.jsx("input",{type:"text",id:"purchasedBy",value:f.purchasedBy,onChange:T=>p({...f,purchasedBy:T.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0})]}),g.jsxs("div",{className:"sm:col-span-2",children:[g.jsx("label",{htmlFor:"totalCost",className:"block text-sm font-medium text-gray-700",children:"Total Cost"}),g.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[g.jsx("span",{className:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-50 px-3 text-gray-500 sm:text-sm",children:"₦"}),g.jsx("input",{type:"text",id:"totalCost",value:((f.price||0)*(f.quantity||0)).toLocaleString(),readOnly:!0,className:"block w-full rounded-none rounded-r-md border-gray-300 bg-gray-50 text-gray-500 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm"})]})]})]}),g.jsx("div",{className:"flex justify-end",children:g.jsx("button",{type:"submit",disabled:o,className:"btn",children:o?"Recording...":"Record Purchase"})})]})})}),g.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:g.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[g.jsx("h3",{className:"text-base font-semibold leading-6 text-gray-900 mb-4",children:"Purchase History"}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Material"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Quantity"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Price per Unit"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Total Cost"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Purchase Date"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Purchased By"})]})}),g.jsxs("tbody",{className:"divide-y divide-gray-200",children:[e.map(T=>g.jsxs("tr",{children:[g.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:_(T.materialId)}),g.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:T.quantity}),g.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:T.price.toLocaleString("en-NG",{style:"currency",currency:"NGN"})}),g.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:(T.price*T.quantity).toLocaleString("en-NG",{style:"currency",currency:"NGN"})}),g.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:new Date(T.purchaseDate).toLocaleDateString()}),g.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:T.purchasedBy})]},T.id)),e.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:6,className:"px-3 py-4 text-sm text-center text-gray-500",children:'No purchase history found. Record your first purchase using the "Record Purchase" button.'})})]})]})})]})})]})}function iP(){const{materials:i,isLoading:e,addMaterial:t,isAddingMaterial:s}=Pc(),[o,u]=F.useState(!1),[h,f]=F.useState({name:"",unit:"",currentQuantity:0,lastPurchasePrice:0,lastPurchaseDate:new Date}),p=async y=>{if(y.preventDefault(),h.name&&h.unit){const _={name:h.name,unit:h.unit,currentQuantity:h.currentQuantity||0,lastPurchasePrice:h.lastPurchasePrice||0,lastPurchaseDate:h.lastPurchaseDate||new Date,purchaseHistory:[]};await t(_),f({name:"",unit:"",currentQuantity:0,lastPurchasePrice:0,lastPurchaseDate:new Date,purchaseHistory:[]}),u(!1)}};return e?g.jsx("div",{className:"py-6 flex justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-[#6A7861] border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),g.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading materials..."})]})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Raw Materials"}),g.jsx("button",{onClick:()=>u(!o),className:"btn lala-btn justify-center px-1 py-1",children:o?"Cancel":"Add Material"})]}),o&&g.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:g.jsx("div",{className:"px-4 py-5 sm:p-6",children:g.jsxs("form",{onSubmit:p,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Material Name"}),g.jsx("input",{type:"text",id:"name",value:h.name,onChange:y=>f({...h,name:y.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700",children:"Unit of Measurement"}),g.jsx("input",{type:"text",id:"unit",value:h.unit,onChange:y=>f({...h,unit:y.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0,placeholder:"e.g., pack, piece, meter"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantity Available"}),g.jsx("input",{type:"number",id:"quantity",value:h.currentQuantity,onChange:y=>f({...h,currentQuantity:Number(y.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",min:"0",step:"1"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Last Purchase Price (Naira)"}),g.jsx("input",{type:"number",id:"price",value:h.lastPurchasePrice,onChange:y=>f({...h,lastPurchasePrice:Number(y.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",min:"0",step:"1"})]})]}),g.jsx("div",{className:"flex justify-end",children:g.jsx("button",{type:"submit",disabled:s,className:"btn lala-btn",children:s?"Adding...":"Add Material"})})]})})}),g.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:g.jsx("div",{className:"px-4 py-5 sm:p-6",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Material Name"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Unit"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Quantity Available"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Last Purchase Price (Naira)"})]})}),g.jsxs("tbody",{className:"divide-y divide-gray-200",children:[i.map(y=>g.jsxs("tr",{children:[g.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:y.name}),g.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:y.unit}),g.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:y.currentQuantity}),g.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:y.lastPurchasePrice.toLocaleString("en-NG",{style:"currency",currency:"NGN"})})]},y.id)),i.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:4,className:"px-3 py-4 text-sm text-center text-gray-500",children:'No raw materials found. Add your first material using the "Add Material" button.'})})]})]})})})})]})}const Hp={async getOrders(){return(await vl($d(ui(ot,"orders"),Yd("orderDate","desc")))).docs.map(e=>({id:e.id,...e.data()}))},async getOrder(i){const e=xn(ot,"orders",i),t=await Xo(e);return t.exists()?{id:t.id,...t.data()}:null},async addOrder(i){return(await gc(ui(ot,"orders"),i)).id},async updateOrder(i,e){const t=xn(ot,"orders",i);await pc(t,e)},async updateOrderStatus(i,e){const t=xn(ot,"orders",i);await pc(t,{status:e})},async getOrdersByStatus(i){return(await vl($d(ui(ot,"orders"),BM("status","==",i),Yd("orderDate","desc")))).docs.map(t=>({id:t.id,...t.data()}))}};function Zx(){const[i,e]=F.useState([]),[t,s]=F.useState(!0),[o,u]=F.useState(!1),{products:h}=Tf(),{calculateDailyRate:f}=wf();F.useEffect(()=>{(async()=>{try{const I=await Hp.getOrders();e(I)}catch(I){console.error("Error fetching orders:",I)}finally{s(!1)}})()},[]);const p=C=>{const I=Math.max(...C.map(V=>{const Q=h.find(Z=>Z.id===V.productId);return Q?Q.timeToMake:0})),L=new Date;return L.setDate(L.getDate()+I),L},y=C=>{const I=C.reduce((Y,ne)=>{const re=h.find(oe=>oe.id===ne.productId);return Y+(re?re.timeToMake:0)},0),L=f(),V=L>0?30/L:0,Q=Math.ceil(I/V),Z=new Date;return Z.setDate(Z.getDate()+Q),Z};return{orders:i,isLoading:t,isAdding:o,addOrder:async C=>{u(!0);try{const I=p(C.items),L=y(C.items),V={...C,expectedDeliveryDate:I,realisticDeliveryDate:L},Q=await Hp.addOrder(V);e([...i,{...V,id:Q}])}catch(I){throw console.error("Error adding order:",I),I}finally{u(!1)}},updateOrder:async(C,I)=>{try{await Hp.updateOrder(C,I),e(i.map(L=>L.id===C?{...L,...I}:L))}catch(L){throw console.error("Error updating order:",L),L}},getDateStatus:C=>{const I=new Date,L=Math.ceil((C.getTime()-I.getTime())/(1e3*60*60*24));return L<0?{status:"overdue",days:Math.abs(L),color:"red"}:L<=3?{status:"approaching",days:L,color:"orange"}:{status:"on-track",days:L,color:"green"}}}}var Jx=(i=>(i.PENDING="pending",i.PROCESSING="processing",i.COMPLETED="completed",i.CANCELLED="cancelled",i))(Jx||{}),eA=(i=>(i.NGN="NGN",i.USD="USD",i))(eA||{});function rP(){const i=Tl(),{orders:e,isLoading:t,addOrder:s,isAdding:o}=Zx(),{products:u}=Tf(),{materials:h}=Pc(),[f,p]=F.useState("all"),[y,_]=F.useState(!1),[T,x]=F.useState({customerName:"",customerEmail:"",customerPhone:"",socialMedia:[],items:[],shippingAddress:{street:"",city:"",state:"",country:"",postalCode:""},shippingInfo:{customerPaid:0},totalAmountPaid:0,orderSource:"website"}),[C,I]=F.useState({productId:"",quantity:1,price:0,additionalMaterials:[],additionalCosts:[]}),[L,V]=F.useState({platform:"",handle:"",url:""}),Q=["website","instagram","facebook","tiktok","x","pinterest","reddit","threads","referral"],Z=f==="all"?e:e.filter(A=>A.status===f),Y=A=>{var it,tt,le;const w=u.find(ge=>ge.id===A.productId);if(!w)return 0;const N=w.materials.reduce((ge,pe)=>{const je=h.find(k=>k.id===pe.materialId);return je?ge+pe.quantity*je.lastPurchasePrice:ge},0),M=((it=w.costs.find(ge=>ge.categoryId==="labor"))==null?void 0:it.value)||0,U=((tt=A.additionalMaterials)==null?void 0:tt.reduce((ge,pe)=>{const je=h.find(k=>k.id===pe.materialId);return je?ge+pe.quantity*je.lastPurchasePrice:ge},0))||0,O=((le=A.additionalCosts)==null?void 0:le.reduce((ge,pe)=>ge+pe.amount,0))||0;return N+M+U+O},ne=()=>{if(!C.productId){alert("Please select a product");return}if(!u.find(M=>M.id===C.productId)){alert("Selected product not found");return}const w=Y(C),N={...C,price:w};x(M=>({...M,items:[...M.items,N]})),I({productId:"",quantity:1,price:0,additionalMaterials:[],additionalCosts:[]})},re=()=>{L.platform&&L.handle&&L.url&&(x(A=>({...A,socialMedia:[...A.socialMedia,L]})),V({platform:"",handle:"",url:""}))},oe=A=>{x(w=>({...w,socialMedia:w.socialMedia.filter((N,M)=>M!==A)}))},P=async A=>{if(A.preventDefault(),!T.items||T.items.length===0){alert("Please add at least one product to the order");return}if(!T.customerName||!T.customerEmail||!T.customerPhone){alert("Please fill in all required customer information");return}if(!T.shippingAddress.street||!T.shippingAddress.city||!T.shippingAddress.state||!T.shippingAddress.country||!T.shippingAddress.postalCode){alert("Please fill in all required shipping address information");return}if(T.totalAmountPaid<=0){alert("Please enter the total amount paid for products");return}try{const w={...T,status:Jx.PENDING,orderDate:new Date,totalAmount:T.items.reduce((N,M)=>N+M.price*M.quantity,0),currency:eA.NGN};await s(w),_(!1),x({customerName:"",customerEmail:"",customerPhone:"",socialMedia:[],items:[],shippingAddress:{street:"",city:"",state:"",country:"",postalCode:""},shippingInfo:{customerPaid:0},totalAmountPaid:0,orderSource:"website"})}catch(w){console.error("Failed to add order:",w),alert("Failed to create order. Please try again.")}};return t?g.jsx("div",{children:"Loading..."}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Orders"}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("button",{onClick:()=>_(!0),className:"rounded-md bg-[#6A7861] px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-[#5a6852]",children:"Add Order"}),g.jsxs("select",{value:f,onChange:A=>p(A.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",children:[g.jsx("option",{value:"all",children:"All Orders"}),g.jsx("option",{value:"pending",children:"Pending"}),g.jsx("option",{value:"processing",children:"Processing"}),g.jsx("option",{value:"completed",children:"Completed"}),g.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),y&&g.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:g.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[g.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Add New Order"}),g.jsxs("form",{onSubmit:P,className:"mt-5 space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700",children:"Customer Name"}),g.jsx("input",{type:"text",id:"customerName",value:T.customerName,onChange:A=>x({...T,customerName:A.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"customerEmail",className:"block text-sm font-medium text-gray-700",children:"Customer Email"}),g.jsx("input",{type:"email",id:"customerEmail",value:T.customerEmail,onChange:A=>x({...T,customerEmail:A.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"customerPhone",className:"block text-sm font-medium text-gray-700",children:"Customer Phone"}),g.jsx("input",{type:"tel",id:"customerPhone",value:T.customerPhone,onChange:A=>x({...T,customerPhone:A.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0})]}),g.jsxs("div",{className:"col-span-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Social Media"}),g.jsxs("div",{className:"mt-1 space-y-2",children:[g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("input",{type:"text",placeholder:"Platform (e.g., Instagram)",value:L.platform,onChange:A=>V({...L,platform:A.target.value}),className:"block w-1/3 rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm"}),g.jsx("input",{type:"text",placeholder:"Handle",value:L.handle,onChange:A=>V({...L,handle:A.target.value}),className:"block w-1/3 rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm"}),g.jsx("input",{type:"url",placeholder:"URL",value:L.url,onChange:A=>V({...L,url:A.target.value}),className:"block w-1/3 rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm"}),g.jsx("button",{type:"button",onClick:re,className:"btn lala-btn justify-center px-1 py-1",children:"Add"})]}),T.socialMedia.length>0&&g.jsx("div",{className:"mt-2 space-y-1",children:T.socialMedia.map((A,w)=>g.jsxs("div",{className:"flex items-center justify-between text-sm",children:[g.jsxs("span",{children:[A.platform,": ",A.handle]}),g.jsx("button",{type:"button",onClick:()=>oe(w),className:"btn lala-btn-danger justify-center px-1 py-1",children:"Remove"})]},w))})]})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Order Items"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product"}),g.jsxs("select",{value:C.productId,onChange:A=>{const w=A.target.value,N=u.find(M=>M.id===w);I(M=>({...M,productId:w,price:N?Y({...M,productId:w}):0}))},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0,children:[g.jsx("option",{value:"",children:"Select a product"}),u.map(A=>g.jsx("option",{value:A.id,children:A.name},A.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quantity"}),g.jsx("input",{type:"number",value:C.quantity,onChange:A=>I(w=>({...w,quantity:parseInt(A.target.value)})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",min:"1",required:!0})]}),g.jsx("div",{className:"col-span-2",children:g.jsxs("div",{className:"text-sm text-gray-500",children:["Price: ₦",Y(C).toFixed(2)]})})]}),g.jsx("button",{type:"button",onClick:ne,className:"rounded-md bg-[#6A7861] px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-[#5a6852]",children:"Add Item"}),T.items.length>0&&g.jsxs("div",{className:"mt-4",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Added Items"}),g.jsx("div",{className:"mt-2 space-y-2",children:T.items.map((A,w)=>{const N=u.find(M=>M.id===A.productId);return g.jsxs("div",{className:"flex items-center justify-between text-sm",children:[g.jsxs("span",{children:[N==null?void 0:N.name," x ",A.quantity," - ₦",(A.price*A.quantity).toFixed(2)]}),g.jsx("button",{type:"button",onClick:()=>{x(M=>({...M,items:M.items.filter((U,O)=>O!==w)}))},className:"text-red-600 hover:text-red-800",children:"Remove"})]},w)})})]})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Shipping Address"}),g.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Street"}),g.jsx("input",{type:"text",value:T.shippingAddress.street,onChange:A=>x(w=>({...w,shippingAddress:{...w.shippingAddress,street:A.target.value}})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),g.jsx("input",{type:"text",value:T.shippingAddress.city,onChange:A=>x(w=>({...w,shippingAddress:{...w.shippingAddress,city:A.target.value}})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),g.jsx("input",{type:"text",value:T.shippingAddress.state,onChange:A=>x(w=>({...w,shippingAddress:{...w.shippingAddress,state:A.target.value}})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),g.jsx("input",{type:"text",value:T.shippingAddress.country,onChange:A=>x(w=>({...w,shippingAddress:{...w.shippingAddress,country:A.target.value}})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Postal Code"}),g.jsx("input",{type:"text",value:T.shippingAddress.postalCode,onChange:A=>x(w=>({...w,shippingAddress:{...w.shippingAddress,postalCode:A.target.value}})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0})]})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Payment Information"}),g.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Amount Paid for Products"}),g.jsx("input",{type:"number",value:T.totalAmountPaid,onChange:A=>x(w=>({...w,totalAmountPaid:parseFloat(A.target.value)})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",min:"0",step:"0.01",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount Paid for Shipping"}),g.jsx("input",{type:"number",value:T.shippingInfo.customerPaid,onChange:A=>x(w=>({...w,shippingInfo:{...w.shippingInfo,customerPaid:parseFloat(A.target.value)}})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",min:"0",step:"0.01",required:!0})]})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Order Source"}),g.jsx("div",{className:"grid grid-cols-1 gap-6",children:g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Where did this order come from?"}),g.jsx("select",{value:T.orderSource,onChange:A=>x(w=>({...w,orderSource:A.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",required:!0,children:Q.map(A=>g.jsx("option",{value:A,children:A.charAt(0).toUpperCase()+A.slice(1)},A))})]})})]}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:()=>_(!1),className:"rounded-md bg-white px-4 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:o,className:"rounded-md bg-[#6A7861] px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-[#5a6852] disabled:opacity-50",children:o?"Adding...":"Add Order"})]})]})]})}),g.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:g.jsx("div",{className:"px-4 py-5 sm:p-6",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Order ID"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Customer"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Items"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Total"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Date"}),g.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:g.jsx("span",{className:"sr-only",children:"Actions"})})]})}),g.jsx("tbody",{children:Z.map(A=>g.jsxs("tr",{children:[g.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:A.id}),g.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:A.customerName}),g.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:[A.items.length," items"]}),g.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:["₦",A.totalAmount.toFixed(2)]}),g.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:A.status}),g.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:new Date(A.orderDate).toLocaleDateString()}),g.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:g.jsx("button",{onClick:()=>i(`/orders/${A.id}`),className:"text-[#6A7861] hover:text-[#5a6852]",children:"View"})})]},A.id))})]})})})})]})}function sP(){const i=Tl(),{orders:e,isLoading:t}=Zx(),[s,o]=F.useState(),u=s==="all"?e:e.filter(h=>h.status===s);return t?g.jsx("div",{children:"Loading..."}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Shipping"}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("label",{htmlFor:"status",className:"text-sm font-medium text-gray-700",children:"Filter by status:"}),g.jsxs("select",{id:"status",value:s,onChange:h=>o(h.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-[#6A7861] focus:ring-[#6A7861] sm:text-sm",children:[g.jsx("option",{value:"all",children:"All Orders"}),g.jsx("option",{value:"processing",children:"Processing"}),g.jsx("option",{value:"shipped",children:"Shipped"}),g.jsx("option",{value:"delivered",children:"Delivered"}),g.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),g.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:g.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[g.jsx("h3",{className:"text-base font-semibold leading-6 text-gray-900",children:"Shipping Queue"}),g.jsx("div",{className:"mt-6 flow-root",children:g.jsx("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:g.jsx("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Order ID"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Customer"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Shipping Address"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Order Date"}),g.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:g.jsx("span",{className:"sr-only",children:"Actions"})})]})}),g.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(h=>g.jsxs("tr",{children:[g.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:h.id}),g.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:h.customerName}),g.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm"}),g.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:new Date(h.orderDate).toLocaleDateString()}),g.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:g.jsx("button",{onClick:()=>i(`/orders/${h.id}`),className:"text-[#6A7861] hover:text-[#5a6852]",children:"View"})})]},h.id))})]})})})})]})})]})}function aP(){const{isAdmin:i}=Ol(),{laborCosts:e,isLoading:t,isAdding:s,addLaborCost:o,calculateTotalMonthlyLaborCost:u,calculateTotalLaborDays:h,calculateDailyRate:f}=wf(),[p,y]=F.useState(!1),[_,T]=F.useState({employeeName:"",monthlySalary:0,daysWorked:0,hoursPerDay:8,startDate:new Date}),x=async C=>{C.preventDefault(),await o(_),y(!1),T({employeeName:"",monthlySalary:0,daysWorked:0,hoursPerDay:8,startDate:new Date})};return t?g.jsx("div",{children:"Loading..."}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Labor Costs"}),i&&g.jsx("button",{onClick:()=>y(!0),className:"btn lala-btn justify-center px-1 py-1",children:"Add Employee"})]}),p&&g.jsxs("div",{className:"bg-white shadow sm:rounded-lg p-6",children:[g.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Employee"}),g.jsxs("form",{onSubmit:x,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"employeeName",className:"block text-sm font-medium text-gray-700",children:"Employee Name"}),g.jsx("input",{type:"text",id:"employeeName",value:_.employeeName,onChange:C=>T({..._,employeeName:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"monthlySalary",className:"block text-sm font-medium text-gray-700",children:"Monthly Salary"}),g.jsx("input",{type:"number",id:"monthlySalary",value:_.monthlySalary,onChange:C=>T({..._,monthlySalary:Number(C.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0,min:"0",step:"0.01"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"daysWorked",className:"block text-sm font-medium text-gray-700",children:"Days Worked per Month"}),g.jsx("input",{type:"number",id:"daysWorked",value:_.daysWorked,onChange:C=>T({..._,daysWorked:Number(C.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0,min:"0",max:"31",step:"1"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"hoursPerDay",className:"block text-sm font-medium text-gray-700",children:"Hours per Day"}),g.jsx("input",{type:"number",id:"hoursPerDay",value:_.hoursPerDay,onChange:C=>T({..._,hoursPerDay:Number(C.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0,min:"1",max:"24",step:"1"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Start Date"}),g.jsx("input",{type:"date",id:"startDate",value:_.startDate.toISOString().split("T")[0],onChange:C=>T({..._,startDate:new Date(C.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0})]}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:()=>y(!1),className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:s,className:"btn lala-btn justify-center px-1 py-1",children:s?"Adding...":"Add Employee"})]})]})]}),g.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:g.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[g.jsx("h3",{className:"text-base font-semibold leading-6 text-gray-900",children:"Labor Costs List"}),g.jsx("div",{className:"mt-6 flow-root",children:g.jsx("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:g.jsx("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Employee"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Monthly Salary"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Days Worked"}),g.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Daily Rate"}),g.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:g.jsx("span",{className:"sr-only",children:"Actions"})})]})}),g.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(C=>g.jsxs("tr",{children:[g.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:C.employeeName}),g.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:["₦",C.monthlySalary.toFixed(2)]}),g.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:C.daysWorked}),g.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:["₦",(C.monthlySalary/C.daysWorked).toFixed(2)]}),g.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:g.jsx("button",{className:"text-primary-600 hover:text-primary-900",children:"Edit"})})]},C.id))})]})})})})]})}),g.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:g.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[g.jsx("h3",{className:"text-base font-semibold leading-6 text-gray-900",children:"Summary"}),g.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[g.jsx("p",{className:"text-sm text-gray-500",children:"Total Monthly Labor Cost"}),g.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["₦",u().toFixed(2)]})]}),g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[g.jsx("p",{className:"text-sm text-gray-500",children:"Total Labor Days"}),g.jsx("p",{className:"text-lg font-semibold text-gray-900",children:h()})]}),g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[g.jsx("p",{className:"text-sm text-gray-500",children:"Average Daily Rate"}),g.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["₦",f().toFixed(2)]})]})]})]})})]})}const oP=()=>g.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Button Examples"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Standard Buttons"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"These are the standard buttons with the sage green theme color."}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("button",{className:"btn",children:"Standard Button"}),g.jsx("p",{className:"text-sm text-gray-500 mt-2",children:g.jsx("code",{children:'className="btn"'})})]}),g.jsxs("div",{children:[g.jsx("button",{className:"btn text-lg py-3 px-6",children:"Large Button"}),g.jsx("p",{className:"text-sm text-gray-500 mt-2",children:g.jsx("code",{children:'className="btn text-lg py-3 px-6"'})})]}),g.jsxs("div",{children:[g.jsx("button",{className:"btn text-xs py-1 px-2",children:"Small Button"}),g.jsx("p",{className:"text-sm text-gray-500 mt-2",children:g.jsx("code",{children:'className="btn text-xs py-1 px-2"'})})]}),g.jsxs("div",{children:[g.jsx("button",{className:"btn",disabled:!0,children:"Disabled Button"}),g.jsx("p",{className:"text-sm text-gray-500 mt-2",children:g.jsx("code",{children:'className="btn" disabled'})})]}),g.jsxs("div",{children:[g.jsx("button",{type:"submit",className:"btn w-full",children:"Submit Button"}),g.jsx("p",{className:"text-sm text-gray-500 mt-2",children:g.jsx("code",{children:'className="btn w-full"'})})]})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Secondary Buttons"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Secondary buttons also use the sage green theme."}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("button",{className:"btn-secondary",children:"Secondary Button"}),g.jsx("p",{className:"text-sm text-gray-500 mt-2",children:g.jsx("code",{children:'className="btn-secondary"'})})]}),g.jsxs("div",{children:[g.jsx("button",{className:"btn-secondary text-lg py-3 px-6",children:"Large Secondary"}),g.jsx("p",{className:"text-sm text-gray-500 mt-2",children:g.jsx("code",{children:'className="btn-secondary text-lg py-3 px-6"'})})]}),g.jsxs("div",{children:[g.jsx("button",{className:"btn-secondary text-xs py-1 px-2",children:"Small Secondary"}),g.jsx("p",{className:"text-sm text-gray-500 mt-2",children:g.jsx("code",{children:'className="btn-secondary text-xs py-1 px-2"'})})]}),g.jsxs("div",{children:[g.jsx("button",{className:"btn-secondary",disabled:!0,children:"Disabled Secondary"}),g.jsx("p",{className:"text-sm text-gray-500 mt-2",children:g.jsx("code",{children:'className="btn-secondary" disabled'})})]})]})]})]}),g.jsxs("div",{className:"mt-12 bg-white p-6 rounded-lg shadow-md",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Button Usage Guide"}),g.jsxs("div",{className:"prose max-w-none",children:[g.jsx("p",{children:"To use these buttons in your components:"}),g.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Basic Usage"}),g.jsx("pre",{className:"bg-gray-100 p-3 rounded-md overflow-x-auto",children:g.jsx("code",{children:`// Primary button
<button className="btn">Click Me</button>

// Secondary button
<button className="btn-secondary">Click Me</button>`})}),g.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Using Theme Colors Directly"}),g.jsx("pre",{className:"bg-gray-100 p-3 rounded-md overflow-x-auto",children:g.jsx("code",{children:`// Using primary color
<div className="bg-primary text-white">Primary background</div>

// Using a shade of primary
<div className="bg-primary-100">Light primary background</div>
<div className="text-primary-800">Dark primary text</div>`})}),g.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Button Variations"}),g.jsx("pre",{className:"bg-gray-100 p-3 rounded-md overflow-x-auto",children:g.jsx("code",{children:`// Width variations
<button className="btn w-full">Full width button</button>
<button className="btn w-auto">Auto width button</button>

// Size variations
<button className="btn text-xs py-1 px-2">Small button</button>
<button className="btn text-lg py-3 px-6">Large button</button>`})})]})]}),g.jsxs("div",{className:"mt-12 bg-white p-6 rounded-lg shadow-md",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Color Palette Reference"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Here are the available shades of our primary color."}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[g.jsxs("div",{children:[g.jsx("div",{className:"h-16 bg-primary-50 rounded-t-md"}),g.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:g.jsx("code",{className:"text-xs",children:"primary-50"})})]}),g.jsxs("div",{children:[g.jsx("div",{className:"h-16 bg-primary-100 rounded-t-md"}),g.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:g.jsx("code",{className:"text-xs",children:"primary-100"})})]}),g.jsxs("div",{children:[g.jsx("div",{className:"h-16 bg-primary-200 rounded-t-md"}),g.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:g.jsx("code",{className:"text-xs",children:"primary-200"})})]}),g.jsxs("div",{children:[g.jsx("div",{className:"h-16 bg-primary-300 rounded-t-md"}),g.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:g.jsx("code",{className:"text-xs",children:"primary-300"})})]}),g.jsxs("div",{children:[g.jsx("div",{className:"h-16 bg-primary-400 rounded-t-md"}),g.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:g.jsx("code",{className:"text-xs",children:"primary-400"})})]}),g.jsxs("div",{children:[g.jsx("div",{className:"h-16 bg-primary rounded-t-md"}),g.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:g.jsx("code",{className:"text-xs",children:"primary"})})]}),g.jsxs("div",{children:[g.jsx("div",{className:"h-16 bg-primary-600 rounded-t-md"}),g.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:g.jsx("code",{className:"text-xs",children:"primary-600"})})]}),g.jsxs("div",{children:[g.jsx("div",{className:"h-16 bg-primary-700 rounded-t-md"}),g.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:g.jsx("code",{className:"text-xs",children:"primary-700"})})]}),g.jsxs("div",{children:[g.jsx("div",{className:"h-16 bg-primary-800 rounded-t-md"}),g.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:g.jsx("code",{className:"text-xs",children:"primary-800"})})]}),g.jsxs("div",{children:[g.jsx("div",{className:"h-16 bg-primary-900 rounded-t-md"}),g.jsx("div",{className:"bg-gray-100 py-2 px-3 rounded-b-md",children:g.jsx("code",{className:"text-xs",children:"primary-900"})})]})]})]})]}),lP=new bC;function uP(){return g.jsx(SC,{client:lP,children:g.jsx(WM,{children:g.jsx(WR,{children:g.jsx("div",{className:"h-full",children:g.jsxs(CR,{children:[g.jsx(si,{path:"/signin",element:g.jsx(ZM,{})}),g.jsx(si,{path:"/",element:g.jsx(gr,{children:g.jsx(yr,{children:g.jsx(JM,{})})})}),g.jsx(si,{path:"/products",element:g.jsx(gr,{children:g.jsx(yr,{children:g.jsx(eP,{})})})}),g.jsx(si,{path:"/products/:id",element:g.jsx(gr,{children:g.jsx(yr,{children:g.jsx(tP,{})})})}),g.jsx(si,{path:"/raw-materials",element:g.jsx(gr,{children:g.jsx(yr,{children:g.jsx(iP,{})})})}),g.jsx(si,{path:"/labor",element:g.jsx(gr,{children:g.jsx(yr,{children:g.jsx(aP,{})})})}),g.jsx(si,{path:"/purchases",element:g.jsx(gr,{children:g.jsx(yr,{children:g.jsx(nP,{})})})}),g.jsx(si,{path:"/orders",element:g.jsx(gr,{children:g.jsx(yr,{children:g.jsx(rP,{})})})}),g.jsx(si,{path:"/shipping",element:g.jsx(gr,{children:g.jsx(yr,{children:g.jsx(sP,{})})})}),g.jsx(si,{path:"/button-examples",element:g.jsx(gr,{children:g.jsx(yr,{children:g.jsx(oP,{})})})})]})})})})})}kS.createRoot(document.getElementById("root")).render(g.jsx(CS.StrictMode,{children:g.jsx(uP,{})}));
